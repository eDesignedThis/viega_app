!function(a){a.jqx=a.jqx||{},a.jqx.define=function(a,b,c){a[b]=function(){this.baseType&&(this.base=new a[this.baseType],this.base.defineInstance()),this.defineInstance()},a[b].prototype.defineInstance=function(){},a[b].prototype.base=null,a[b].prototype.baseType=void 0,c&&a[c]&&(a[b].prototype.baseType=c)},a.jqx.invoke=function(b,c){if(0!=c.length){for(var d=typeof c==Array||c.length>0?c[0]:c,e=typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):a({}).toArray();void 0==b[d]&&null!=b.base;){if(void 0!=b[d]&&a.isFunction(b[d]))return b[d].apply(b,e);if("string"==typeof d){var f=d.toLowerCase();if(void 0!=b[f]&&a.isFunction(b[f]))return b[f].apply(b,e)}b=b.base}if(void 0!=b[d]&&a.isFunction(b[d]))return b[d].apply(b,e);if("string"==typeof d){var f=d.toLowerCase();if(void 0!=b[f]&&a.isFunction(b[f]))return b[f].apply(b,e)}}},a.jqx.hasProperty=function(a,b){if("object"==typeof b)for(var c in b){for(var d=a;d;){if(d.hasOwnProperty(c))return!0;if(d.hasOwnProperty(c.toLowerCase()))return!0;d=d.base}return!1}else for(;a;){if(a.hasOwnProperty(b))return!0;if(a.hasOwnProperty(b.toLowerCase()))return!0;a=a.base}return!1},a.jqx.hasFunction=function(b,c){if(0==c.length)return!1;if(void 0==b)return!1;var d=typeof c==Array||c.length>0?c[0]:c;for(typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):{};void 0==b[d]&&null!=b.base;){if(b[d]&&a.isFunction(b[d]))return!0;if("string"==typeof d){var e=d.toLowerCase();if(b[e]&&a.isFunction(b[e]))return!0}b=b.base}if(b[d]&&a.isFunction(b[d]))return!0;if("string"==typeof d){var e=d.toLowerCase();if(b[e]&&a.isFunction(b[e]))return!0}return!1},a.jqx.isPropertySetter=function(b,c){return 1==c.length&&"object"==typeof c[0]?!0:2!=c.length||"string"!=typeof c[0]||a.jqx.hasFunction(b,c)?!1:!0},a.jqx.validatePropertySetter=function(b,c,d){if(!a.jqx.propertySetterValidation)return!0;if(1==c.length&&"object"==typeof c[0]){for(var e in c[0]){for(var f=b;!f.hasOwnProperty(e)&&f.base;)f=f.base;if(!f||!f.hasOwnProperty(e)){if(!d){var g=f.hasOwnProperty(e.toString().toLowerCase());if(g)return!0;throw"Invalid property: "+e}return!1}}return!0}if(2!=c.length){if(!d)throw"Invalid property: "+c.length>=0?c[0]:"";return!1}for(;!b.hasOwnProperty(c[0])&&b.base;)b=b.base;if(!b||!b.hasOwnProperty(c[0])){if(!d)throw"Invalid property: "+c[0];return!1}return!0},a.jqx.set=function(b,c){if(1==c.length&&"object"==typeof c[0])a.each(c[0],function(c,d){for(var e=b;!e.hasOwnProperty(c)&&null!=e.base;)e=e.base;if(e.hasOwnProperty(c))a.jqx.setvalueraiseevent(e,c,d);else if(e.hasOwnProperty(c.toLowerCase()))a.jqx.setvalueraiseevent(e,c.toLowerCase(),d);else if(a.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+c+"'"});else if(2==c.length){for(;!b.hasOwnProperty(c[0])&&b.base;)b=b.base;if(b.hasOwnProperty(c[0]))a.jqx.setvalueraiseevent(b,c[0],c[1]);else if(b.hasOwnProperty(c[0].toLowerCase()))a.jqx.setvalueraiseevent(b,c[0].toLowerCase(),c[1]);else if(a.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+c[0]+"'"}},a.jqx.setvalueraiseevent=function(a,b,c){var d=a[b];a[b]=c,a.isInitialized&&(void 0!=a.propertyChangedHandler&&a.propertyChangedHandler(a,b,d,c),void 0!=a.propertyChangeMap&&void 0!=a.propertyChangeMap[b]&&a.propertyChangeMap[b](a,b,d,c))},a.jqx.get=function(a,b){if(void 0==b||null==b)return void 0;if(a.propertyMap){var c=a.propertyMap(b);if(null!=c)return c}if(a.hasOwnProperty(b))return a[b];if(a.hasOwnProperty(b.toLowerCase()))return a[b.toLowerCase()];var d=void 0;if(typeof b==Array){if(1!=b.length)return void 0;d=b[0]}else"string"==typeof b&&(d=b);for(;!a.hasOwnProperty(d)&&a.base;)a=a.base;return a?a[d]:void 0},a.jqx.serialize=function(b){var c="";if(a.isArray(b)){c="[";for(var d=0;d<b.length;d++)d>0&&(c+=", "),c+=a.jqx.serialize(b[d]);c+="]"}else if("object"==typeof b){c="{";var e=0;for(var d in b)e++>0&&(c+=", "),c+=d+": "+a.jqx.serialize(b[d]);c+="}"}else c=b.toString();return c},a.jqx.propertySetterValidation=!0,a.jqx.jqxWidgetProxy=function(b,c,d){var e=(a(c),a.data(c,b));if(void 0==e)return void 0;var f=e.instance;if(a.jqx.hasFunction(f,d))return a.jqx.invoke(f,d);if(a.jqx.isPropertySetter(f,d)){if(a.jqx.validatePropertySetter(f,d))return void a.jqx.set(f,d)}else{if("object"==typeof d&&0==d.length)return;if("object"==typeof d&&1==d.length&&a.jqx.hasProperty(f,d[0]))return a.jqx.get(f,d[0]);if("string"==typeof d&&a.jqx.hasProperty(f,d[0]))return a.jqx.get(f,d)}throw"jqxCore: Invalid parameter '"+a.jqx.serialize(d)+"' does not exist."},a.jqx.applyWidget=function(b,c,d,e){var f=!1;try{f=void 0!=window.MSApp}catch(g){}var h=a(b);e?(e.host=h,e.element=b):e=new a.jqx["_"+c],""==b.id&&(b.id=a.jqx.utilities.createId());var i={host:h,element:b,instance:e};e.widgetName=c,a.data(b,c,i),a.data(b,"jqxWidget",i.instance);for(var j=new Array,e=i.instance;e;)e.isInitialized=!1,j.push(e),e=e.base;j.reverse(),j[0].theme=a.jqx.theme||"",a.jqx.jqxWidgetProxy(c,b,d);for(var k in j)e=j[k],0==k&&(e.host=h,e.element=b,e.WinJS=f),void 0!=e&&null!=e.createInstance&&(f?MSApp.execUnsafeLocalFunction(function(){e.createInstance(d)}):e.createInstance(d));for(var k in j)void 0!=j[k]&&(j[k].isInitialized=!0);f?MSApp.execUnsafeLocalFunction(function(){i.instance.refresh(!0)}):i.instance.refresh(!0)},a.jqx.jqxWidget=function(b,c,d){var e=!1;try{jqxArgs=Array.prototype.slice.call(d,0)}catch(f){jqxArgs=""}try{e=void 0!=window.MSApp}catch(f){}var g=b,h="";c&&(h="_"+c),a.jqx.define(a.jqx,"_"+g,h),a.fn[g]=function(){var b=Array.prototype.slice.call(arguments,0);if(0==b.length||1==b.length&&"object"==typeof b[0]){if(0==this.length)throw new Error(this.selector?"Invalid jQuery Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.":"Invalid jQuery Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var c=(a(this),this),d=a.data(c,g);null==d?a.jqx.applyWidget(c,g,b,void 0):a.jqx.jqxWidgetProxy(g,this,b)})}if(0==this.length)throw new Error(this.selector?"Invalid jQuery Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.":"Invalid jQuery Selector! Please, check whether the used ID or CSS Class name is correct.");var c=null,d=0;return this.each(function(){var e=a.jqx.jqxWidgetProxy(g,this,b);if(0==d)c=e,d++;else{if(1==d){var f=[];f.push(c),c=f}c.push(e)}}),c};try{a.extend(a.jqx["_"+g].prototype,Array.prototype.slice.call(d,0)[0])}catch(f){}a.extend(a.jqx["_"+g].prototype,{toThemeProperty:function(a,b){return""==this.theme?a:null!=b&&b?a+"-"+this.theme:a+" "+a+"-"+this.theme}}),a.jqx["_"+g].prototype.refresh=function(){this.base&&this.base.refresh(!0)},a.jqx["_"+g].prototype.createInstance=function(){},a.jqx["_"+g].prototype.applyTo=function(b,c){if(!(c instanceof Array)){var d=[];d.push(c),c=d}a.jqx.applyWidget(b,g,c,this)},a.jqx["_"+g].prototype.getInstance=function(){return this},a.jqx["_"+g].prototype.propertyChangeMap={},a.jqx["_"+g].prototype.addHandler=function(b,c,d,e){switch(c){case"mousewheel":if(window.addEventListener)return a.jqx.browser.mozilla?b[0].addEventListener("DOMMouseScroll",d,!1):b[0].addEventListener("mousewheel",d,!1),!1;break;case"mousemove":if(window.addEventListener&&!e)return b[0].addEventListener("mousemove",d,!1),!1}void 0==e||null==e?b.on?b.on(c,d):b.bind(c,d):b.on?b.on(c,e,d):b.bind(c,e,d)},a.jqx["_"+g].prototype.removeHandler=function(b,c,d){switch(c){case"mousewheel":if(window.removeEventListener)return a.jqx.browser.mozilla?b[0].removeEventListener("DOMMouseScroll",d,!1):b[0].removeEventListener("mousewheel",d,!1),!1;break;case"mousemove":d&&window.removeEventListener&&b[0].removeEventListener("mousemove",d,!1)}return void 0==c?void(b.off?b.off():b.unbind()):void(void 0==d?b.off?b.off(c):b.unbind(c):b.off?b.off(c,d):b.unbind(c,d))}},a.jqx.theme=a.jqx.theme||"",a.jqx.ready=function(){a(window).trigger("jqxReady")},a.jqx.init=function(){a.each(arguments[0],function(b,c){"theme"==b&&(a.jqx.theme=c),"scrollBarSize"==b&&(a.jqx.utilities.scrollBarSize=c),"touchScrollBarSize"==b&&(a.jqx.utilities.touchScrollBarSize=c),"scrollBarButtonsVisibility"==b&&(a.jqx.utilities.scrollBarButtonsVisibility=c)})},a.jqx.utilities=a.jqx.utilities||{},a.extend(a.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:10,scrollBarButtonsVisibility:"visible",createId:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+a()+a()},setTheme:function(b,c,d){if("undefined"!=typeof d){for(var e=d[0].className.split(" "),f=[],g=[],h=d.children(),i=0;i<e.length;i+=1)e[i].indexOf(b)>=0&&(b.length>0?(f.push(e[i]),g.push(e[i].replace(b,c))):g.push(e[i]+"-"+c));this._removeOldClasses(f,d),this._addNewClasses(g,d);for(var i=0;i<h.length;i+=1)this.setTheme(b,c,a(h[i]))}},_removeOldClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.removeClass(a[c])},_addNewClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.addClass(a[c])},getOffset:function(b){var c=a.jqx.mobile.getLeftPos(b[0]),d=a.jqx.mobile.getTopPos(b[0]);return{top:d,left:c}},resize:function(b,c,d,e){void 0===e&&(e=!0);var f=-1,g=this,h=function(a){if(!g.hiddenWidgets)return-1;for(var b=-1,c=0;c<g.hiddenWidgets.length;c++)if(a.id){if(g.hiddenWidgets[c].id==a.id){b=c;break}}else if(g.hiddenWidgets[c].id==a[0].id){b=c;break}return b};if(this.resizeHandlers){for(var i=0;i<this.resizeHandlers.length;i++)if(b.id){if(this.resizeHandlers[i].id==b.id){f=i;break}}else if(this.resizeHandlers[i].id==b[0].id){f=i;break}if(d===!0){if(-1!=f&&this.resizeHandlers.splice(f,1),0==this.resizeHandlers.length){var j=a(window);j.off?(j.off("resize.jqx"),j.off("orientationchange.jqx"),j.off("orientationchanged.jqx")):(j.unbind("resize.jqx"),j.unbind("orientationchange.jqx"),j.unbind("orientationchanged.jqx")),this.resizeHandlers=null}var k=h(b);return void(-1!=k&&this.hiddenWidgets&&this.hiddenWidgets.splice(k,1))}}else if(d===!0){var k=h(b);return void(-1!=k&&this.hiddenWidgets&&this.hiddenWidgets.splice(k,1))}var g=this,l=function(b,c){if(g.resizeHandlers){var d=function(a){for(var b=-1,c=a.parentNode;c;)b++,c=c.parentNode;return b},e=function(a,b){if(!a.widget||!b.widget)return 0;var c=d(a.widget[0]),e=d(b.widget[0]);try{if(e>c)return-1;if(c>e)return 1}catch(f){}return 0};g.hiddenWidgets=new Array,g.resizeHandlers.sort(e);for(var f=0;f<g.resizeHandlers.length;f++){var i=g.resizeHandlers[f],j=i.widget,k=i.data;if(k&&k.jqxWidget){var l=k.jqxWidget.width,m=k.jqxWidget.height;k.jqxWidget.base&&(void 0==l&&(l=k.jqxWidget.base.width),void 0==m&&(m=k.jqxWidget.base.height));var n=!1;null!=l&&-1!=l.toString().indexOf("%")&&(n=!0),null!=m&&-1!=m.toString().indexOf("%")&&(n=!0),a.jqx.isHidden(j)?-1===h(j)&&(n||b===!0)&&i.data.nestedWidget!==!0&&g.hiddenWidgets.push(i):(void 0===b||b!==!0)&&n&&(i.callback(c),g.hiddenWidgets.indexOf(i)>=0&&g.hiddenWidgets.splice(g.hiddenWidgets.indexOf(i),1))}}g.hiddenWidgets.length>0&&(g.hiddenWidgets.sort(e),g.__resizeInterval&&clearInterval(g.__resizeInterval),g.__resizeInterval=setInterval(function(){for(var b=!1,d=new Array,e=0;e<g.hiddenWidgets.length;e++){var f=g.hiddenWidgets[e];a.jqx.isHidden(f.widget)?(b=!0,d.push(f)):f.callback&&f.callback(c)}g.hiddenWidgets=d,b||clearInterval(g.__resizeInterval)},100))}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var j=a(window);j.on?(this._resizeTimer=null,j.on("resize.jqx",function(){void 0!=g._resizeTimer&&clearTimeout(g._resizeTimer),g._resizeTimer=setTimeout(function(){l(null,"resize")},10)}),j.on("orientationchange.jqx",function(){l(null,"orientationchange")}),j.on("orientationchanged.jqx",function(){l(null,"orientationchange")})):(j.bind("resize.jqx",function(){l(null,"orientationchange")}),j.bind("orientationchange.jqx",function(){l(null,"orientationchange")}),j.bind("orientationchanged.jqx",function(){l(null,"orientationchange")}))}e&&-1===f&&this.resizeHandlers.push({id:b[0].id,widget:b,callback:c,data:b.data()}),a.jqx.isHidden(b)&&e===!0&&l(!0)},html:function(b,c){if(!a(b).on)return a(b).html(c);try{return jQuery.access(b,function(a){var c=b[0]||{},d=0,e=b.length;if(void 0===a)return 1===c.nodeType?c.innerHTML.replace(rinlinejQuery,""):void 0;var f=/<(?:script|style|link)/i,g="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",h=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,i=/<([\w:]+)/,j=new RegExp("<(?:"+g+")[\\s/>]","i"),k=/^\s+/,l={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if(!("string"!=typeof a||f.test(a)||!jQuery.support.htmlSerialize&&j.test(a)||!jQuery.support.leadingWhitespace&&k.test(a)||l[(i.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(h,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(jQuery.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(m){}}c&&b.empty().append(a)},null,c,arguments.length)}catch(d){return a(b).html(c)}},hasTransform:function(b){var c="";if(c=b.css("transform"),""==c||"none"==c){if(c=b.parents().css("transform"),""!=c&&"none"!=c)return""!=c&&"none"!=c;var d=a.jqx.utilities.getBrowser();"msie"==d.browser?(c=b.css("-ms-transform"),(""==c||"none"==c)&&(c=b.parents().css("-ms-transform"))):"chrome"==d.browser?(c=b.css("-webkit-transform"),(""==c||"none"==c)&&(c=b.parents().css("-webkit-transform"))):"opera"==d.browser?(c=b.css("-o-transform"),(""==c||"none"==c)&&(c=b.parents().css("-o-transform"))):"mozilla"==d.browser&&(c=b.css("-moz-transform"),(""==c||"none"==c)&&(c=b.parents().css("-moz-transform")))}return(""==c||"none"==c)&&(c=a(document.body).css("transform")),""!=c&&"none"!=c&&null!=c},getBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c={browser:b[1]||"",version:b[2]||"0"};return a.indexOf("rv:11.0")>=0&&a.indexOf(".net4.0c")>=0&&(c.browser="msie",c.version="11",b[1]="msie"),c[b[1]]=b[1],c}}),a.jqx.browser=a.jqx.utilities.getBrowser(),a.jqx.isHidden=function(a){try{var b=a[0].offsetWidth,c=a[0].offsetHeight;return 0===b||0===c?!0:!1}catch(d){return!1}},a.jqx.ariaEnabled=!0,a.jqx.aria=function(b,c,d){if(a.jqx.ariaEnabled)if(void 0==c)a.each(b.aria,function(c,d){var e=b.base?b.base.host.attr(c):b.host.attr(c);if(void 0==e||a.isFunction(e)){var e=b[d.name];a.isFunction(e)&&(e=b[d.name]()),void 0==e&&(e="");try{b.base?b.base.host.attr(c,e.toString()):b.host.attr(c,e.toString())}catch(f){}}else{var g=e;switch(d.type){case"number":g=new Number(e),isNaN(g)&&(g=e);break;case"boolean":g="true"==e?!0:!1;break;case"date":g=new Date(e),("Invalid Date"==g||isNaN(g))&&(g=e)}b[d.name]=g}});else try{b.host?b.base?b.base.host?b.base.host.attr(c,d.toString()):b.attr(c,d.toString()):b.host?b.element.setAttribute?b.element.setAttribute(c,d.toString()):b.host.attr(c,d.toString()):b.attr(c,d.toString()):b.setAttribute&&b.setAttribute(c,d.toString())}catch(e){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),a.jqx.mobile=a.jqx.mobile||{},a.jqx.position=function(b){var c=parseInt(b.pageX),d=parseInt(b.pageY);if(a.jqx.mobile.isTouchDevice()){var e=a.jqx.mobile.getTouches(b),f=e[0];c=parseInt(f.pageX),d=parseInt(f.pageY)}return{left:c,top:d}},a.extend(a.jqx.mobile,{_touchListener:function(a){var b=function(a,b){var c=document.createEvent("MouseEvents");return c.initMouseEvent(a,b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget),c._pageX=b.pageX,c._pageY=b.pageY,c},c={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},d=b(c[a.type],a);a.target.dispatchEvent(d);var e=a.target["on"+c[a.type]];"function"==typeof e&&e(a)},setMobileSimulator:function(b,c){if(!this.isTouchDevice()){this.simulatetouches=!0,0==c&&(this.simulatetouches=!1);var d={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},e=this;if(window.addEventListener){var f=function(){for(var a in d)b.addEventListener&&(b.removeEventListener(a,e._touchListener),b.addEventListener(a,e._touchListener,!1))};a.jqx.browser.msie,f()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var a="Browser CodeName: "+navigator.appCodeName;if(a+="Browser Name: "+navigator.appName,a+="Browser Version: "+navigator.appVersion,a+="Platform: "+navigator.platform,a+="User-agent header: "+navigator.userAgent,-1!=a.indexOf("Android"))return!0;if(-1!=a.indexOf("IEMobile"))return!0;if(-1!=a.indexOf("Windows Phone"))return!0;if(-1!=a.indexOf("WPDesktop"))return!0;if(-1!=a.indexOf("ZuneWP7"))return!0;if(-1!=a.indexOf("BlackBerry")&&-1!=a.indexOf("Mobile Safari"))return!0;if(-1!=a.indexOf("ipod"))return!0;if(-1!=a.indexOf("nokia")||-1!=a.indexOf("Nokia"))return!0;if(-1!=a.indexOf("Chrome/17"))return!1;if(-1!=a.indexOf("CrOS"))return!1;if(-1!=a.indexOf("Opera")&&-1==a.indexOf("Mobi")&&-1==a.indexOf("Mini")&&-1!=a.indexOf("Platform: Win"))return!1;if(-1!=a.indexOf("Opera")&&-1!=a.indexOf("Mobi")&&-1!=a.indexOf("Opera Mobi"))return!0;var b={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in b)if(b.hasOwnProperty(i)&&(prefix=b[i],match=a.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(navigator.userAgent.indexOf("Touch")>=0){var c="MSPointerDown"in window;return c?(this.touchDevice=!0,!0):navigator.userAgent.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(d){return this.touchDevice=!1,!1}},getLeftPos:function(a){for(var b=a.offsetLeft;null!=(a=a.offsetParent);)"HTML"!=a.tagName&&(b+=a.offsetLeft,document.all&&(b+=a.clientLeft));return b},getTopPos:function(b){for(var c=b.offsetTop,d=a(b).coord();null!=(b=b.offsetParent);)"HTML"!=b.tagName&&(c+=b.offsetTop-b.scrollTop,document.all&&(c+=b.clientTop));var e=navigator.userAgent.toLowerCase(),f=(-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10"))&&-1!=e.indexOf("touch");if(f)return d.top;if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser())return c;if(-1!=e.indexOf("version/7"))return d.top;c+=a(window).scrollTop()}return c},isChromeMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("android");return b},isOperaMiniMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("opera mini")||-1!=a.indexOf("opera mobi");return b},isOperaMiniBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("opera mini");return b},isNewSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/5")},isSafari4MobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/4")},isWindowsPhone:function(){var a=navigator.userAgent.toLowerCase(),b=(-1!=a.indexOf("windows phone")||-1!=a.indexOf("WPDesktop")||-1!=a.indexOf("ZuneWP7")||-1!=a.indexOf("msie 9")||-1!=a.indexOf("msie 11")||-1!=a.indexOf("msie 10"))&&-1!=a.indexOf("touch");return b},isSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b},isIPadSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad");return b},isMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("android");return b},getTouches:function(a){if(a.originalEvent){if(a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches;if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.changedTouches}return a.touches||(a.touches=new Array,a.touches[0]=void 0!=a.originalEvent?a.originalEvent:a,void 0!=a.originalEvent&&a.pageX&&(a.touches[0]=a),"mousemove"==a.type&&(a.touches[0]=a)),a.touches},getTouchEventName:function(a){return this.isWindowsPhone()?-1!=a.toLowerCase().indexOf("start")?"MSPointerDown":-1!=a.toLowerCase().indexOf("move")?"MSPointerMove":-1!=a.toLowerCase().indexOf("end")?"MSPointerUp":void 0:a},dispatchMouseEvent:function(a,b,c){if(!this.simulatetouches){var d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,b.view,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),null!=c&&c.dispatchEvent(d)}},getRootNode:function(a){for(;1!==a.nodeType;)a=a.parentNode;return a},setTouchScroll:function(a,b){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[b]=a},touchScroll:function(b,c,d,e,f,g){if(null!=b){var h=this,i=0,j=0,k=0,l=0,m=0,n=0;this.scrolling||(this.scrolling=[]),this.scrolling[e]=!1;var o=!1,p=a(b),q=["select","input","textarea"],r=0,s=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[e]=!0;var e=e,t=this.getTouchEventName("touchstart")+".touchScroll",u=this.getTouchEventName("touchend")+".touchScroll",v=this.getTouchEventName("touchmove")+".touchScroll",r=function(b){if(!h.enableScrolling[e])return!0;if(-1===a.inArray(b.target.tagName.toLowerCase(),q)){var c=h.getTouches(b),d=c[0];return 1==c.length&&h.dispatchMouseEvent("mousedown",d,h.getRootNode(d.target)),o=!1,j=d.pageY,m=d.pageX,h.simulatetouches&&(j=d._pageY,m=d._pageX),h.scrolling[e]=!0,i=0,l=0,!0}};p.on?p.on(t,r):p.bind(t,r);var w=function(a){if(!h.enableScrolling[e])return!0;if(!h.scrolling[e])return!0;var b=h.getTouches(a);if(b.length>1)return!0;var c=b[0].pageY,p=b[0].pageX;h.simulatetouches&&(c=b[0]._pageY,p=b[0]._pageX);var q=c-j,r=p-m;s=c,touchHorizontalEnd=p,k=q-i,n=r-l,o=!0,i=q,l=r;var t=null!=f?"hidden"!=f[0].style.visibility:!0,u=null!=g?"hidden"!=g[0].style.visibility:!0;return(t||u)&&(0!==n&&t||0!==k&&u)?(d(1*-n,1*-k,r,q,a),a.preventDefault(),a.stopPropagation(),a.preventManipulation&&a.preventManipulation(),!1):void 0};if(p.on?p.on(v,w):p.bind(v,w),this.simulatetouches){var x=(void 0!=a(window).on||a(window).bind,function(){h.scrolling[e]=!1});if(void 0!=a(window).on?a(document).on("mouseup.touchScroll",x):a(document).bind("mouseup.touchScroll",x),window.frameElement&&null!=window.top){var y=function(){h.scrolling[e]=!1};window.top.document&&(a(window.top.document).on?a(window.top.document).on("mouseup",y):a(window.top.document).bind("mouseup",y))}var z=(void 0!=a(document).on||a(document).bind,function(a){if(!h.scrolling[e])return!0;h.scrolling[e]=!1;var b=h.getTouches(a)[0],c=h.getRootNode(b.target);h.dispatchMouseEvent("mouseup",b,c),h.dispatchMouseEvent("click",b,c)});void 0!=a(document).on?a(document).on("touchend",z):a(document).bind("touchend",z)}var A=function(a){if(!h.enableScrolling[e])return!0;var b=h.getTouches(a)[0];if(!h.scrolling[e])return!0;if(h.scrolling[e]=!1,!o){var b=h.getTouches(a)[0],c=h.getRootNode(b.target);return h.dispatchMouseEvent("mouseup",b,c),h.dispatchMouseEvent("click",b,c),!0}h.dispatchMouseEvent("mouseup",b,c)};p.on&&(p.on("dragstart",function(a){a.preventDefault()}),p.on("selectstart",function(a){a.preventDefault()})),p.on?p.on(u+" touchcancel.touchScroll",A):p.bind(u+" touchcancel.touchScroll",A)}}}),a.jqx.cookie=a.jqx.cookie||{},a.extend(a.jqx.cookie,{cookie:function(a,b,c){if(arguments.length>1&&"[object Object]"!==String(b)){if(c=jQuery.extend({},c),(null===b||void 0===b)&&(c.expires=-1),"number"==typeof c.expires){var d=c.expires,e=c.expires=new Date;e.setDate(e.getDate()+d)}return b=String(b),document.cookie=[encodeURIComponent(a),"=",c.raw?b:encodeURIComponent(b),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=b||{};var f,g=c.raw?function(a){return a}:decodeURIComponent;return(f=new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?g(f[1]):null}}),a.jqx.string=a.jqx.string||{},a.extend(a.jqx.string,{replace:function(a,b,c){if(b===c)return this;for(var d=a,e=d.indexOf(b);-1!=e;)d=d.replace(b,c),e=d.indexOf(b);return d},contains:function(a,b){return null==a||null==b?!1:-1!=a.indexOf(b)},containsIgnoreCase:function(a,b){return null==a||null==b?!1:-1!=a.toUpperCase().indexOf(b.toUpperCase())},equals:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),b.length==a.length?a.slice(0,b.length)==b:!1)},equalsIgnoreCase:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),b.length==a.length?a.toUpperCase().slice(0,b.length)==b.toUpperCase():!1)},startsWith:function(a,b){return null==a||null==b?!1:a.slice(0,b.length)==b},startsWithIgnoreCase:function(a,b){return null==a||null==b?!1:a.toUpperCase().slice(0,b.length)==b.toUpperCase()},normalize:function(a){return 65279==a.charCodeAt(a.length-1)&&(a=a.substring(0,a.length-1)),a},endsWith:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),a.slice(-b.length)==b)},endsWithIgnoreCase:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),a.toUpperCase().slice(-b.length)==b.toUpperCase())}}),a.extend(jQuery.easing,{easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c}})}(jQuery),function(a){a.extend(jQuery.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),a.fn.extend({ischildof:function(b){for(var c=a(this).parents().get(),d=0;d<c.length;d++)if("string"!=typeof b){var e=c[d];if(void 0!==b&&e==b[0])return!0}else if(void 0!==b&&a(c[d]).is(b))return!0;return!1}}),a.fn.jqxProxy=function(){var b=a(this).data().jqxWidget,c=Array.prototype.slice.call(arguments,0);return a.jqx.jqxWidgetProxy(b.widgetName,b.element,c)};var b=this.originalVal=a.fn.val;a.fn.val=function(c){if("undefined"==typeof c){if(a(this).hasClass("jqx-widget")){var d=a(this).data().jqxWidget;if(d&&d.val)return d.val()}return b.call(this)}if(a(this).hasClass("jqx-widget")){var d=a(this).data().jqxWidget;if(d&&d.val)return 2!=arguments.length?d.val(c):d.val(c,arguments[1])}return b.call(this,c)},a.fn.coord=function(b){var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g){if(c=g.documentElement,!jQuery.contains(c,f))return e;void 0!==typeof f.getBoundingClientRect&&(e=f.getBoundingClientRect());var h=function(a){return jQuery.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1};d=h(g);var i=0,j=0,k=navigator.userAgent.toLowerCase(),l=-1!=k.indexOf("ipad")||-1!=k.indexOf("iphone");if(l&&(i=2),1==b&&"static"!=a(document.body).css("position")){var m=a(document.body).coord();i=-m.left,j=-m.top}return{top:j+e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:i+e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}}}}(jQuery),function(a){a.jqx.jqxWidget("jqxProgressBar","",{}),a.extend(a.jqx._jqxProgressBar.prototype,{defineInstance:function(){this.value=0,this.oldValue=null,this.max=100,this.min=0,this.orientation="horizontal",this.layout="normal",this.width=null,this.height=null,this.showText=!1,this.animationDuration=300,this.disabled=!1,this.rtl=!1,this.renderText=null,this.aria={"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},this.events=["valuechanged","invalidvalue","complete"]},createInstance:function(){var b=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),a.jqx.aria(this),this.host.width(null!=this.width&&-1!=this.width.toString().indexOf("px")?this.width:void 0==this.width||isNaN(this.width)?this.width:this.width),this.host.height(null!=this.height&&-1!=this.height.toString().indexOf("px")?this.height:void 0==this.height||isNaN(this.height)?this.height:this.height),this.valueDiv=a("<div></div>").appendTo(this.element),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical"))),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.feedbackElementHost=a("<div style='width: 100%; height: 100%; position: relative;'></div>").appendTo(this.host),this.feedbackElement=a("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),a.jqx.utilities.resize(this.host,function(){b.refresh()})},resize:function(a,b){this.width=a,this.height=b,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(a,b,c){if(void 0!=this.isInitialized&&1==this.isInitialized){var d=this.events[a],e=new jQuery.Event(d);e.previousValue=b,e.currentValue=c,e.owner=this;var f=this.host.trigger(e);return f}},actualValue:function(b){return void 0===b?this._value():(a.jqx.aria(this,"aria-valuenow",b),a.jqx.setvalueraiseevent(this,"value",b),this._value())},val:function(a){return 0==arguments.length||"object"==typeof a?this.actualValue():this.actualValue(a)},propertyChangedHandler:function(b,c,d,e){if(this.isInitialized){var f=this;"min"==c&&b.value<e?b.value=e:"max"==c&&b.value>e&&(b.value=e),"value"===c&&void 0!=f.value&&(f.value=e,f.oldValue=d,a.jqx.aria(b,"aria-valuenow",e),(e<f.min||e>f.max)&&f._raiseevent(1,d,e),f.refresh()),"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host),"renderText"==c||"orientation"==c||"layout"==c||"showText"==c||"min"==c||"max"==c?f.refresh():"width"==c&&void 0!=f.width?void 0==f.width||isNaN(f.width)||(f.host.width(f.width),f.refresh()):"height"==c&&void 0!=f.height&&(void 0==f.height||isNaN(f.height)||(f.host.height(f.height),f.refresh())),"disabled"==c&&f.refresh()}},_value:function(){var a=this.value;if("number"!=typeof a){var b=parseInt(a);a=isNaN(b)?0:b
}return Math.min(this.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.max},_textwidth:function(b){var c=a("<span>"+b+"</span>");a(this.host).append(c);var d=c.width();return c.remove(),d},_textheight:function(b){var c=a("<span>"+b+"</span>");a(this.host).append(c);var d=c.height();return c.remove(),d},_initialRender:!0,refresh:function(){var b=this.actualValue(),c=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),a(this.element.children[0]).show(),!isNaN(b)&&!isNaN(c)){this.oldValue!==b&&(this._raiseevent(0,this.oldValue,b),this.oldValue=b);var d=this.oldValue,e=this.host.outerHeight(),f=this.host.outerWidth();null!=this.width&&(f=parseInt(this.width)),null!=this.height&&(e=parseInt(this.height));{var g=parseInt(this.host.outerWidth())/2;parseInt(this.host.outerHeight())/2}isNaN(c)&&(c=0);var h=this;try{var i=this.element.children[0];if(a(i)[0].style.position="relative","horizontal"==this.orientation){a(i).toggle(b>=this.min);var f=this.host.outerWidth()*c/100,j=0;("reverse"==this.layout||this.rtl)&&(this._initialRender&&(a(i)[0].style.left=this.host.width()+"px",a(i)[0].style.width=0),j=this.host.outerWidth()-f),a(i).animate({width:f,left:j+"px"},this.animationDuration,function(){h._value()===h.max&&h._raiseevent(2,d,h.max)}),this.feedbackElementHost.css("margin-top",-this.host.height())}else{a(i).toggle(b>=this.min);var e=this.host.height()*c/100,k=0;"reverse"==this.layout&&(this._initialRender&&(a(i)[0].style.top=this.host.height()+"px",a(i)[0].style.height=0),k=this.host.height()-e),this.feedbackElementHost.animate({"margin-top":-(c.toFixed(0)*h.host.height())/100},this.animationDuration,function(){}),a(i).animate({height:e,top:k+"px"},this.animationDuration,function(){var b=h._percentage();isNaN(b)&&(b=0),b.toFixed(0)==h.min&&(a(i).hide(),h._value()===h.max&&h._raiseevent(2,d,h.max))})}}catch(l){}this._initialRender=!1,this.feedbackElement.html(c.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(c.toFixed(0)+"%")),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0");var m=this.feedbackElement.height(),n=this.feedbackElement.width(),o=Math.floor(g-parseInt(n)/2);this.feedbackElement.css({left:o,"margin-top":-parseInt(m)/2+"px"})}}})}(jQuery),function(a){a.jqx.cssroundedcorners=function(a){var b={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in b)if(b.hasOwnProperty(prop)&&a==prop)return b[prop]},a.jqx.jqxWidget("jqxButton","",{}),a.extend(a.jqx._jqxButton.prototype,{defineInstance:function(){this.cursor="arrow",this.roundedCorners="all",this.disabled=!1,this.height=null,this.width=null,this.overrideTheme=!1,this.enableHover=!0,this.enableDefault=!0,this.enablePressed=!0,this.rtl=!1,this._ariaDisabled=!1,this._scrollAreaButton=!1,this.aria={"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(){var b=this;this._setSize(),this._ariaDisabled||this.host.attr("role","button"),this.overrideTheme||(this.host.addClass(this.toThemeProperty(a.jqx.cssroundedcorners(this.roundedCorners))),this.enableDefault&&this.host.addClass(this.toThemeProperty("jqx-button")),this.host.addClass(this.toThemeProperty("jqx-widget"))),this.isTouchDevice=a.jqx.mobile.isTouchDevice(),this._ariaDisabled||a.jqx.aria(this),"arrow"!=this.cursor&&this.host.css(this.disabled?{cursor:"arrow"}:{cursor:this.cursor});var c="mouseenter mouseleave mousedown focus blur";if(this._scrollAreaButton)var c="mousedown";this.isTouchDevice&&(this.addHandler(this.host,a.jqx.mobile.getTouchEventName("touchstart"),function(){b.isPressed=!0,b.refresh()}),this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchend")+"."+this.element.id,function(){b.isPressed=!1,b.refresh()})),this.addHandler(this.host,c,function(a){switch(a.type){case"mouseenter":this.isTouchDevice||!b.disabled&&b.enableHover&&(b.isMouseOver=!0,b.refresh());break;case"mouseleave":this.isTouchDevice||!b.disabled&&b.enableHover&&(b.isMouseOver=!1,b.refresh());break;case"mousedown":b.disabled||(b.isPressed=!0,b.refresh());break;case"focus":b.disabled||(b.isFocused=!0,b.refresh());break;case"blur":b.disabled||(b.isFocused=!1,b.refresh())}}),this.mouseupfunc=function(){b.disabled||(b.isPressed=!1,b.refresh())},this.addHandler(a(document),"mouseup.button"+this.element.id,this.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var d="";if(window.parent&&document.referrer&&(d=document.referrer),-1!=d.indexOf(document.location.host)){var e=function(){b.isPressed=!1,b.refresh()};window.top.document&&this.addHandler(a(window.top.document),"mouseup",e)}}}catch(f){}this.propertyChangeMap.roundedCorners=function(b,c,d,e){b.host.removeClass(b.toThemeProperty(a.jqx.cssroundedcorners(d))),b.host.addClass(b.toThemeProperty(a.jqx.cssroundedcorners(e)))},this.propertyChangeMap.width=function(a){a._setSize(),a.refresh()},this.propertyChangeMap.height=function(a){a._setSize(),a.refresh()},this.propertyChangeMap.disabled=function(b,c,d,e){d!=e&&(b.host[0].disabled=e,b.host.attr("disabled",e),b.refresh(),b.host.css(e?{cursor:"default"}:{cursor:b.cursor}),a.jqx.aria(b,"aria-disabled",b.disabled))},this.propertyChangeMap.rtl=function(a,b,c,d){c!=d&&a.refresh()},this.propertyChangeMap.theme=function(b){b.host.removeClass(),b.enableDefault&&b.host.addClass(b.toThemeProperty("jqx-button")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.overrideTheme||b.host.addClass(b.toThemeProperty(a.jqx.cssroundedcorners(b.roundedCorners))),b._oldCSSCurrent=null,b.refresh()},this.disabled&&(this.element.disabled=!0,this.host.attr("disabled",!0))},resize:function(a,b){this.width=a,this.height=b,this._setSize()},val:function(){var b=this.host.find("input");return b.length>0?0==arguments.length||"object"==typeof value?b.val():(b.val(value),this.refresh(),b.val()):0==arguments.length||"object"==typeof value?"button"==this.element.nodeName.toLowerCase()?a(this.element).text():this.element.value:(this.element.value=arguments[0],"button"==this.element.nodeName.toLowerCase()&&a(this.element).text(arguments[0]),void this.refresh())},_setSize:function(){null==this.width||-1==this.width.toString().indexOf("px")&&-1==this.width.toString().indexOf("%")?void 0==this.width||isNaN(this.width)||this.host.css("width",this.width):this.host.css("width",this.width),null==this.height||-1==this.height.toString().indexOf("px")&&-1==this.height.toString().indexOf("%")?void 0==this.height||isNaN(this.height)||this.host.css("height",parseInt(this.height)):this.host.css("height",this.height)},_removeHandlers:function(){this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"mousedown"),this.removeHandler(a(document),"mouseup.button"+this.element.id,this.mouseupfunc),this.isTouchDevice&&(this.removeHandler(this.host,a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchend")+"."+this.element.id)),this.mouseupfunc=null,delete this.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){this._removeHandlers();var b=a.data(this.element,"jqxButton");b&&delete b.instance,this.host.removeClass(),this.host.removeData(),this.host.remove(),delete this.set,delete this.get,delete this.call,delete this.propertyChangeMap.roundedCorners,delete this.propertyChangeMap.width,delete this.propertyChangeMap.height,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.rtl,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,delete this.element,delete this.host},render:function(){this.refresh()},refresh:function(){if(!this.overrideTheme){var a=this.toThemeProperty("jqx-fill-state-focus"),b=this.toThemeProperty("jqx-fill-state-disabled"),c=this.toThemeProperty("jqx-fill-state-normal");this.enableDefault||(c="");var d=this.toThemeProperty("jqx-fill-state-hover"),e=this.toThemeProperty("jqx-fill-state-pressed"),f=this.toThemeProperty("jqx-fill-state-pressed");this.enablePressed||(e="");var g="";this.host&&(this.host[0].disabled=this.disabled,g=this.disabled?b:this.isMouseOver&&!this.isTouchDevice?this.isPressed?f:d:this.isPressed?e:c,this.isFocused&&(g+=" "+a),g!=this._oldCSSCurrent&&(this._oldCSSCurrent&&this.host.removeClass(this._oldCSSCurrent),this.host.addClass(g),this._oldCSSCurrent=g),this.rtl&&(this.host.addClass(this.toThemeProperty("jqx-rtl")),this.host.css("direction","rtl")))}}}),a.jqx.jqxWidget("jqxLinkButton","",{}),a.extend(a.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(a){var b=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var c=this.height||this.host.height(),d=this.width||this.host.width();this.href=this.host.attr("href"),this.target=this.host.attr("target"),this.content=this.host.text(),this.element.innerHTML="",this.host.append("<input type='button' class='jqx-wrapper'/>");var e=this.host.find("input");e.addClass(this.toThemeProperty("jqx-reset")),e.width(d),e.height(c),e.val(this.content),this.host.find("tr").addClass(this.toThemeProperty("jqx-reset")),this.host.find("td").addClass(this.toThemeProperty("jqx-reset")),this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset")),this.host.css("color","inherit"),this.host.addClass(this.toThemeProperty("jqx-link")),e.css({width:d}),e.css({height:c});var f=void 0==a?{}:a[0]||{};e.jqxButton(f),this.disabled&&(this.host[0].disabled=!0),this.propertyChangeMap.disabled=function(a,b,c,d){a.host[0].disabled=d,a.host.find("input").jqxButton({disabled:d})},this.addHandler(e,"click",function(a){return this.disabled||b.onclick(a),!1})},onclick:function(){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),a.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),a.extend(a.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(){var b=this,c=a.jqx.mobile.isTouchDevice(),d=c?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,e=c?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(a(document),d,function(){null!=b.timeout&&(clearTimeout(b.timeout),b.timeout=null,b.refresh()),void 0!=b.timer&&(clearInterval(b.timer),b.timer=null,b.refresh())}),this.addHandler(this.base.host,e,function(){null!=b.timer&&clearInterval(b.timer),b.timeout=setTimeout(function(){clearInterval(b.timer),b.timer=setInterval(function(a){b.ontimer(a)},b.delay)},150)}),this.mousemovefunc=function(a){c||0==a.which&&null!=b.timer&&(clearInterval(b.timer),b.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var b=a.jqx.mobile.isTouchDevice(),c=b?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,d=b?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,d),this.removeHandler(a(document),c),this.timer=null,delete this.mousemovefunc,delete this.timer;var e=a.data(this.base.element,"jqxRepeatButton");e&&delete e.instance,a(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(a){var a=new jQuery.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(a)}}),a.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),a.extend(a.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(){var b=this;this.base.overrideTheme=!0,this.isTouchDevice=a.jqx.mobile.isTouchDevice(),a.jqx.aria(this),this.propertyChangeMap.toggled=function(a){a.refresh()},this.propertyChangeMap.disabled=function(a,c,d,e){b.base.disabled=e,a.refresh()},this.addHandler(this.base.host,"click",function(){b.base.disabled||b.toggle()}),this.isTouchDevice||(this.addHandler(this.base.host,"mouseenter",function(){b.base.disabled||b.refresh()}),this.addHandler(this.base.host,"mouseleave",function(){b.base.disabled||b.refresh()})),this.addHandler(this.base.host,"mousedown",function(){b.base.disabled||b.refresh()}),this.addHandler(a(document),"mouseup",function(){b.base.disabled||b.refresh()})},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(a(document),"mouseup")},toggle:function(){this.toggled=!this.toggled,this.refresh(),a.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var a=this.base.toThemeProperty("jqx-fill-state-disabled"),b=this.base.toThemeProperty("jqx-fill-state-normal"),c=this.base.toThemeProperty("jqx-fill-state-hover"),d=this.base.toThemeProperty("jqx-fill-state-pressed"),e=this.base.toThemeProperty("jqx-fill-state-pressed"),f="";this.base.host[0].disabled=this.base.disabled,f=this.base.disabled?a:this.base.isMouseOver&&!this.isTouchDevice?this.base.isPressed||this.toggled?e:c:this.base.isPressed||this.toggled?d:b,this.base.host.hasClass(a)&&a!=f&&this.base.host.removeClass(a),this.base.host.hasClass(b)&&b!=f&&this.base.host.removeClass(b),this.base.host.hasClass(c)&&c!=f&&this.base.host.removeClass(c),this.base.host.hasClass(d)&&d!=f&&this.base.host.removeClass(d),this.base.host.hasClass(e)&&e!=f&&this.base.host.removeClass(e),this.base.host.hasClass(f)||this.base.host.addClass(f)}})}(jQuery),function(a){a.jqx.jqxWidget("jqxDateTimeInput","",{}),a.extend(a.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){void 0==this.value&&(this.value=a.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),void 0==this.minDate&&(this.minDate=a.jqx._jqxDateTimeInput.getDateTime(new Date),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1)),this.defaultMinDate=this.minDate,void 0==this.maxDate&&(this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(new Date),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1)),this.defaultMaxDate=this.maxDate,this.min=new Date(1900,0,1),this.max=new Date(2100,0,1),this.rowHeaderWidth=25,this.enableViews=!0,this.views=["month","year","decade"],this.selectableDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.change=null,this.changing=null,this.columnHeaderHeight=20,this.titleHeight=25,void 0==this.firstDayOfWeek&&(this.firstDayOfWeek=0),void 0==this.showWeekNumbers&&(this.showWeekNumbers=!1),this.cookies=!1,this.cookieoptions=null,this.showFooter=!1,void 0===this.formatString&&(this.formatString="dd/MM/yyyy"),void 0===this.width&&(this.width=200),void 0===this.height&&(this.height=25),void 0===this.dayNameFormat&&(this.dayNameFormat="firstTwoLetters"),void 0===this.textAlign&&(this.textAlign="left"),void 0===this.readonly&&(this.readonly=!1),void 0===this.culture&&(this.culture="default"),this.activeEditor=this.activeEditor||null,void 0===this.showCalendarButton&&(this.showCalendarButton=!0),void 0==this.openDelay&&(this.openDelay=250),void 0===this.closeDelay&&(this.closeDelay=300),void 0===this.closeCalendarAfterSelection&&(this.closeCalendarAfterSelection=!0),this.isEditing=!1,this.enableBrowserBoundsDetection=!1,this.dropDownHorizontalAlignment="left",this.enableAbsoluteSelection=!1,this.disabled=!1,this.buttonSize=18,this.animationType="slide",this.dropDownWidth="200px",this.dropDownHeight="205px",this.selectionMode="default",this.rtl=!1,this._editor=!1,this.todayString="Today",this.clearString="Clear",this.popupZIndex=1e5,this.allowNullDate=!0,this.enableHover=!0,this.allowKeyboardDelete=!0,this.localization={backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},this.events=["valuechanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],this.aria={"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(){var b="";if(!this.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if(this.host.attr("value")){b=!0;var c=this.host.attr("value");if("range"!=this.selectionMode){var d=new Date(c);void 0==d||isNaN(d)||(this.value=a.jqx._jqxDateTimeInput.getDateTime(d))}}if(null!=this.value&&this.value instanceof Date)this.value=a.jqx._jqxDateTimeInput.getDateTime(this.value);else if(null!=this.value&&"string"==typeof this.value){var d=new Date(this.value);if(void 0==d||isNaN(d)){if(this.value.indexOf(",")>=0){this.value=this.value.replace(/\,/g,"/");var d=new Date(this.value);void 0==d||isNaN(d)||(this.value=a.jqx._jqxDateTimeInput.getDateTime(d))}}else this.value=a.jqx._jqxDateTimeInput.getDateTime(d)}if(this.host.attr("data-role","input"),this.render(),a.jqx.aria(this),null!=this.getDate()?a.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):a.jqx.aria(this,"aria-label","Current focused date is Null"),this.minDate!==this.defaultMinDate&&(this.min=this.minDate),this.maxDate!==this.defaultMaxDate&&(this.max=this.maxDate),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),"range"==this.selectionMode)if(b){var c=this.host.attr("value"),e=c.substring(0,c.indexOf("-")),f=c.substring(c.indexOf("-")+1),g=new Date(e),h=new Date(f);void 0==g||isNaN(g)||void 0==h||isNaN(h)||this.setRange(g,h)}else null!=this.getDate()&&this.setRange(this.getDate(),this.getDate())},_format:function(b,c){var d=!1;try{void 0!=Globalize&&(d=!0)}catch(e){}if(a.global)return a.global.format(b,c,this.culture);if(!d){if(a.jqx.dataFormat)return b instanceof Date?a.jqx.dataFormat.formatdate(b,c,this.localization.calendar):"number"==typeof b?a.jqx.dataFormat.formatnumber(b,c,this.localization.calendar):a.jqx.dataFormat.formatdate(b,c,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}try{var c=Globalize.format(b,c,this.culture);return c}catch(e){return Globalize.format(b,c)}},render:function(){this._removeHandlers(),this.element.innerHTML="",this.host.attr({role:"textbox"}),this.id=a.jqx.utilities.createId();a.jqx.utilities.createId(),a.jqx.utilities.createId();this._setSize(),null==this.width&&(this.width=this.host.width(),this.host.width(this.width)),this.touch=a.jqx.mobile.isTouchDevice();var b=a("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(this.host);this.dateTimeInput=a("<input class='jqx-position-absolute' id='input"+this.element.id+"' autocomplete='off' type='textarea'/>").appendTo(b),this.dateTimeInput.addClass(this.toThemeProperty("jqx-reset")),this.dateTimeInput.addClass(this.toThemeProperty("jqx-clear")),this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-content")),this.dateTimeInput.addClass(this.toThemeProperty("jqx-widget-content")),this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all"));var c=this.host.attr("name");c||(c=this.element.id),this.dateTimeInput.attr("name",c),this.rtl&&(this.dateTimeInput.css("direction","rtl"),this.dateTimeInput.addClass("jqx-rtl")),this.calendarButton=a("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(b),this.calendarButton.addClass(this.rtl?this.toThemeProperty("jqx-action-button-rtl"):this.toThemeProperty("jqx-action-button")),this.calendarButtonIcon=a(this.calendarButton.children()[0]),this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon")),this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.calendarButton.addClass(this.rtl?this.toThemeProperty("jqx-rc-l"):this.toThemeProperty("jqx-rc-r"));var d=this;if(this._arrange(),null!=a.jqx._jqxCalendar&&void 0!=a.jqx._jqxCalendar)try{var e="calendar"+this.id,f=a(a.find("#"+e));f.length>0&&f.remove(),a.jqx.aria(this,"aria-owns",e),a.jqx.aria(this,"aria-haspopup",!0),a.jqx.aria(this,"aria-readonly","range"==this.selectionMode?!0:!1);var g=a("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+this.id+"'><div id='innerCalendar"+this.id+"'></div></div>");"opera"==a.jqx.utilities.getBrowser().browser&&g.hide(),g.appendTo(document.body),this.container=g,this.calendarContainer=a(a.find("#innerCalendar"+this.id)).jqxCalendar({changing:this.changing,change:this.change,enableViews:this.enableViews,selectableDays:this.selectableDays,views:this.views,rowHeaderWidth:this.rowHeaderWidth,titleHeight:this.titleHeight,columnHeaderHeight:this.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:this.localization,todayString:this.todayString,clearString:this.clearString,dayNameFormat:this.dayNameFormat,rtl:this.rtl,culture:this.culture,showFooter:this.showFooter,selectionMode:this.selectionMode,firstDayOfWeek:this.firstDayOfWeek,showWeekNumbers:this.showWeekNumbers,width:this.dropDownWidth,height:this.dropDownHeight,theme:this.theme}),this.calendarContainer.css({position:"absolute",zIndex:this.popupZIndex,top:0,left:0}),this.calendarContainer.addClass(this.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&this.calendarContainer.addClass(this.toThemeProperty("jqx-noshadow")),this._calendar=a.data(this.calendarContainer[0],"jqxCalendar").instance;var d=this;this._calendar.today=function(){d.today()},this._calendar.clear=function(){d.clear()},"opera"==a.jqx.utilities.getBrowser().browser&&g.show(),g.height(parseInt(this.calendarContainer.height())+25),g.width(parseInt(this.calendarContainer.width())+25),"range"==this.selectionMode&&(this.readonly=!0),"none"==this.animationType?this.container.css("display","none"):this.container.hide()}catch(h){}if(a.global&&a.global.preferCulture(this.culture),this.selectedText="",this._addHandlers(),this.self=this,this.oldValue=this.getDate(),this.items=new Array,this.editors=new Array,this._loadItems(),this.editorText="",1==this.readonly&&this.dateTimeInput.css("readonly",this.readonly),this.dateTimeInput.css("text-align",this.textAlign),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-datetimeinput")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-overflow-hidden")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-clear")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.propertyChangeMap.disabled=function(b,c,e,f){f?(b.host.addClass(d.toThemeProperty("jqx-input-disabled")),b.host.addClass(d.toThemeProperty("jqx-fill-state-disabled"))):(b.host.removeClass(d.toThemeProperty("jqx-fill-state-disabled")),b.host.removeClass(d.toThemeProperty("jqx-input-disabled"))),a.jqx.aria(this,"aria-disabled",f)},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-input-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.host.parents("form").length>0&&this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){d.setDate(new Date)},10)}),this.cookies){var i=a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id);null!=i&&this.setDate(new Date(i))}if(a.jqx.browser.msie&&a.jqx.browser.version<8&&this.host.parents(".jqx-window").length>0){var j=this.host.parents(".jqx-window").css("z-index");this.container.css("z-index",j+10),this.calendarContainer.css("z-index",j+10)}"default"!=this.culture&&this._applyCulture(),this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))},val:function(a){if(0!=arguments.length){if(null==a&&this.setDate(null),"range"==this.selectionMode)return this.setRange(arguments[0],arguments[1]),this.getText();if(a instanceof Date&&this.setDate(a),"string"==typeof a){if("date"==a)return this.getDate();this.setDate(a)}}return this.getText()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var b=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(b=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=!0,this.host.height(this.height));var c=this,d=function(){c.calendarContainer&&c._arrange()};if(b&&this.calendarContainer){this.refresh(!1);var e=this.host.width();"auto"!=this.dropDownWidth&&(e=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:e}),this.container.width(parseInt(e)+25)}a.jqx.utilities.resize(this.host,function(){d()})},_arrange:function(){null==this.height&&(this.height=27,this.host.height(27));var b=parseInt(this.host.width()),c=parseInt(this.host.height()),d=this.buttonSize,e=2;this.showCalendarButton||(d=0,buttonHeight=0,this.calendarButton.hide(),e=0);var f=b-d-1*e;f>0&&(this.dateTimeInput[0].style.width=f+"px"),this.rtl&&(this.dateTimeInput[0].style.width=-1+f+"px"),this.dateTimeInput[0].style.left="0px",this.dateTimeInput[0].style.top="0px",this.calendarButton[0].style.width=d+1+"px",this.calendarButton[0].style.left=1+f+"px";var g=this.dateTimeInput.height();0==g&&(g=parseInt(this.dateTimeInput.css("font-size"))+3),-1==this.dateTimeInput[0].className.indexOf("jqx-rc-all")&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all"));var h=parseInt(c)/2-parseInt(g)/2;h>0&&(this.dateTimeInput[0].style.marginTop=parseInt(h)+"px"),this.rtl&&(this.calendarButton[0].style.width=d+"px",this.calendarButton.css("left","0px"),this.dateTimeInput.css("left",this.calendarButton.width()),a.jqx.browser.msie&&a.jqx.browser.version<=8&&this.dateTimeInput.css("left",1+this.calendarButton.width()))},_removeHandlers:function(){this.removeHandler(a(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown")),this.removeHandler(a(window),"resize."+this.id)},isOpened:function(){var b=this,c=a.data(document.body,"openedJQXCalendar"+this.id);return null!=c&&c==b.calendarContainer?!0:!1},wheel:function(a,b){var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d?!1:(a.preventDefault&&a.preventDefault(),a.returnValue=!1,d)}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){return 0>a?this.spinDown():this.spinUp(),!1},focus:function(){try{var a=this;this.dateTimeInput.focus(),setTimeout(function(){a.dateTimeInput.focus()},15)}catch(b){}},_addHandlers:function(){var b=(this.element.id,this.element,this);this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(){var a=b.isOpened();a&&b.close()}),this.addHandler(this.host,"mouseenter",function(){!b.disabled&&b.enableHover&&(hovered=!0,b.calendarButtonIcon.addClass(b.toThemeProperty("jqx-icon-calendar-hover")),b.calendarButton.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!b.disabled&&b.enableHover&&(b.calendarButtonIcon.removeClass(b.toThemeProperty("jqx-icon-calendar-hover")),b.calendarButton.removeClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mousewheel",function(a){b.wheel(a,b)}),this.addHandler(a(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),a.jqx.mobile.isTouchDevice()&&this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(c){var d=a.data(document.body,"openedJQXCalendar"+b.id);if(null!=d&&d==b.calendarContainer){var e=b.handleCalendarKey(c,b);return e}}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(a){if(13==a.keyCode)return b.isOpened()&&!b._calendar._viewAnimating&&"month"==b._calendar.view?(b.hideCalendar("selected"),b.dateTimeInput.focus(),!1):!0;if(9==a.keyCode){if(b.isOpened())return b.hideCalendar("selected"),!0}else if(27==a.keyCode)return b.isOpened()?(b.hideCalendar(),b.dateTimeInput.focus(),!1):!0;if(115==a.keyCode){if(b.isOpened())return b.hideCalendar(),b.dateTimeInput.focus(),!1;if(!b.isOpened())return b.showCalendar(),b.dateTimeInput.focus(),!1}if(a.altKey)if(38==a.keyCode){if(b.isOpened())return b.hideCalendar(),b.dateTimeInput.focus(),!1}else if(40==a.keyCode&&!b.isOpened())return b.showCalendar(),b.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(c){if(b.closeCalendarAfterSelection){{a.data(document.body,"openedJQXCalendarValue")}"mouse"==c.args.selectionType&&("range"!=b.selectionMode?b.hideCalendar("selected"):0==b._calendar._clicks&&b.hideCalendar("selected"))}}),this.addHandler(this.calendarContainer,"cellMouseDown",function(){b.closeCalendarAfterSelection&&b._calendar.value&&a.data(document.body,"openedJQXCalendarValue",new a.jqx._jqxDateTimeInput.getDateTime(b._calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(a){if(null!=b.value){b.isEditing=!1;
{b.value.dateTime.getDay(),b._oldDT}b._validateValue(),b._updateText(),b._raiseEvent(9,a)}b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(){b.focus()}),this.addHandler(this.dateTimeInput,"focus",function(a){if(null!=b.value){b._oldDT="range"!=b.selectionMode?new Date(b.value.dateTime):b.getRange();var c=b._selection();b.isEditing=!0,b._validateValue(),b._updateText(),b._setSelectionStart(0),b._selectGroup(-1,c),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"))}else b._setSelectionStart(0),b._selectGroup(-1),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"));return a.preventDefault?(a.preventDefault(),!1):void 0});var c="mousedown";this.touch&&(c=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,c,function(a){var c=b.container,d="block"==c.css("display");if(!b.disabled&&!b.isanimating){if(d)return b.hideCalendar(),!1;b.showCalendar(),a.preventDefault()}}),this.addHandler(this.dateTimeInput,"mousedown",function(a){return b._raiseEvent(2,a)}),this.addHandler(this.dateTimeInput,"mouseup",function(a){return b._raiseEvent(3,a)}),this.addHandler(this.dateTimeInput,"keydown",function(a){return b._raiseEvent(4,a)}),this.addHandler(this.dateTimeInput,"keyup",function(a){return b._raiseEvent(5,a)}),this.addHandler(this.dateTimeInput,"keypress",function(a){return b._raiseEvent(6,a)})},createID:function(){var a=Math.random()+"";return a=a.replace(".",""),a="99"+a,a/=1,"dateTimeInput"+a},setMaxDate:function(b,c){null!=b&&(null==b||"string"!=typeof b||(b=new Date(b),"Invalid Date"!=b))&&(this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(b),null!=this._calendar&&this._calendar.setMaxDate(b),0!=c&&(this.getDate()>b&&this.setDate(b),a.jqx.aria(this,"aria-valuemax",b),this._refreshValue(),this._updateText()))},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(b,c){null!=b&&(null==b||"string"!=typeof b||(b=new Date(b),"Invalid Date"!=b))&&(this.minDate=a.jqx._jqxDateTimeInput.getDateTime(b),null!=this._calendar&&this._calendar.setMinDate(b),0!=c&&(this.getDate()<b&&this.setDate(b),a.jqx.aria(this,"aria-valuemin",b),this._refreshValue(),this._updateText()))},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},_applyCulture:function(){var b=!1;try{void 0!=Globalize&&(b=!0)}catch(c){}try{if(a.global)a.global.preferCulture(this.culture),this.localization.calendar=a.global.culture.calendar;else if(b){var d=Globalize.culture(this.culture);this.localization.calendar=d.calendar}this._loadItems(),null!=this._calendar&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(c){}},propertyMap:function(a){return"value"==a?"range"!=this.selectionMode?this.getDate():this.getRange():null},propertyChangedHandler:function(b,c,d,e){if(void 0!=b.isInitialized&&0!=b.isInitialized){if("popupZIndex"==c&&b.calendarContainer.css({zIndex:e}),"selectionMode"==c&&(b._calendar.selectionMode=e,b.refreshValue()),"min"==c&&b.setMinDate("string"==typeof e?new Date(e):e),"max"==c&&b.setMaxDate("string"==typeof e?new Date(e):e),"value"==c)if(null!=e&&e instanceof Date){if(isNaN(e.getFullYear())||isNaN(e.getMonth())||isNaN(e.getDate()))return void(this.value=d);e=a.jqx._jqxDateTimeInput.getDateTime(e)}else if(null!=e&&"string"==typeof e){var f=new Date(e);void 0==f||isNaN(f)||(this.value=a.jqx._jqxDateTimeInput.getDateTime(f))}if("views"==c&&b.calendarContainer.jqxCalendar({views:e}),"enableViews"==c&&b.calendarContainer.jqxCalendar({enableViews:e}),"selectableDays"==c&&b.calendarContainer.jqxCalendar({selectableDays:e}),"showFooter"==c&&b.calendarContainer.jqxCalendar({showFooter:e}),"rtl"==c&&(b.calendarContainer.jqxCalendar({rtl:e}),e?(b.dateTimeInput.css("direction","rtl"),b.dateTimeInput.addClass("jqx-rtl")):(b.dateTimeInput.css("direction","ltr"),b.dateTimeInput.removeClass("jqx-rtl"))),("todayString"==c||"clearString"==c)&&b.calendarContainer.jqxCalendar({clearString:b.clearString,todayString:b.todayString}),"dayNameFormat"==c&&b.calendarContainer.jqxCalendar({dayNameFormat:e}),"firstDayOfWeek"==c&&b.calendarContainer.jqxCalendar({firstDayOfWeek:e}),"showWeekNumbers"==c&&b.calendarContainer.jqxCalendar({showWeekNumbers:e}),"culture"==c||"localization"==c?b._applyCulture():"formatString"==c&&b._loadItems(),"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host),"width"==c||"height"==c)return void b.refresh();b._setOption(c,e),("dropDownWidth"==c||"dropDownHeight"==c)&&(b.calendarContainer.jqxCalendar({width:b.dropDownWidth,height:b.dropDownHeight}),b._calendar.render(),b.container.height(b.calendarContainer.height()),b.container.width(b.calendarContainer.width()))}},clear:function(){this.allowNullDate?("range"!=this.selectionMode?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):"range"!=this.selectionMode?this.setDate(me.getMinDate()):(this._calendar._clicks=1,this.setRange(me.getMinDate(),me.getMinDate()),this._calendar._clicks=0),this.hideCalendar()},today:function(){var a=new Date;a.setHours(0,0,0,0),"range"!=this.selectionMode?this.setDate(a):(this._calendar._clicks=1,this.setRange(a,a),this._calendar._clicks=0),this.hideCalendar()},setDate:function(b){return null==b||"string"!=typeof b||(b.toString().indexOf(",")>=0&&(b=b.replace(/\,/g,"/"),b=new Date(b)),b=new Date(b),"Invalid Date"!=b)?((null==b||"null"==b||"undefined"==b)&&(this.allowNullDate||(b=this.min)),"Invalid Date"==b&&(b=null),null==b||"null"==b||"undefined"==b?void(null!=this.value&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",b),this._raiseEvent("9",b))):void(b<this.getMinDate()||b>this.getMaxDate()||(null==this.value&&(this.value=new a.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),b.getFullYear&&(this.value._setYear(b.getFullYear()),this.value._setDay(1),this.value._setMonth(b.getMonth()+1),this.value._setHours(b.getHours()),this.value._setMinutes(b.getMinutes()),this.value._setSeconds(b.getSeconds()),this.value._setMilliseconds(b.getMilliseconds()),this.value._setDay(b.getDate())),this._refreshValue(),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._raiseEvent("0",b),this._raiseEvent("9",b)))):void 0},getDate:function(){return void 0==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(b,c){if("Invalid Date"==b&&(b=null),"Invalid Date"==c&&(c=null),!(null!=b&&"string"==typeof b&&(b=new Date(b),"Invalid Date"==b)||null!=c&&"string"==typeof c&&(c=new Date(c),"Invalid Date"==c)||b&&isNaN(b)&&"NaN"==b.toString()&&"string"!=typeof b||c&&isNaN(c)&&"NaN"==c.toString()&&"string"!=typeof c)){this._calendar.setRange(b,c);var d=b;null!=d&&d.getFullYear&&(null==this.value&&(this.value=new a.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(d.getFullYear()),this.value._setMonth(d.getMonth()+1),this.value._setHours(d.getHours()),this.value._setMinutes(d.getMinutes()),this.value._setSeconds(d.getSeconds()),this.value._setMilliseconds(d.getMilliseconds()),this.value._setDay(d.getDate())),this._refreshValue(),this.value?this._raiseEvent("0",this.value.dateTime):this._raiseEvent("0",null)}},getRange:function(){return this._calendar.getRange()},_validateValue:function(){for(var a=!1,b=0;b<this.items.length;b++){var c=this.editors[b].value;switch(this.items[b].type){case"FORMAT_AMPM":0>c?c=0:c>1&&(c=1);break;case"Character":break;case"Day":1>c?c=1:c>31&&(c=31);break;case"FORMAT_hh":1>c?c=1:c>12&&(c=12);break;case"FORMAT_HH":0>c?c=0:c>23&&(c=23);break;case"Millisecond":0>c?c=0:c>99&&(c=99);break;case"Minute":0>c?c=0:c>59&&(c=59);break;case"Month":1>c?c=1:c>12&&(c=12);break;case"ReadOnly":break;case"Second":0>c?c=0:c>59&&(c=59);break;case"Year":c<this.minDate.year?c=this.minDate.year:c>this.maxDate.year&&(c=this.maxDate.year)}this.editors[b].value!=c&&(this.editors[b].value=c,a=!0)}this.updateValue(),null!=this.value&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()))},spinUp:function(){var a=this.value;if(null!=a){if(null!=this.activeEditor){var b=this.editors.indexOf(this.activeEditor);if(-1==b)return;"Day"==this.items[b].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var c=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=c}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var d=this.editors.indexOf(this.activeEditor);d>=0&&this._selectGroup(d)}},spinDown:function(){var a=this.value;if(null!=a){if(null!=this.activeEditor){var b=this.editors.indexOf(this.activeEditor);if(-1==b)return;"Day"==this.items[b].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var c=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=c}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var d=this.editors.indexOf(this.activeEditor);d>=0&&this._selectGroup(d)}},_passKeyToCalendar:function(a){if(13==a.keyCode||9==a.keyCode)return this.hideCalendar("selected"),!0;if(27==a.keyCode){var b=(this.calendarContainer,this._calendar),c=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,b.setDate(this.value.dateTime),this.closeCalendarAfterSelection=c,this.hideCalendar()}var c=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;var d=this._calendar._handleKey(a);return this.closeCalendarAfterSelection=c,d},handleCalendarKey:function(b,c){var d=(a(b.target),a.data(document.body,"openedJQXCalendar"+this.id));if(null!=d&&d.length>0){var e=c._passKeyToCalendar(b);return e}return!0},_findPos:function(b){if(null!=b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;var c=a(b).coord(!0);return[c.left,c.top]}},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.coord().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.coord().left)+"px"),c.top-=Math.min(c.top,c.top+f>h&&h>f?Math.abs(f+d+23):0),c},open:function(){this.showCalendar()},close:function(){this.hideCalendar()},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},showCalendar:function(){var b=this.calendarContainer,c=this._calendar;a.jqx.aria(this,"aria-expanded",!0),this._oldDT=null!=this.value?"range"!=this.selectionMode?new Date(this.value.dateTime):this.getRange():null,c.canRender||(c.canRender=!0,c.render());var d,e=(this.container,this),f=(a(window).scrollTop(),a(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),g=parseInt(Math.round(this.host.coord(!0).left));d=g+"px";var h=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone(),i=a.jqx.utilities.hasTransform(this.host);(i||null!=h&&h)&&(d=a.jqx.mobile.getLeftPos(this.element),f=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(f=parseInt(f)-this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(d=parseInt(d)-this._getBodyOffset().left+"px")),this.container.css("left",d),this.container.css("top",f);var j=this.closeCalendarAfterSelection;if(this.closeCalendarAfterSelection=!1,this.isEditing=!1,"default"==e.selectionMode){this._validateValue(),this._updateText();var k=null!=this.value?this.value.dateTime:new Date;c.setDate(k)}this.closeCalendarAfterSelection=j;var l=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var m=this.container.outerWidth(),n=Math.abs(m-this.host.outerWidth()+2);if(this.rtl||(n-=2),m>this.host.width()){var o=23;this.container.css("left",o+parseInt(Math.round(g))-n+"px")}else this.container.css("left",25+parseInt(Math.round(g))+n+"px")}if(this.enableBrowserBoundsDetection){var p=this.testOffset(b,{left:parseInt(this.container.css("left")),top:parseInt(f)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=p.top?(l=!0,b.css("top",23),b.addClass(this.toThemeProperty("jqx-popup-up"))):b.css("top",0),this.container.css("top",p.top),parseInt(this.container.css("left"))!=p.left&&this.container.css("left",p.left)}if(this._raiseEvent(7,b),"none"!=this.animationType){this.container.css("display","block");var q=parseInt(b.outerHeight());b.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(b.css("margin-top",0),b.css("opacity",0),b.animate({opacity:1},this.openDelay,function(){e.isanimating=!1,e.opening=!1,a.data(document.body,"openedJQXCalendar"+e.id,b),e.calendarContainer.focus()})):(b.css("opacity",1),l?b.css("margin-top",q):b.css("margin-top",-q),b.animate({"margin-top":0},this.openDelay,function(){e.isanimating=!1,e.opening=!1,a.data(document.body,"openedJQXCalendar"+e.id,b),e.calendarContainer.focus()}))}else b.stop(),e.isanimating=!1,e.opening=!1,b.css("opacity",1),b.css("margin-top",0),this.container.css("display","block"),a.data(document.body,"openedJQXCalendar"+e.id,b),this.calendarContainer.focus();null==this.value&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1),this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},hideCalendar:function(b){var c=this.calendarContainer,d=this.container,e=this;if(a.jqx.aria(this,"aria-expanded",!1),a.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType){var f=c.outerHeight();c.css("margin-top",0),this.isanimating=!0;var g=-f;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=f),"fade"==this.animationType?c.animate({opacity:0},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1}):c.animate({"margin-top":g},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1})}else d.css("display","none");void 0!=b&&this._updateSelectedDate(),this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent(8,c)},_updateSelectedDate:function(){var b=this.value;null==b&&(b=new a.jqx._jqxDateTimeInput.getDateTime(new Date),b._setHours(0),b._setMinutes(0),b._setSeconds(0),b._setMilliseconds(0));var c=b.hour,d=b.minute,e=b.second,f=b.millisecond;if("range"==this.selectionMode&&null==this._calendar.getRange().from)return void this.setDate(null);var g=new a.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime);g._setHours(c),g._setMinutes(d),g._setSeconds(e),g._setMilliseconds(f),this.setDate(g.dateTime)},_closeOpenedCalendar:function(b){var c=a(b.target),d=a.data(document.body,"openedJQXCalendar"+b.data.me.id),e=!1;if(a.each(c.parents(),function(){if(this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-calendar"))return e=!0,!1;if(-1!=this.className.indexOf("jqx-input"))return e=!0,!1}}),a(b.target).ischildof(b.data.me.host))return!0;if(null!=b.target&&("B"==b.target.tagName||"b"==b.target.tagName)){var f=b.data.me.host.coord(),g=b.data.me.host.width(),h=b.data.me.host.height(),i=parseInt(f.top),j=parseInt(f.left);if(i<=b.pageY&&b.pageY<=i+h&&j<=b.pageX&&b.pageX<=j+g)return!0}if(null!=d&&!e&&d.length>0){{var k=d[0].id.toString(),l=k.toString().substring(13);a(document).find("#"+l)}b.data.me.hideCalendar(),a.data(document.body,"openedJQXCalendar"+b.data.me.id,null)}},_loadItems:function(){if(null!=this.value){this.items=new Array;var a=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(a),this.editors=new Array;for(var b=0;b<this.items.length;b++){var c=this.items[b].getDateTimeEditorByItemType(this.value,this);this.editors[b]=c}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var b="";if(0==this.items.length&&null!=this.value&&this._loadItems(),null!=this.value){this.items.length>=1&&(b=this.format(this.value,0,this.items.length));var c=this.dateTimeInput.val();c!=b&&this._raiseEvent(1,this.value)}if("range"==this.selectionMode){var d=this.getRange();if(fromText=this.format(this.value,0,this.items.length),d.to){var e=a.jqx._jqxDateTimeInput.getDateTime(d.from);fromText=this.format(e,0,this.items.length);var f=a.jqx._jqxDateTimeInput.getDateTime(d.to);toText=this.format(f,0,this.items.length);var b=fromText+" - "+toText;" - "==b&&(b="")}else b=""}this.dateTimeInput.val(b)},format:function(a,b,c){for(var d="",e=b;c>e;++e){var f=this.items[e].dateParser(a,this);if(this.isEditing&&"ReadOnly"!=this.items[e].type&&"range"!=this.selectionMode){var g="Day"==this.items[e].type&&this.items[e].format.length>2;if("FORMAT_AMPM"==this.items[e].type&&(g=!0,f=0==this.editors[e].value?this.editors[e].amString:this.editors[e].pmString),!g)for(f=this.items[e].dateParserInEditMode(new Number(this.editors[e].value),"d"+this.editors[e].maxEditPositions,this);f.length<this.editors[e].maxEditPositions;)f="0"+f}d+=f}return d},_getFormatValueGroupLength:function(a){for(i=1;i<a.toString().length;++i)if(a.substring(i,i+1)!=a.substring(0,1))return i;return a.length},_parseFormatValue:function(b){for(var c=new Array,d=b.toString(),e=0;d.length>0;){var f=this._getFormatValueGroupLength(d),g=null;switch(d.substring(0,1)){case":":case"/":f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var h=d.indexOf(d[0],1);g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(1,1+Math.max(1,h-1)),"ReadOnly",this.culture),f=Math.max(1,h+1);break;case"\\":d.length>=2&&(g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(1,1),"ReadOnly",this.culture),f=2);break;case"d":case"D":g=f>2?a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Day",this.culture):a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Day",this.culture);break;case"f":case"F":f>7&&(f=7),g=f>3?a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture):a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Millisecond",this.culture);break;case"g":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture);break;case"h":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_hh",this.culture);break;case"H":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_HH",this.culture);break;case"m":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Minute",this.culture);break;case"M":f>4&&(f=4),g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Month",this.culture);break;case"s":case"S":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Second",this.culture);break;case"t":case"T":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_AMPM",this.culture);break;case"y":case"Y":f>1?g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Year",this.culture):(f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture));break;case"z":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture);break;default:f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),"ReadOnly",this.culture)}c[e]=a.extend(!0,{},g),d=d.substring(f),e++}return c},_getFormatValue:function(a){if((null==a||0==a.length)&&(a="d"),1==a.length)switch(a.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return 2==a.length&&"%"==a.substring(0,1)&&(a=a.substring(1)),a},_updateEditorsValue:function(){var a=this.value;if(null!=a){var b=a.year,c=a.day,d=a.hour,e=a.millisecond,f=a.second,g=a.minute,h=a.month;if(null!=this.items)for(var i=0;i<this.items.length;i++)switch(this.items[i].type){case"FORMAT_AMPM":var j=d%12;0==j&&(j=12),this.editors[i].value=d>=0&&12>d?0:1;break;case"Day":this.editors[i].value=c;break;case"FORMAT_hh":var j=d%12;0==j&&(j=12),this.editors[i].value=j;break;case"FORMAT_HH":this.editors[i].value=d;break;case"Millisecond":this.editors[i].value=e;break;case"Minute":this.editors[i].value=g;break;case"Month":this.editors[i].value=h;break;case"Second":this.editors[i].value=f;break;case"Year":this.editors[i].value=b}}},updateValue:function(){if(!(this.isEditing||this.items&&0==this.items.length)){for(var b=1,c=1,d=0,e=0,f=0,g=0,h=1,i=0,j=!1,k=!1,l=!1,m=new Array,n=null,o=0,p=0;p<this.items.length;p++)switch(this.items[p].type){case"FORMAT_AMPM":i=this.editors[p].value,n=this.editors[p];break;case"Character":break;case"Day":this.items[p].format.length<4&&(c=this.editors[p].value,m[o++]=this.editors[p],0==c&&(c=1),l=!0);break;case"FORMAT_hh":var q=this.editors[p];d=q.value;break;case"FORMAT_HH":d=this.editors[p].value;break;case"Millisecond":e=this.editors[p].value;break;case"Minute":g=this.editors[p].value;break;case"Month":h=this.editors[p].value,k=!0,0==h&&(h=1);break;case"ReadOnly":break;case"Second":f=this.editors[p].value;break;case"Year":j=!0,b=this.editors[p].value;var r=this.editors[p].getDateTimeItem().format;if(r.length<3){var s="1900";if(4==s.Length){var t,u=""+s[0]+s[1];t=parseInt(u),b+=100*t}}0==b&&(b=1)}var v=null!=this.value?new Date(this.value.dateTime):null;if(b>0&&h>0&&c>0&&g>=0&&d>=0&&f>=0&&e>=0){var w=this.value;null!=w&&(j||(b=w.year),k||(h=w.month),l||(c=w.day));try{if(h>12&&(h=12),1>h&&(h=1),w._daysInMonth(b,h)<=c&&(c=w._daysInMonth(b,h),null!=m&&m.length>0))for(p=0;p<m.length;p++)m[p].value=c;null!=n&&(0==n.value?d>=12&&(d-=12):24>d+12&&(d+=12));{this.value.dateTime.getDate()}this.value._setYear(parseInt(b)),this.value._setDay(c),this.value._setMonth(h),this.value._setHours(d),this.value._setMinutes(g),this.value._setSeconds(f),this.value._setMilliseconds(e)}catch(x){this.value=w}if(null!=v){var y=this.value.dateTime.getFullYear()==v.getFullYear()&&this.value.dateTime.getDate()==v.getDate()&&this.value.dateTime.getMonth()==v.getMonth()&&this.value.dateTime.getHours()==v.getHours()&&this.value.dateTime.getMinutes()==v.getMinutes()&&this.value.dateTime.getSeconds()==v.getSeconds();if(!y){if(this.changing){var z=this.changing(v,this.value.dateTime);z&&(this.value=a.jqx._jqxDateTimeInput.getDateTime(z))}this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime)}}}{var A=this.editors.indexOf(this.activeEditor);this.items[A]}this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(a){this.value._setYear(parseInt(a.year)),this.value._setDay(a.day),this.value._setMonth(a.month),this.value._setHours(a.hour),this.value._setMinutes(a.minute),this.value._setSeconds(a.second),this.value._setMilliseconds(a.milisecond)},_raiseEvent:function(b,c){var d=this.events[b],e={};e.owner=this,null==c&&(c={});var f=c.charCode?c.charCode:c.keyCode?c.keyCode:0,g=!0,h=this.readonly,i=new jQuery.Event(d);if(i.owner=this,i.args=e,i.args.date=this.getDate(),this.element.value=this.dateTimeInput.val(),9==b&&"range"!=this.selectionMode){var j=i.args.date;if(this._oldDT){if(null!=j&&j.getFullYear()==this._oldDT.getFullYear()&&j.getMonth()==this._oldDT.getMonth()&&j.getDate()==this._oldDT.getDate()&&j.getHours()==this._oldDT.getHours()&&j.getMinutes()==this._oldDT.getMinutes()&&j.getSeconds()==this._oldDT.getSeconds())return!0;a.jqx.aria(this,"aria-valuenow",this.getDate()),a.jqx.aria(this,"aria-valuetext",this.getText()),null!=this.getDate()?a.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):a.jqx.aria(this,"aria-label","Current focused date is Null")}}if("range"==this.selectionMode&&(i.args.date=this.getRange(),this._oldDT)){var j=i.args.date.from;if(9==b){var k=!1,l=!1,m=this._oldDT.from;null!=j&&m&&j.getFullYear()==m.getFullYear()&&j.getMonth()==m.getMonth()&&j.getDate()==m.getDate()&&j.getHours()==m.getHours()&&j.getMinutes()==m.getMinutes()&&j.getSeconds()==m.getSeconds()&&(k=!0);var j=i.args.date.to;if(null!=j&&(m=this._oldDT.to,m&&j.getFullYear()==m.getFullYear()&&j.getMonth()==m.getMonth()&&j.getDate()==m.getDate()&&j.getHours()==m.getHours()&&j.getMinutes()==m.getMinutes()&&j.getSeconds()==m.getSeconds()&&(l=!0)),k&&l)return!0;var k=i.args.date.from;k=null==k?"":k.toString();var l=i.args.date.to;l=null==l?"":l.toString(),a.jqx.aria(this,"aria-valuenow",k+"-"+l),a.jqx.aria(this,"aria-valuetext",this.getText()),k&&l&&a.jqx.aria(this,"aria-label","Current focused range is "+k.toLocaleString()+"-"+l.toLocaleString())}}if("none"==this.host.css("display"))return!0;2!=b&&3!=b&&(g=this.host.trigger(i));var n=this;if(h||2!=b||this.disabled||setTimeout(function(){n.isEditing=!0,n._selectGroup("range"==this.selectionMode?-1:-1)},25),4==b){if(h||this.disabled)return(8==f||46==f)&&(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),9==f?!0:!1;g=this._handleKeyDown(c,f)}else if(5==b){if(9==f)return!0;if(h||this.disabled)return!1}else if(6==b){if(9==f)return!0;if(h||this.disabled)return!1;g=this._handleKeyPress(c,f)}return g},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var a=this.activeEditor,b=!1,c=this.editors.indexOf(this.activeEditor),d=c;if(this.enableAbsoluteSelection&&c>=0&&this.activeEditor.positions>0)return this.activeEditor.positions--,void this._selectGroup(c);for(;c>0;)if(this.activeEditor=this.editors[--c],this._selectGroup(c),"ReadOnly"!=this.items[c].type){b=!0;break}return b||d>=0&&(this.activeEditor=this.editors[d]),null!=this.activeEditor&&a!=this.activeEditor&&"ReadOnly"!=this.items[c].type&&(this.activeEditor.positions=this.enableAbsoluteSelection?this.activeEditor.maxEditPositions-1:0),this.activeEditor!=a?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var a=this.activeEditor,b=!1,c=this.editors.indexOf(this.activeEditor),d=c;if(this.enableAbsoluteSelection&&c>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,void this._selectGroup(c);for(;c<=this.editors.length-2;)if(this.activeEditor=this.editors[++c],this._selectGroup(c),"ReadOnly"!=this.items[c].type){if("Day"==this.items[c].type&&this.items[c].format.length>2)break;b=!0;break}return b||d>=0&&(this.activeEditor=this.editors[d]),null!=this.activeEditor&&this.activeEditor!=a&&"ReadOnly"!=this.items[c].type&&(this.activeEditor.positions=0),this.activeEditor!=a?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_saveSelectedText:function(){var a=this._selection(),b="",c=this.dateTimeInput.val();if(a.start>0||a.length>0)for(i=a.start;i<a.end;i++)b+=c[i];return window.clipboardData.setData("Text",b),b},_selectWithAdvancePattern:function(){var a=this.editors.indexOf(this.activeEditor),b=!1;if("ReadOnly"!=this.items[a].type&&(b=!0),b){var c=this.activeEditor;if(null!=c){var d=c.positions==c.maxEditPositions;if(d){this.editorText="";var e=c.value,f=!1;switch(this.items[a].type){case"FORMAT_AMPM":0>e?e=0:e>1&&(e=1);break;case"Character":break;case"Day":1>e?e=1:e>31&&(e=31);break;case"FORMAT_hh":1>e?e=1:e>12&&(e=12);break;case"FORMAT_HH":0>e?e=0:e>23&&(e=23);break;case"Millisecond":0>e?e=0:e>99&&(e=99);break;case"Minute":0>e?e=0:e>59&&(e=59);break;case"Month":1>e?e=1:e>12&&(e=12);break;case"ReadOnly":break;case"Second":0>e?e=0:e>59&&(e=59);break;case"Year":e<this.minDate.year?e=this.minDate.year:e>this.maxDate.year&&(e=this.maxDate.year)}return c.value!=e&&(f=!0),f?!1:(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}}},_handleKeyPress:function(a,b){var c=this._selection(),d=this;if(a.ctrlKey&&97==b||a.ctrlKey&&65==b)return!0;if(8==b)return c.start>0&&d._setSelectionStart(c.start),!1;if(46==b)return c.start<this.items.length&&d._setSelectionStart(c.start),!1;if(c.start>=0){var e=String.fromCharCode(b),f=parseInt(e);if(("p"==e||"a"==e||"A"==e||"P"==e)&&"FORMAT_AMPM"==this.activeEditor.item.type&&(0!=this.activeEditor.value||"p"!=e&&"P"!=e?1!=this.activeEditor.value||"a"!=e&&"A"!=e||this.spinDown():this.spinUp()),!isNaN(f)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var g=!1,h=this.editors.indexOf(this.activeEditor),i=null;if(this.isEditing=!0,"ReadOnly"!=h.type&&(i=this.activeEditor),null!=i&&0==i.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(e),null!=i&&this.editorText.length>=i.maxEditPositions&&(this.editorText=""),this.editorText+=e;var j=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var k=this._getLastEditableEditorIndex();this.activeEditor.positions=this.editors.indexOf(this.activeEditor)==k&&j&&this.enableAbsoluteSelection?this.activeEditor.maxEditPositions-1:0}return g=!0,this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}var l=this._isSpecialKey(b);return l},_getLastEditableEditorIndex:function(){for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--)if("ReadOnly"!=this.items[itemIndex].type)return itemIndex;return-1},_handleKeyDown:function(b,c){if(115==b.keyCode){if(this.isOpened())return this.hideCalendar(),!1;if(!this.isOpened())return this.showCalendar(),!1}if(b.altKey)if(38==b.keyCode){if(this.isOpened())return this.hideCalendar(),!1}else if(40==b.keyCode&&!this.isOpened())return this.showCalendar(),!1;{if(!this.isOpened()){{this._selection()}if(b.ctrlKey&&99==c||b.ctrlKey&&67==c)return this._saveSelectedText(b),!1;if(b.ctrlKey&&122==c||b.ctrlKey&&90==c)return!1;if(b.ctrlKey&&118==c||b.ctrlKey&&86==c||b.shiftKey&&45==c)return!1;
if(8==c||46==c){if(b.altKey||b.ctrlKey||46!=c){if(null!=this.activeEditor){var d=this.editors.indexOf(this.activeEditor);if(this.activeEditor.positions>=0){var e=this._format(Number(this.activeEditor.value),"d"+this.activeEditor.maxEditPositions,this.culture);if(tmp=e,tmp=tmp.substring(0,this.activeEditor.positions)+"0"+tmp.substring(this.activeEditor.positions+1),parseInt(tmp)<this.activeEditor.minValue&&(tmp=this._format(Number(this.activeEditor.minValue),"d"+this.activeEditor.maxEditPositions,this.culture)),this.activeEditor.value=this.enableAbsoluteSelection?tmp:this.activeEditor.minValue,this._validateValue(),this._updateText(),8==c){var f=this;this.enableAbsoluteSelection&&this.activeEditor.positions>0?setTimeout(function(){f.activeEditor.positions=f.activeEditor.positions-1,f._selectGroup(d)},10):setTimeout(function(){f._doLeftKey()},10)}else this._selectGroup(d)}else this._doLeftKey()}}else this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()));return!1}if(38==c)return this.spinUp(),!1;if(40==c)return this.spinDown(),!1;if(37==c){if(this._editor){var g=this._doLeftKey();return g||(this.isEditing=!1,this._validateValue()),!g}return this._doLeftKey(),!1}if(39==c||191==c){if(this._editor){var g=this._doRightKey();return g||(this.isEditing=!1,this._validateValue()),!g}return this._doRightKey(),!1}var h=this._isSpecialKey(c);return null==this.value&&(c>=48&&57>=c||c>=96&&105>=c)&&this.setDate(new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?new Date:this.getMaxDate()),a.jqx.browser.mozilla?a.jqx.browser.mozilla&&a.jqx.browser.version>24?!0:h:!0}if(9==b.keyCode)return this.hideCalendar("selected"),!0}},_isSpecialKey:function(a){return 8!=a&&9!=a&&13!=a&&35!=a&&36!=a&&37!=a&&39!=a&&27!=a&&46!=a?!1:!0},_selection:function(){if("selectionStart"in this.dateTimeInput[0]){var a=this.dateTimeInput[0],b=a.selectionEnd-a.selectionStart;return{start:a.selectionStart,end:a.selectionEnd,length:b,text:a.value}}var c=document.selection.createRange();if(null==c)return{start:0,end:a.value.length,length:0};var d=this.dateTimeInput[0].createTextRange(),e=d.duplicate();d.moveToBookmark(c.getBookmark()),e.setEndPoint("EndToStart",d);var b=c.text.length;return{start:e.text.length,end:e.text.length+c.text.length,length:b,text:c.text}},_selectGroup:function(a,b){if("none"!=this.host.css("display")&&!this.readonly){if(!b)var b=this._selection();for(var c="",d="",e=null,f=0;f<this.items.length;f++){if(d=this.items[f].dateParser(this.value,this),this.isEditing&&"ReadOnly"!=this.items[f].type){var g="Day"==this.items[f].type&&this.items[f].format.length>2;if(!g&&"FORMAT_AMPM"!=this.items[f].type)for(d=this.items[f].dateParserInEditMode(new Number(this.editors[f].value),"d"+this.editors[f].maxEditPositions,this);d.length<this.editors[f].maxEditPositions;)d="0"+d}if(c+=d,"ReadOnly"!=this.items[f].type&&!("Day"==this.items[f].type&&this.items[f].format.length>2))if(void 0!=a&&-1!=a){if(f>=a){var h=c.length-d.length,i=d.length;this.enableAbsoluteSelection&&!isNaN(parseInt(d))&&this.isEditing&&-1!=a&&(i=1,h+=this.editors[f].positions),h==this.dateTimeInput.val().length&&h--,this._setSelection(h,h+i),e=this.editors[f],this.activeEditor=e;break}}else if(c.length>=b.start){e=this.editors[f],this.activeEditor=e;var h=c.length-d.length,i=1;this.enableAbsoluteSelection?!isNaN(parseInt(d))&&this.isEditing&&-1!=a&&(i=1,h+=this.editors[f].positions):i=d.length,this._setSelection(h,h+i);break}}f<this.items.length&&-1==a&&"ReadOnly"!=this.items[f].type&&(this.activeEditor.positions=0);var j=this._selection();if(0==j.length&&j.start>0){var k=this._getLastEditableEditorIndex();k>=0&&this._selectGroup(k)}}},_getLastEditableEditorIndex:function(){var a=-1;for(i=0;i<this.editors.length;i++)"ReadOnly"!=this.items[i].type&&("Day"==this.items[i].type&&this.items[i].format.length>2||(a=i));return a},_setSelection:function(a,b){try{if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(a,b);else{var c=this.dateTimeInput[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}}catch(d){}},_setSelectionStart:function(a){this._setSelection(a,a)},destroy:function(){this.host.removeClass("jqx-rc-all"),this._calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(a){1!=a&&(this._setSize(),this._arrange())},resize:function(a,b){this.width=a,this.height=b,this.refresh()},_setOption:function(a,b){"value"===a&&(this.value=b,this._refreshValue(),this._raiseEvent(9,{})),"maxDate"==a&&(this._calendar.maxDate=b,this._raiseEvent(9,{})),"minDate"==a&&(this._calendar.minDate=b,this._raiseEvent(9,{})),"showCalendarButton"==a&&(b?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==a&&this.dateTimeInput.attr("disabled",b),"readonly"==a&&(this.readonly=b,this.dateTimeInput.css("readonly",b)),"textAlign"==a&&(this.dateTimeInput.css("text-align",b),this.textAlign=b),"width"==a?(this.width=b,this.width=parseInt(this.width),this._arrange()):"height"==a&&(this.height=b,this.height=parseInt(this.height),this._arrange())},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText()}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.DateTimeFormatItem={},a.extend(a.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(a,b,c){return this.format=a,this.type=b,this.culture=c,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(a,b){if(null==a)return"";var c=b._format(a.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture);return c},dateParserInEditMode:function(a,b,c){if(null==a)return"";var d=c._format(a.toString(),1==b.length?"%"+b:b,this.culture);return d},getDateTimeEditorByItemType:function(b,c){switch(this.type){case"FORMAT_AMPM":var d=a.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,b.hour/12,c.localization.calendar.AM[0],c.localization.calendar.PM[0],this,c),e=a.extend({},d);return e;case"Character":return null;case"Day":var f,g=b.year,h=b.month;f=3==this.format.length?c.localization.calendar.days.namesAbbr:this.format.length>3?c.localization.calendar.days.names:null;var i=b.day;null!=f&&(i=b.dayOfWeek+1);var j=a.jqx._jqxDateTimeInput.DateEditor._createDayEditor(b,b.day,1,b._daysInMonth(g,h),1==this.format.length?1:2,2,f,this,c),e=a.extend({},j);return e;case"FORMAT_hh":var k=b.hour%12;0==k&&(k=12);var l=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(k,1,12,1==this.format.length?1:2,2,this,c),e=a.extend({},l);return e;case"FORMAT_HH":var m=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.hour,0,23,1==this.format.length?1:2,2,this,c),e=a.extend({},m);return e;case"Millisecond":var n=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,c),e=a.extend({},n);return e;case"Minute":var o=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.minute,0,59,1==this.format.length?1:2,2,this,c),e=a.extend({},o);return e;case"Month":var p;p=3==this.format.length?c.localization.calendar.months.namesAbbr:this.format.length>3?c.localization.calendar.months.names:null;var q=a.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(b.month,2==this.format.length?2:1,p,this,c),e=a.extend({},q);return e;case"ReadOnly":return a.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,b.day,this,c);case"Second":var r=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.second,0,59,1==this.format.length?1:2,2,this,c),e=a.extend({},r);return e;case"Year":var s=a.jqx._jqxDateTimeInput.DateEditor._createYearEditor(b.year,this.format.length,this,c),e=a.extend({},s);return e}return null}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.DateEditor=a.extend(a.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},initializeFields:function(a,b,c,d,e){this.minValue=a,this.maxValue=b,this.minEditPositions=c,this.maxEditPositions=d,this.updateActiveEditor(a),this.item=e},_createYearEditor:function(b,c,d,e){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(0,4>c?99:9999,2==c?2:1,c>3?4:2,d),this.initializeYearEditor(b,c,d.culture),this.handleYears=!0,this.that=e,this},initializeYearEditor:function(a,b,c){this.formatValueLength=b,this.dateTimeFormatInfo=c;var d=a;d=Math.min(d,9999),d=Math.max(d,1),d=this.formatValueLength<4?d%100:d,this.updateActiveEditor(d),this.value=d},updateActiveEditor:function(a){this.value=a,this.positions=0},_createDayEditor:function(b,c,d,e,f,g,h,i,j){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(d,e,1,g,i),this.currentValue=b,this.value=c,this.days=h,this.handleDays=!0,this.that=j,this},getDayOfWeek:function(b){return typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),b},defaultTextValue:function(){var a=(this.value,this.minEditPositions),b=a,c=this.that._format(this.value,"d"+b,"");return c},textValue:function(){if(this.handleDays){if(null==this.days)return this.defaultTextValue();var a=this.value%7+1;return a=this.getDayOfWeek(a),this.days[a]}return this.handleMonths?null==this.dateTimeMonths||this.value<1||this.value>12?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(a){if(null==a)return this.deleteValue();if(0==a.length)return this.deleteValue();var b=a.substring(0,1);if(!isNaN(b)){var c,d=1,e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return c=e,this.positions>=this.maxEditPositions&&(this.positions=0),c=c.substring(0,this.positions)+b+c.substring(this.positions+1),c=this.setValueByString(c,d),!0}},setValueByString:function(a,b){a=this.fixValueString(a);var c=new Number(a);return this.value=c,this.positions+=b,a},fixValueString:function(a){return a.length>this.maxEditPositions&&(a=a.substring(a.length-this.maxEditPositions)),a},initializeValueString:function(a){var b;return b="",this.hasDigits()&&(b=a),b},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},insert:function(a){if(this.handleDays){if(null!=this.days){var b=!1;if(b=this.insertLongString(a,b))return b;if(b=this.insertShortString(a,b))return b}return 1==this.value&&null!=this.lastDayInput&&this.lastDayInput.toString().length>0&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=a,this.defaultInsertString(a)}if(this.handleMonths&&null!=this.dateTimeMonths){var b=!1;if(b=this.insertLongString2(a,b))return b;if(b=this.insertShortString2(a,b))return b}return this.defaultInsertString(a)},insertShortString:function(a,b){if(1==a.length)for(i=0;i<6;++i){var c=(this.value+i)%7+1,d=this.days[c-1];if(d.substring(0,1)==a)return this.updateActiveEditor(c),b=!0}return b},insertLongString:function(a,b){if(a.length>0)for(i=0;i<6;++i){var c=(this.value+i)%7+1;if(this.days[c-1]==a)return this.updateActiveEditor(c),b=!0}return b},_createMonthEditor:function(b,c,d,e,f){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(1,12,c,2,e),this.dateTimeMonths=d,this.value=b,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&this.dateTimeMonths[12].length>0&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=f,this},insertLongString2:function(a,b){if(a.length>0)for(i=0;i<11;++i)if(month=(this.value+i)%12+1,this.dateTimeMonths[month-1]==a)return this.updateActiveEditor(month),b=!0;return b},insertShortString2:function(a,b){if(1==a.length)for(i=0;i<11;++i){var c=(this.value+i)%12+1,d=this.dateTimeMonths[c-1];if(d.substring(0,1)==a)return this.updateActiveEditor(c),b=!0}return b},correctMaximumValue:function(a){return a>this.maxValue&&(a=this.minValue),a},correctMinimumValue:function(a){return a<this.minValue&&(a=this.maxValue),a},increaseValue:function(a){var b=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),c=b.toString()[this.positions];if(c=parseInt(c)+1,c>9&&(c=0),!a){var d=this.value+1;return d=this.correctMaximumValue(d),this.updateActiveEditor(d),!0}var e=b.substring(0,this.positions)+c+b.substring(this.positions+1);return e!=this.value||this.hasDigits()?(this.updateActiveEditor(e),!0):!1},decreaseValue:function(a){var b=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),c=b.toString()[this.positions];if(c=parseInt(c)-1,0>c&&(c=9),!a){var d=this.value-1;return d=this.correctMinimumValue(d),this.updateActiveEditor(d),!0}var e=b.substring(0,this.positions)+c+b.substring(this.positions+1);return e!=this.value||this.hasDigits()?(this.updateActiveEditor(e),!0):!1},getDateTimeItem:function(){return this.item}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.NumberEditor={},a.extend(a.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},_createNumberEditor:function(b,c,d,e,f,g,h){return a.jqx._jqxDateTimeInput.NumberEditor=a.extend(!0,{},this),this.initializeFields(c,d,e,f,g),this.that=h,this},initializeFields:function(a,b,c,d,e){this.minValue=a,this.maxValue=b,this.minEditPositions=c,this.maxEditPositions=d,this.updateActiveEditor(a),this.item=e},updateActiveEditor:function(a){this.value=a,this.positions=0},getDayOfWeek:function(b){return typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),b},textValue:function(){var a=(this.value,this.minEditPositions),b=a,c=this.that._format(this.value,"d"+b,"");return c},insert:function(a){if(null==a)return this.deleteValue();if(0==a.length)return this.deleteValue();var b=a.substring(0,1);if(!isNaN(b)){var c,d=1,e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return c=e,this.positions>=this.maxEditPositions&&(this.positions=0),c=c.substring(0,this.positions)+b+c.substring(this.positions+1),c=this.setValueByString(c,d),!0}},setValueByString:function(a,b){a=this.fixValueString(a);var c=new Number(a);return this.value=c,this.positions+=b,a},fixValueString:function(a){return a.length>this.maxEditPositions&&(a=a.substring(a.length-this.maxEditPositions)),a},initializeValueString:function(a){var b;return b="",this.hasDigits()&&(b=a),b},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},correctMaximumValue:function(a){return a>this.maxValue&&(a=this.minValue),a},correctMinimumValue:function(a){return a<this.minValue&&(a=this.maxValue),a},increaseValue:function(a){var b=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),c=b.toString()[this.positions];if(c=parseInt(c)+1,c>9&&(c=0),!a){var d=this.value+1;return d=this.correctMaximumValue(d),this.updateActiveEditor(d),!0}var e=b.substring(0,this.positions)+c+b.substring(this.positions+1);return e!=this.value||this.hasDigits()?(this.updateActiveEditor(e),!0):!1},decreaseValue:function(a){var b=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),c=b.toString()[this.positions];if(c=parseInt(c)-1,0>c&&(c=9),!a){var d=this.value-1;return d=this.correctMinimumValue(d),this.updateActiveEditor(d),!0}var e=b.substring(0,this.positions)+c+b.substring(this.positions+1);return e!=this.value||this.hasDigits()?(this.updateActiveEditor(e),!0):!1},getDateTimeItem:function(){return this.item}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.DisabledEditor={},a.extend(a.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(a,b,c,d,e,f){return this.format=a,this.value=-1,this.item=e,this.that=f,this},textValue:function(){return""},insert:function(){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.AmPmEditor={},a.extend(a.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(a,b,c,d,e,f){return this.format=a,this.value=b,this.amString=c,this.pmString=d,this.item=e,this.that=f,c==d&&(this.amString="<"+c,this.pmString=">"+d),this},textValue:function(){var a=this.amString;return 0!=this.value&&(a=this.pmString),1==this.format.length&&a.length>1&&(a=a.substring(0,1)),a},insert:function(a){var b=a.toString();if(0==b.Length)return this.deleteValue();var c=!1;if(this.amString.Length>0&&this.pmString.Length>0){var d=amString[0],e=b[0],f=pmString[0];d.toString()==e.toString()?(this.value=0,c=!0):f.toString()==e.toString()&&(this.value=1,c=!0)}else this.pmString.Length>0?(this.value=1,c=!0):this.amString.Length>0&&(this.value=0,c=!0);return c},deleteValue:function(){var a=!0;if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return a},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.getDateTime=function(a){var b={dateTime:new Date(a),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:a.getHours(),minute:a.getMinutes(),day:a.getDate(),second:a.getSeconds(),month:1+a.getMonth(),year:a.getFullYear(),millisecond:a.getMilliseconds(),dayOfWeek:a.getDay(),isWeekend:function(a){(void 0==a||null==a)&&(a=this.dateTime);var b=a.getDay()%6==0;return b},dayOfYear:function(a){(void 0==a||null==a)&&(a=this.dateTime);var b=new Date(a.getFullYear(),0,1);return Math.ceil((a-b)/864e5)},_setDay:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setDate(a),this.day=this.dateTime.getDate()},_setMonth:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setMonth(a-1),this.month=1+this.dateTime.getMonth()},_setYear:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setFullYear(a),this.year=this.dateTime.getFullYear()},_setHours:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setHours(a),this.hour=this.dateTime.getHours()},_setMinutes:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setMinutes(a),this.minute=this.dateTime.getMinutes()},_setSeconds:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setSeconds(a),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setMilliseconds(a),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(a){var b=this.dateTime,c=b.getDate();return b.setDate(b.getDate()+a),c===b.getDate()&&b.setHours(b.getHours()+b.getTimezoneOffset()/60),b},_addWeeks:function(a){var b=this.dateTime;return b.setDate(b.getDate()+7*a),b},_addMonths:function(a){var b=this.dateTime;return b.setMonth(b.getMonth()+a),b},_addYears:function(a){var b=this.dateTime;return b.setFullYear(b.getFullYear()+a),b},_addHours:function(a){var b=this.dateTime;return b.setHours(b.getHours()+a),b},_addMinutes:function(a){var b=this.dateTime;return b.setMinutes(b.getMinutes()+a),b},_addSeconds:function(a){var b=this.dateTime;return b.setSeconds(b.getSeconds()+a),b},_addMilliseconds:function(a){var b=this.dateTime;return b.setMilliseconds(b.getMilliseconds()+a),b},_isLeapYear:function(a){if(1>a||a>9999)throw"invalid year";return a%4!=0?!1:a%100==0?a%400==0:!0},_dateToTicks:function(a,b,c){if(a>=1&&9999>=a&&b>=1&&12>=b){var d=this._isLeapYear(a)?this.daysToMonth366:this.daysToMonth365;if(c>=1&&c<=d[b]-d[b-1]){var a=a-1,e=365*a+a/4-a/100+a/400+d[b-1]+c-1;return 864e9*e}}},_daysInMonth:function(a,b){if(1>b||b>12)throw"Invalid month.";var c=this._isLeapYear(a)?this.daysToMonth366:this.daysToMonth365;return c[b]-c[b-1]},_timeToTicks:function(a,b,c){var d=3600*a+60*b+c;return 1e7*d},_equalDate:function(a){return this.year==a.getFullYear()&&this.day==a.getDate()&&this.month==a.getMonth()+1?!0:!1}};return b}}(jQuery),function(a){a.jqx.jqxWidget("jqxCalendar","",{}),a.extend(a.jqx._jqxCalendar.prototype,{defineInstance:function(){this.disabled=!1,this.multipleMonthRows=1,this.multipleMonthColumns=1,void 0==this.minDate&&(this.minDate=a.jqx._jqxDateTimeInput.getDateTime(new Date),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0)),void 0==this.maxDate&&(this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(new Date),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0)),this.min=new Date(1900,0,1),this.max=new Date(2100,0,1),this.navigationDelay=400,void 0===this.stepMonths&&(this.stepMonths=1),this.width=null,this.height=null,void 0===this.value&&(this.value=a.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.firstDayOfWeek=0,this.showWeekNumbers=!1,this.showDayNames=!0,this.enableWeekend=!1,this.enableOtherMonthDays=!0,this.showOtherMonthDays=!0,this.rowHeaderWidth=25,this.columnHeaderHeight=20,this.titleHeight=25,this.dayNameFormat="firstTwoLetters",this.monthNameFormat="default",this.titleFormat=["MMMM yyyy","yyyy","yyyy","yyyy"],this.enableViews=!0,void 0===this.readOnly&&(this.readOnly=!1),void 0==this.culture&&(this.culture="default"),void 0==this.enableFastNavigation&&(this.enableFastNavigation=!0),void 0==this.enableHover&&(this.enableHover=!0),void 0==this.enableAutoNavigation&&(this.enableAutoNavigation=!0),void 0===this.enableTooltips&&(this.enableTooltips=!1),this.backText="Back",this.forwardText="Forward",void 0===this.specialDates&&(this.specialDates=new Array),this.keyboardNavigation=!0,this.selectionMode="default",this.selectableDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.todayString="Today",this.clearString="Clear",this.showFooter=!1,this.selection={from:null,to:null},this.canRender=!0,this._checkForHiddenParent=!0,this.height=null,this.rtl=!1,this.view="month",this.views=["month","year","decade"],this.changing=null,this.change=null,this.localization={backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},this.events=["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]},createInstance:function(){this.setCalendarSize(),""===this.element.id&&(this.element.id=a.jqx.utilities.createId()),this.element.innerHTML="",this.host.attr("data-role","calendar");var b=(this.element.id,this);if(this.propertyChangeMap.width=function(){b.setCalendarSize()},this.propertyChangeMap.height=function(){b.setCalendarSize()},a.global&&a.global.preferCulture(this.culture),"default"!=this.culture){if(a.global)a.global.preferCulture(this.culture),this.localization.calendar=a.global.culture.calendar;else if(Globalize){var c=Globalize.culture(this.culture);this.localization.calendar=c.calendar}this.firstDayOfWeek=this.localization.calendar.firstDay}"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",function(a){var c=!0;return b.keyboardNavigation&&void 0!=b._handleKey&&(c=b._handleKey(a),c||(a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault())),c});var d=!1,e=this,f=!1;null!=b.width&&-1!=b.width.toString().indexOf("%")&&(f=!0),null!=b.height&&-1!=b.height.toString().indexOf("%")&&(f=!0),a.jqx.utilities.resize(this.host,function(){var a=e.host.find("#View"+b.element.id);d?e.refreshTitle(a):(d=!0,e.render()),f&&(b.refreshTimer&&clearTimeout(b.refreshTimer),b.refreshTimer=setTimeout(function(){b.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(a,c,d,e){e?a.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")):a.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.refreshControl()}},_addInput:function(){var b=this.host.attr("name");b||(b=this.element.id),this.input=a("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",b),this.input.val(this.getDate().toString())},setCalendarSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(a){var b=new Date(a.getFullYear(),a.getMonth(),1);return b},_handleKey:function(b){if(this.readOnly)return!0;var c=b.keyCode,d=this._getSelectedDate();if(void 0==d)return!0;if(b.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==c){var e=this._getSelectedCell();this._setDateAndSwitchViews(e,b,"keyboard")}if("year"==this.view){var f=d.getMonth(),g=this._getYearAndMonthPart(this.getMinDate()),h=this._getYearAndMonthPart(this.getMaxDate());switch(c){case 37:if(0==f){var i=new Date(d.getFullYear()-1,11,1);i>=g?(this.selectedDate=i,this.navigateBackward()):this.selectedDate!=g&&(this.selectedDate=g,this.navigateBackward())}else{var i=new Date(d.getFullYear(),f-1,1);i>=g&&this._selectDate(i,"key")}return!1;case 38:var i=new Date(d.getFullYear(),f-4,1);return g>i&&(i=g),0>f-4?(this.selectedDate=i,this.navigateBackward()):this._selectDate(i,"key"),!1;case 40:var i=new Date(d.getFullYear(),f+4,1);return i>h&&(i=h),f+4>11?(this.selectedDate=i,this.navigateForward()):this._selectDate(i,"key"),!1;case 39:if(11==f){var i=new Date(d.getFullYear()+1,0,1);h>=i?(this.selectedDate=i,this.navigateForward()):this.selectedDate!=h&&(this.selectedDate=h,this.navigateForward())}else{var i=new Date(d.getFullYear(),f+1,1);h>=i&&this._selectDate(i,"key")}return!1}return!0}if("decade"==this.view){var j=this._renderStartDate.getFullYear(),k=this._renderEndDate.getFullYear(),l=d.getFullYear(),m=this.getMinDate().getFullYear(),n=this.getMaxDate().getFullYear();switch(c){case 37:return l-1>=m&&(j>=l?(this.selectedDate=new Date(l-1,d.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(l-1,d.getMonth(),1),"key")),!1;case 38:var o=l-4;return m>l-4&&(o=m),j>o?(this.selectedDate=new Date(o,d.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(o,d.getMonth(),1),"key"),!1;case 40:var o=l+4;return o>n&&(o=n),o>k?(this.selectedDate=new Date(o,d.getMonth(),1),this.navigateForward()):this._selectDate(new Date(o,d.getMonth(),1),"key"),!1;case 39:return n>=l+1&&(l==k?(this.selectedDate=new Date(l+1,d.getMonth(),1),this.navigateForward()):this._selectDate(new Date(l+1,d.getMonth(),1),"key")),!1}return!0}var p=new a.jqx._jqxDateTimeInput.getDateTime(d),q=this.getViewStart(),r=this.getViewEnd(),s=a.data(this.element,"View"+this.element.id);if(void 0==s||null==s)return!0;if(36==c)return p._setDay(1),this._isDisabled(p.dateTime)?!1:(this._selectDate(p.dateTime,"key"),!1);if(35==c){var t=this.value._daysInMonth(this.value.year,this.value.month);return p._setDay(t),this._isDisabled(p.dateTime)?!1:(this._selectDate(p.dateTime,"key"),!1)}var u=1;if(b.ctrlKey&&(u=12),34==c){var v=this.navigateForward(u);if(v){if(p._addMonths(u),this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key")}return!1}if(33==c){var v=this.navigateBackward(u);if(v){if(p._addMonths(-u),this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key")}return!1}if(38==c){if(p._addDays(-7),p.dateTime<this.getMinDate())return!1;if(p.dateTime<q){var v=this.navigateBackward();if(!v)return!1}if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(var w=0;w<s.cells.length;w++){var e=s.cells[w],x=e.getDate();if(e.isOtherMonth&&e.isSelected&&x<=p.dateTime){this.value.day=x.getDate(),this.navigateBackward(),this._selectDate(p.dateTime,"key");break}}return!1}if(40==c){if(p._addDays(7),p.dateTime>this.getMaxDate())return!1;if(p.dateTime>r){var v=this.navigateForward();if(!v)return!1}if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(var w=0;w<s.cells.length;w++){var e=s.cells[w],x=e.getDate();if(e.isOtherMonth&&e.isSelected&&x>=p.dateTime){this.value.day=x.getDate(),this.navigateForward(),this._selectDate(p.dateTime,"key");break}}return!1}if(37==c){if(p._addDays(-1),p.dateTime<this.getMinDate())return!1;if(p.dateTime<q){var v=this.navigateBackward();if(!v)return!1}if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(var w=0;w<s.cells.length;w++){var e=s.cells[w],x=e.getDate();if(e.isOtherMonth&&e.isSelected&&x<=p.dateTime){if(p.dateTime<this.getMinDate()||p.dateTime>this.getMaxDate())return!1;if(this._isDisabled(p.dateTime))return!1;this.navigateBackward(),this._selectDate(p.dateTime,"key");break}}return!1}if(39==c){if(p._addDays(1),p.dateTime>this.getMaxDate())return!1;if(p.dateTime>r){var v=this.navigateForward();
if(!v)return!1}if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(var w=0;w<s.cells.length;w++){var e=s.cells[w],x=e.getDate();if(e.isOtherMonth&&e.isSelected&&x>=p.dateTime){if(p.dateTime<this.getMinDate()||p.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(p.dateTime,"key");break}}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var a=this._renderSingleCalendar("View"+this.element.id);this.host.append(a)}},addSpecialDate:function(a,b,c){if(1==this.multipleMonthRows&&1==this.multipleMonthColumns){var d=this.specialDates.length;this.specialDates[d]={Date:a,Class:b,Tooltip:c},this.refreshControl()}},refresh:function(){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var a=this.getVisibleDate(),b=this.getFirstDayOfWeek(a);return b.dateTime},getViewEnd:function(){var b=this.getViewStart(),c=new a.jqx._jqxDateTimeInput.getDateTime(b);return c._addDays(41),c.dateTime},refreshSingleCalendar:function(a){if(this.canRender){var b=this.host.find("#"+a),c=this.getVisibleDate(),d=this.getFirstDayOfWeek(c);this.refreshCalendarCells(b,d,a),this.refreshTitle(b),this.refreshRowHeader(b,a),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var e=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(e=this.host.height()-this.titleHeight),this.showFooter&&(e-=20);var f=b.find("#cellsTable"+a),g=b.find("#calendarRowHeader"+a);f.height(e),g.height(e)}},refreshRowHeader:function(b,c){if(this.showWeekNumbers){var d=this.getVisibleDate(),e=this.getFirstDayOfWeek(d),f=(e.dayOfWeek,this.getWeekOfYear(e)),g=new a.jqx._jqxDateTimeInput.getDateTime(new Date(e.dateTime));g._addDays(5),g.dayOfWeek=g.dateTime.getDay();{this.getWeekOfYear(g)}53==f&&0==g.dateTime.getMonth()&&(f=1);var h=this.rowHeader.find("table");h.width(this.rowHeaderWidth);for(var i=e,j=new Array,k=0;6>k;k++){var l=(f.toString(),new a.jqx._jqxCalendar.cell(i.dateTime)),m=k+1+this.element.id,n=a(h[0].rows[k].cells[0]);l.element=n,l.row=k,l.column=0;var o=n.find("#headerCellContent"+m);o.addClass(this.toThemeProperty("jqx-calendar-row-cell")),o[0].innerHTML=f,j[k]=l,i=new a.jqx._jqxDateTimeInput.getDateTime(new Date(i._addWeeks(1))),f=this.getWeekOfYear(i)}var p=a.data(this.element,b[0].id);p.rowCells=j,this._refreshOtherMonthRows(p,c)}},_refreshOtherMonthRows:function(a,b){if(!this.showOtherMonthDays){this._displayLastRow(!0,b),this._displayFirstRow(!0,b);for(var c=!1,d=!1,e=0;e<a.cells.length;e++){var f=a.cells[e];f.isVisible&&7>e?c=!0:f.isVisible&&e>=a.cells.length-7&&(d=!0)}c||this._displayFirstRow(!1,b),d||this._displayLastRow(!1,b)}},_displayLastRow:function(b,c){var d=this.host.find("#"+c),e=d.find("#calendarRowHeader"+d[0].id).find("table"),f=null;if(this.showWeekNumbers&&e[0].cells)var f=a(e[0].rows[5]);var g=a(d.find("#cellTable"+d[0].id)[0].rows[5]);b?(this.showWeekNumbers&&f&&f.css("display","table-row"),g.css("display","table-row")):(this.showWeekNumbers&&f&&f.css("display","none"),g.css("display","none"))},_displayFirstRow:function(b,c){var d=this.host.find("#"+c),e=d.find("#calendarRowHeader"+d[0].id).find("table"),f=null;if(this.showWeekNumbers&&e[0].cells)var f=a(e[0].rows[0]);var g=a(d.find("#cellTable"+d[0].id)[0].rows[0]);b?(this.showWeekNumbers&&f&&f.css("display","table-row"),g.css("display","table-row")):(this.showWeekNumbers&&f&&f.css("display","none"),g.css("display","none"))},_renderSingleCalendar:function(b,c){if(this.canRender){var d=this.host.find("#"+b.toString());null!=d&&d.remove();var e=a("<div id='"+b.toString()+"'></div>"),f=this.getVisibleDate(),g=this.getFirstDayOfWeek(f),h=new a.jqx._jqxDateTimeInput.getDateTime(g.dateTime);h._addMonths(1);var i=a.jqx._jqxCalendar.monthView(g,h,null,null,null,e);void 0==c||null==c?(this.host.append(e),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&e.height(this.height):e.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&e.width(this.width):e.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&e.width("100%"),null!=this.height&&-1!=this.height.toString().indexOf("%")&&e.height("100%")):c.append(e),a.data(this.element,b,i);var j=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(j=this.host.height()-this.titleHeight),this.showFooter&&(j-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0);var k=this.rowHeaderWidth,l=this.columnHeaderHeight;this.showWeekNumbers||(k=0),this.showDayNames||(l=0);var m="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",n="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+l+"'><td role='gridcell' id='selectCell' width='"+k+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+j+"' width='"+k+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+j+"'></td></tr></table>",o="<div id='footer' style='margin: 0px; display: none; height:"+p+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>";e[0].innerHTML=m+n+o,this.header=e.find("#calendarHeader"),this.header[0].id="calendarHeader"+b,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=e.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+b,this.table=e.find("#cellsTable"),this.table[0].id="cellsTable"+b,this.rowHeader=e.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+b,this.selectCell=e.find("#selectCell"),this.selectCell[0].id="selectCell"+b,this.title=e.find("#calendarTitle"),this.title[0].id="calendarTitle"+b,this.leftButton=e.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+b,this.titleHeader=e.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+b,this.rightButton=e.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+b,this.footer=e.find("#calendarFooter"),this._footer=e.find("#footer"),this._footer[0].id="footer"+b,this.footer[0].id="calendarFooter"+b,this.todayButton=e.find("#todayButton"),this.todayButton[0].id="todayButton"+b,this.doneButton=e.find("#doneButton"),this.doneButton[0].id="doneButton"+b,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var p=20;if(this.showFooter&&this._footer.css("display","block"),e.find("tr").addClass(this.toThemeProperty("jqx-reset")),e.addClass(this.toThemeProperty("jqx-widget-content")),e.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=e,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(e):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter){this.footer.height(20);var q=a("<a href='javascript:;'>"+this.todayString+"</a>");q.appendTo(this.todayButton);var r=a("<a href='javascript:;'>"+this.clearString+"</a>");r.appendTo(this.doneButton),r.addClass(this.toThemeProperty("jqx-calendar-footer")),q.addClass(this.toThemeProperty("jqx-calendar-footer"));var s=this,t="mousedown";a.jqx.mobile.isTouchDevice()&&(t=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(q,t,function(){return s.today?s.today():s.setDate(new Date,"mouse"),!1}),this.addHandler(r,t,function(){return s.clear?s.clear():s.setDate(null,"mouse"),!1})}"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(e),this.oldView=this.view,this.renderCalendarCells(e,g,b),(void 0==c||null==c)&&this.renderTitle(e),this._refreshOtherMonthRows(i,b),e.find("tbody").css({border:"none",background:"transparent"}),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var u=this;return this.addHandler(this.host,"focus",function(){u.focus()}),e}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(b){var c=a("<div role='button' style='float: left;'></div>"),d=a("<div role='button' style='float: right;'></div>"),e=this.title;e.addClass(this.toThemeProperty("jqx-reset")),e.addClass(this.toThemeProperty("jqx-widget-header")),e.addClass(this.toThemeProperty("jqx-calendar-title-header"));var f=e.find("td");if(a.jqx.browser.msie&&a.jqx.browser.version<8){if("transparent"!=f.css("background-color")){var g=e.css("background-color");f.css("background-color",g)}if("transparent"!=f.css("background-image")){{var h=e.css("background-image"),i=e.css("background-repeat");e.css("background-position")}f.css("background-image",h),f.css("background-repeat",i),f.css("background-position","left center scroll")}}else f.css("background-color","transparent");this.disabled&&e.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),c.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),c.addClass(this.toThemeProperty("jqx-icon-arrow-left")),c.appendTo(this.leftButton);var j=this.leftButton;d.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),d.addClass(this.toThemeProperty("jqx-icon-arrow-right")),d.appendTo(this.rightButton);var k=this.rightButton;this.enableTooltips&&a(j).jqxTooltip&&(a(j).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),a(k).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText}));var l=this.titleHeader,m=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var n=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),o=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);m=n+" - "+o}else if("centuries"==this.view){var n=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),o=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);m=n+" - "+o}var p=a("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+m+"</div>");l.append(p),p.addClass(this.toThemeProperty("jqx-calendar-title-content"));{var q=parseInt(c.width()),r=b.width()-2*q;l.find(".jqx-calendar-title-content").width(r)}a.data(c,"navigateLeft",this),a.data(d,"navigateRight",this);var s=a.jqx.mobile.isTouchDevice();if(!this.disabled){var t=this;this.addHandler(l,"mousedown",function(){if(t.enableViews){if(!t._viewAnimating&&!t._animating){var a=t.view;switch(t.oldView=a,t.view){case"month":t.view="year";break;case"year":t.view="decade"}if(-1==t.views.indexOf("year")&&"year"==t.view&&(t.view="decade"),-1==t.views.indexOf("decade")&&"decade"==t.view&&(t.view=a),a!=t.view){var b="View"+t.element.id,c=t.host.find("#"+b),d=t.getVisibleDate(),e=t.getFirstDayOfWeek(d);t.renderCalendarCells(c,e,b,!0),t.refreshTitle(c),t._raiseEvent("8")}}return!1}}),this.addHandler(c,"mousedown",function(b){if(t._animating)return!1;a.data(c,"navigateLeftRepeat",!0);var d=a.data(c,"navigateLeft");return d.enableFastNavigation&&!s&&d.startRepeat(d,c,!0,t.navigationDelay+200),d.navigateBackward(1,"arrow"),d._raiseEvent(0,b)}),this.addHandler(c,"mouseup",function(){a.data(c,"navigateLeftRepeat",!1)}),this.addHandler(c,"mouseleave",function(){a.data(c,"navigateLeftRepeat",!1)}),this.addHandler(d,"mousedown",function(b){if(t._animating)return!1;a.data(d,"navigateRightRepeat",!0);var c=a.data(d,"navigateRight");return c.enableFastNavigation&&!s&&c.startRepeat(c,d,!1,t.navigationDelay+200),c.navigateForward(1,"arrow"),c._raiseEvent(1,b)}),this.addHandler(d,"mouseup",function(){a.data(d,"navigateRightRepeat",!1)}),this.addHandler(d,"mouseleave",function(){a.data(d,"navigateRightRepeat",!1)})}},refreshTitle:function(){var b=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var c=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),d=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);b=c+" - "+d}else if("centuries"==this.view){var c=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),d=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);b=c+" - "+d}var e=this.titleHeader;if(this.titleHeader){var f=e.find(".jqx-calendar-title-content"),g=a("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+b+"</div>");e.append(g),g.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=f&&f.remove()}},startRepeat:function(b,c,d,e){var f=window.setTimeout(function(){var g=a.data(c,"navigateLeftRepeat");return d||(g=a.data(c,"navigateRightRepeat")),g?(25>e&&(e=25),void(d?(b.navigateBackward(1,"arrow"),b.startRepeat(b,c,!0,e)):(b.navigateForward(1,"arrow"),f=b.startRepeat(b,c,!1,e)))):void window.clearTimeout(f)},e)},navigateForward:function(a,b){(void 0==a||null==a)&&(a=this.stepMonths);var c=this.value.year;if("decade"==this.view){if(c=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?c=this.value.year+1:"centuries"==this.view&&(c=this.value.year+100);if("month"!=this.view){var d=this.getMaxDate().getFullYear();if((c>d||c>d)&&(c=d),this.value.year==c)return;this.value.year=c,this.value.month=1,this.value.day=1}var e=this.value.day,f=this.value.month;if(12>=f+a){var g=this.value._daysInMonth(this.value.year,this.value.month+a);e>g&&(e=g)}if("month"==this.view){var h=new Date(this.value.year,this.value.month-1+a,e);"arrow"==b&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+a,1))}else var h=new Date(this.value.year,this.value.month-1,e);return this.navigateTo(h)},navigateBackward:function(a,b){(void 0==a||null==a)&&(a=this.stepMonths);var c=this.value.year;if("decade"==this.view?c=this._renderStartDate.getFullYear()-12:"year"==this.view?c=this.value.year-1:"centuries"==this.view&&(c=this.value.year-100),"month"!=this.view){var d=this.getMinDate().getFullYear();if(d>c&&(c=d),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==c)return;this.value.year=c,this.value.month=1,this.value.day=1}var e=this.value.day,f=this.value.month;if(f-a>=1){var g=this.value._daysInMonth(this.value.year,this.value.month-a);e>g&&(e=g)}if("month"==this.view){var h=new Date(this.value.year,this.value.month-1-a,e);"arrow"==b&&7==this.selectableDays.length&&(this.selectedDate=new Date(this.value.year,this.value.month-1-a,1))}else var h=new Date(this.value.year,this.value.month-1,e);return this.navigateTo(h)},_isDisabled:function(a){var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=a.getDay(),d=b[c];return-1==this.selectableDays.indexOf(d)?!0:!1},refreshCalendarCells:function(b,c,d){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.refreshViews(b,c,d);for(var e=this.table,f=e.find("#cellTable"+d.toString()),g=c,h=new Array,i=0,j=new a.jqx._jqxDateTimeInput.getDateTime(new Date),k=0;6>k;k++)for(var l=0;7>l;l++){var m=k+1,n=l;this.rtl&&(n=6-n);var o=n+1,p="#cell"+m+o+this.element.id,q=new Date(g.dateTime.getFullYear(),g.dateTime.getMonth(),g.dateTime.getDate()),r=new a.jqx._jqxCalendar.cell(q),s=a(f[0].rows[k].cells[o-1]);s[0].id=p.substring(1),r.element=s,r.row=k,r.column=l,r.isVisible=!0,r.isOtherMonth=!1,r.isToday=!1,r.isWeekend=!1,r.isHighlighted=!1,r.isSelected=!1,g.month!=this.value.month&&(r.isOtherMonth=!0,r.isVisible=this.showOtherMonthDays),(q<this.getMinDate()||q>this.getMaxDate()||this._isDisabled(q))&&(r.isDisabled=!0),g.month==j.month&&g.day==j.day&&g.year==j.year&&(r.isToday=!0),g.isWeekend()&&(r.isWeekend=!0),a.data(this.element,"cellContent"+p.substring(1),r),a.data(this.element,p.substring(1),r),h[i]=r,i++,a.jqx.utilities.html(s,g.day),this._applyCellStyle(r,s,s),g=new a.jqx._jqxDateTimeInput.getDateTime(new Date(g._addDays(1)))}var t=a.data(this.element,b[0].id);void 0!=t&&null!=t&&(t.cells=h),this.renderedCells=h,this._refreshOtherMonthRows(t,d)},_getDecadeAndCenturiesData:function(){var a=new Array,b=new Array,c=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();12>c&&(c=12);var d=this.getMinDate(),e=this.getMaxDate(),f=this.value.dateTime.getFullYear();if("decade"==this.view){f+12>e.getFullYear()&&(f=e.getFullYear()-11),f<d.getFullYear()&&(f=d.getFullYear());for(var g=0;c>g;g++){var h=new Date(d.getFullYear()+g,0,1);if(d.getFullYear()<=f&&f<=h.getFullYear()){for(var i=new Date(h.getFullYear(),h.getMonth(),1),j=0;12>j;j++){var k=new Date(i.getFullYear()+j,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),l=k.getFullYear();d.getFullYear()<=l&&l<=e.getFullYear()?(a.push(l),b.push(k),0==j&&(this._renderStartDate=k),this._renderEndDate=k):(a.push(l),b.push(k))}break}}}else if("centuries"==this.view)for(var g=0;c>g;g+=120){var h=new Date(d.getFullYear()+g+120,0,1);if(d.getFullYear()<=f&&f<=h.getFullYear()){var i=new Date(h.getFullYear()-130,h.getMonth(),1);d>i&&(i=d);for(var j=0;12>j;j++){var m=new Date(i.getFullYear()+10*j,i.getMonth(),1);i.getFullYear()>=d.getFullYear()&&m.getFullYear()<=e.getFullYear()&&(a.push("<span style='visibility: hidden;'>-</span>"+m.getFullYear()+"-"+(m.getFullYear()+9)),b.push(m),0==j&&(this._renderCenturyStartDate=m),this._renderCenturyEndDate=new Date(m.getFullYear()+9,0,1))}break}}return{years:a,dates:b}},refreshViews:function(b,c,d){for(var e=new Array,f=b.find("#cellTable"+d.toString()),g=this._getDecadeAndCenturiesData(),h=g.years,i=g.dates,j=0,k=this.getMinDate(),l=this.getMaxDate(),m=0;3>m;m++)for(var n=0;4>n;n++){var o=n;this.rtl&&(o=3-o);var p=new Date(this.value.dateTime);p.setDate(1),p.setMonth(4*m+o);var q=new a.jqx._jqxCalendar.cell(p),r=f[0].rows["row"+(1+m)+this.element.id],s=a(r.cells[n]);q.isSelected=!1,q.isVisible=!0,q.element=s,q.row=m,q.column=n,q.index=e.length;var t="";if("year"==this.view){var u=this.localization.calendar.months.names,v=u[4*m+o];switch(this.monthNameFormat){case"default":v=this.localization.calendar.months.namesAbbr[4*m+o];break;case"shortest":v=this.localization.calendar.months.namesShort[4*m+o];break;case"firstTwoLetters":v=v.substring(0,2);break;case"firstLetter":v=v.substring(0,1)}t=v}else("decade"==this.view||"centuries"==this.view)&&(t=h[4*m+o],void 0==t&&(t="<span style='cursor: default; visibility: hidden;'>2013</span>"),q.setDate(i[4*m+o]));var p=q.getDate();"year"==this.view?p.getMonth()==this.getDate().getMonth()&&p.getFullYear()==this.getDate().getFullYear()&&(q.isSelected=!0):p.getFullYear()==this.getDate().getFullYear()&&(q.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(p)<this._getYearAndMonthPart(k)&&(q.isDisabled=!0),this._getYearAndMonthPart(p)>this._getYearAndMonthPart(l)&&(q.isDisabled=!0)):(p.getFullYear()<k.getFullYear()&&(q.isDisabled=!0),p.getFullYear()>l.getFullYear()&&(q.isDisabled=!0)),a.jqx.utilities.html(s,t),e[j]=q,j++}var w=a.data(this.element,b[0].id);void 0!=w&&null!=w&&(w.cells=e),this.renderedCells=e,this._applyCellStyles()},_createViewClone:function(){var a=this.host.find(".jqx-calendar-month"),b=a.clone();return b.css("position","absolute"),b.css("top",a.position().top),b},_addCellsTable:function(a,b){var c=this,d=this.showFooter?20:0;b.height("month"!=this.view?this.host.height()-this.titleHeight:this.host.height()-this.titleHeight-this.columnHeaderHeight-d),this._viewAnimating=!0;var e=this.host.find(".jqx-calendar-month-container");e.css("position","relative");var f=(this.host.find(".jqx-calendar-month"),this._createViewClone());e.append(f),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),a.children().remove(),a.append(b),this._animateViews(f,b,function(){c.selectedDate||(c.selectedDate=c.renderedCells[0].getDate());try{c.renderedCells[0].element.focus(),setTimeout(function(){c.renderedCells[0].element.focus()},10)}catch(a){}c._viewAnimating=!1}),b.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(a,b,c){var d=this;return d._viewAnimating=!0,d.oldView==d.view?(a.remove(),b.fadeOut(0),b.fadeIn(0),void c()):(a.fadeOut(this.navigationDelay+100,function(){a.remove()}),b.fadeOut(0),void b.fadeIn(this.navigationDelay+200,function(){c()}))},focus:function(){try{if(this.renderedCells&&this.renderedCells.length>0){var a=this;a.selectedDate||"range"==a.selectionMode||this.setDate(new Date,"mouse"),this.element.focus()}}catch(b){}},renderViews:function(b,c,d){var e=this,f=new Array,g=a("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+d.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),h=this.host.find(".jqx-calendar-month-container");h.css("position","relative");var i=b.find("#cellsTable"+b[0].id);i[0].style.borderColor="transparent";var j=this._getDecadeAndCenturiesData(),k=j.years,l=j.dates,m=0,n=this.getMinDate(),o=this.getMaxDate(),p=new Date(this.value.dateTime);p.setDate(1);for(var q=0;3>q;q++)for(var r=0;4>r;r++){var s=r;this.rtl&&(s=3-s);var t=g[0].rows["row"+(1+q)+this.element.id],u=new Date(p);u.setMonth(4*q+s);var v=new a.jqx._jqxCalendar.cell(u),w=a(t.cells[r]);v.isVisible=!0,v.element=w,v.row=q,v.column=r,v.index=f.length,v.isSelected=!1;var x="";if("year"==this.view){u.getMonth()==this.getDate().getMonth()&&u.getFullYear()==this.getDate().getFullYear()&&(v.isSelected=!0);var y=this.localization.calendar.months.names,z=y[4*q+s];switch(this.monthNameFormat){case"default":z=this.localization.calendar.months.namesAbbr[4*q+s];break;case"shortest":z=this.localization.calendar.months.namesShort[4*q+s];break;case"firstTwoLetters":z=z.substring(0,2);break;case"firstLetter":z=z.substring(0,1)}x=z}else("decade"==this.view||"centuries"==this.view)&&(x=k[4*q+s],v.setDate(l[4*q+s]),v.getDate().getFullYear()==this.getDate().getFullYear()&&(v.isSelected=!0),void 0==x&&(x="<span style='cursor: default; visibility: hidden;'>2013</span>"));var u=v.getDate();"year"==this.view?(this._getYearAndMonthPart(u)<this._getYearAndMonthPart(n)&&(v.isDisabled=!0),this._getYearAndMonthPart(u)>this._getYearAndMonthPart(o)&&(v.isDisabled=!0)):(u.getFullYear()<n.getFullYear()&&(v.isDisabled=!0),u.getFullYear()>o.getFullYear()&&(v.isDisabled=!0)),a.jqx.utilities.html(w,x),f[m]=v,m++}a.each(f,function(){var a=this.element,b=this;e.disabled||(e.addHandler(a,"mousedown",function(a){e._setDateAndSwitchViews(b,a,"mouse")}),e.addHandler(a,"mouseover",function(){var a=e.renderedCells[b.index];("centuries"==e.view||-1==a.element.html().toLowerCase().indexOf("span"))&&(a.isHighlighted=!0,e._applyCellStyle(a,a.element,a.element))}),e.addHandler(a,"mouseout",function(){var a=e.renderedCells[b.index];("centuries"==e.view||-1==a.element.html().toLowerCase().indexOf("span"))&&(a.isHighlighted=!1,e._applyCellStyle(a,a.element,a.element))}))});var A=a.data(this.element,b[0].id);void 0!=A&&null!=A&&(A.cells=f),this.renderedCells=f,this._addCellsTable(i,g),this._applyCellStyles()},_setDateAndSwitchViews:function(a,b,c){if(!this._viewAnimating&&!this._animating){var d=(this.getDate(),this.renderedCells[a.index].getDate()),e=this.value.dateTime.getDate(),f=new Date(d);-1!=this.views.indexOf("month")?f.setDate(e):(f.setDate(1),d.setDate(1)),f.getMonth()==d.getMonth()&&(d=f);var g=this.getMinDate(),h=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(d)<this._getYearAndMonthPart(g))return;if(this._getYearAndMonthPart(d)>this._getYearAndMonthPart(h))return}else{if(d.getFullYear()<g.getFullYear())return;if(d.getFullYear()>h.getFullYear())return}switch(this._selectDate(d),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(d)<this._getYearAndMonthPart(g)&&(d=g),this._getYearAndMonthPart(d)>this._getYearAndMonthPart(h)&&(d=h)):(d.getFullYear()<g.getFullYear()&&(d=g),d.getFullYear()>h.getFullYear()&&(d=h)),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=d.getFullYear()||this.selectedDate.getMonth()!=d.getMonth()||this.selectedDate.getDate()!=d.getDate())&&(d=this.selectedDate),this.value._setYear(d.getFullYear()),this.value._setDay(d.getDate()),this.value._setMonth(d.getMonth()+1),this.value._setDay(d.getDate());var i=this.getVisibleDate(),j=this.getFirstDayOfWeek(i),k="View"+this.element.id;this.renderCalendarCells(this.month,j,k,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,k),3==this.views.length&&"month"==this.view&&this._selectDate(this.selectedDate,"view"),"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=c&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(b,c,d,e){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.renderViews(b,c,d);var f=a("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+d.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),g=this.table;if(g[0].style.borderColor="transparent",void 0==e){var h=g.find("#cellTable"+d.toString());null!=h&&h.remove(),g.append(f)}var i=c,j=this.showDayNames?1:0,k=this.showWeekNumbers?1:0,l=new Array,m=0,n=(b.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(n=(b.width()-2)/7),n=parseInt(n);for(var o=new a.jqx._jqxDateTimeInput.getDateTime(new Date),p=0;6>p;p++){for(var q=0;7>q;q++){var r=p+1,s=q;this.rtl&&(s=6-s);var t=s+1,u="#cell"+r+t+this.element.id,v=new Date(i.dateTime.getFullYear(),i.dateTime.getMonth(),i.dateTime.getDate()),w=new a.jqx._jqxCalendar.cell(v),x=a(f[0].rows[p].cells[t-1]);x[0].id=u.substring(1),w.isVisible=!0,w.isDisabled=!1,i.month!=this.value.month&&(w.isOtherMonth=!0,w.isVisible=this.showOtherMonthDays),(v<this.getMinDate()||v>this.getMaxDate()||this._isDisabled(v))&&(w.isDisabled=!0),i.month==o.month&&i.day==o.day&&i.year==o.year&&(w.isToday=!0),i.isWeekend()&&(w.isWeekend=!0),w.element=x,w.row=j,w.column=k,a.jqx.utilities.html(x,i.day),i=new a.jqx._jqxDateTimeInput.getDateTime(new Date(i._addDays(1))),a.data(this.element,"cellContent"+u.substring(1),w),a.data(this.element,""+u.substring(1),w);var y=this;if(this.addHandler(x,"mousedown",function(b){if(!y.readOnly&&!y.disabled){{var c=a(b.target),d=a.data(y.element,c[0].id);y._raiseEvent(3,b)}if(null!=d&&void 0!=d){var e=d.getDate();if(y.getMinDate()<=e&&e<=y.getMaxDate()&&!d.isDisabled)if(d.isOtherMonth&&y.enableAutoNavigation)d.row<2?y.navigateBackward():y.navigateForward(),y._selectDate(d.getDate(),"mouse",b.shiftKey);else{{new Date(y.getDate())}y._selectDate(d.getDate(),"mouse",b.shiftKey),y.value._setYear(e.getFullYear()),y.value._setDay(1),y.value._setMonth(e.getMonth()+1),y.value._setDay(e.getDate());var f=y.host.find(".jqx-calendar-month");f.stop(),f.css("margin-left","0px");{y.getDate()}y._raiseEvent("2"),d.isOtherMonth&&y._raiseEvent("5",{selectionType:"mouse"})}}return!1}}),!y.disabled){var z=function(b,c){if(!y.readOnly){var d=a(b.target),e=a.data(y.element,d[0].id);if(null!=e&&void 0!=e){var f=e.getDate();y.getMinDate()<=f&&f<=y.getMaxDate()&&(e.isHighlighted=c,y._applyCellStyle(e,e.element,d))}}};this.addHandler(x,"mouseenter",function(a){return z(a,!0),!1}),this.addHandler(x,"mouseleave",function(a){return z(a,!1),!1})}k++,l[m]=w,m++}k=0,j++}var A=a.data(this.element,b[0].id);void 0!=A&&null!=A&&(A.cells=l),this.renderedCells=l,void 0!=e&&this._addCellsTable(g,f),this._applyCellStyles(),this._refreshOtherMonthRows(A,d)},setMaxDate:function(b,c){(null==b||"string"!=typeof b||(b=new Date(b),"Invalid Date"!=b))&&(this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(b),c!==!1&&this.render())},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(b,c){(null==b||"string"!=typeof b||(b=new Date(b),"Invalid Date"!=b))&&(this.minDate=a.jqx._jqxDateTimeInput.getDateTime(b),c!==!1&&this.render())},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},navigateTo:function(b,c){if("month"==this.view){var d=this.getMinDate(),e=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(b<this._getYearAndMonthPart(d)||b>this._getYearAndMonthPart(e))return!1}else if(b&&(b.getFullYear()<this.getMinDate().getFullYear()||b.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==b)return!1;if(void 0==c){var f=this;if(this._animating)return;this._animating=!0;var g=this.host.find(".jqx-calendar-month-container");this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove());var h=this.host.find(".jqx-calendar-month");h.stop(),h.css("margin-left","0px");var i=h.clone();this._viewClone=i;var j=new Date(this.value.dateTime);this.value._setYear(b.getFullYear()),this.value._setDay(b.getDate()),this.value._setMonth(b.getMonth()+1),f.refreshControl(),g.css("position","relative"),i.css("position","absolute"),i.css("top",h.position().top),g.append(i),a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));
var k=-this.host.width();j>b&&("month"==this.view&&b.getMonth()!=j.getMonth()?k=this.host.width():b.getFullYear()!=j.getFullYear()&&(k=this.host.width())),i.animate({marginLeft:parseInt(k)+"px"},this.navigationDelay,function(){i.remove()});var l=h.clone();this._newViewClone=l,l.css("position","absolute"),l.css("top",h.position().top),g.append(l),l.css("margin-left",-k),h.css("visibility","hidden"),l.animate({marginLeft:"0px"},this.navigationDelay,function(){l.remove(),h.css("visibility","visible"),f._animating=!1})}else{this.value._setYear(b.getFullYear()),this.value._setDay(b.getDate()),this.value._setMonth(b.getMonth()+1);var h=this.host.find(".jqx-calendar-month");h.stop(),h.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(a){return null!=a&&"string"==typeof a&&(a=new Date(a)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(a,"api"),this._selectDate(a),"range"==this.selectionMode&&this._selectDate(a,"mouse"),!0},val:function(a){return 0!=arguments.length&&(null==a&&this.setDate(null),a instanceof Date&&this.setDate(a),"string"==typeof a&&this.setDate(a)),this.getDate()},getDate:function(){return void 0==this.selectedDate?new Date:this.selectedDate},getValue:function(){return void 0==this.value?new Date:this.value.dateTime},setRange:function(a,b){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(a,"api"),this._selectDate(a,"mouse"),this._selectDate(b,"mouse")},getRange:function(){return this.selection},_selectDate:function(b,c,d){if("none"!=this.selectionMode){(null==c||void 0==c)&&(c="none"),(null==d||void 0==d)&&(d=!1);var e=a.data(this.element,"View"+this.element.id);if(void 0!=e&&null!=e){if(this.changing&&b&&this.selectedDate){if(this.selectedDate.getFullYear()!=b.getFullYear()||this.selectedDate.getDate()!=b.getDate()||this.selectedDate.getMonth()!=b.getMonth())var f=this.changing(this.selectedDate,b);f&&(b=f)}var g=this;this.input&&this.input.val(null!=b?b.toString():"");var h=this.selectedDate;if(this.selectedDate=b,"month"!=this.view)return h!=b&&this._raiseEvent(7),a.each(this.renderedCells,function(){{var c=this,d=c.getDate(),e=a(c.element);e.find("#cellContent"+e[0].id)}if(null==b)c.isSelected=!1,c.isDisabled=!1;else if(c.isSelected=!1,d&&(d.getMonth()==b.getMonth()&&"year"==g.view&&d.getFullYear()==b.getFullYear()||"decade"==g.view&&d.getFullYear()==b.getFullYear())){c.isSelected=!0;try{c.element.focus()}catch(f){}}g._applyCellStyle(c,e,e)}),void(this.change&&this.change(b));if("month"==this.view&&"range"==this.selectionMode&&"key"==c){var i=this.getVisibleDate(),j=this.getFirstDayOfWeek(i);this.refreshCalendarCells(this.month,j,"View"+this.element.id)}return a.each(this.renderedCells,function(e){var f=this,h=f.getDate(),i=a(f.element),j=i;if(0==i.length)return!1;if(null==b)f.isSelected=!1,f.isDisabled=!1,0==e&&(g.selection={from:null,to:null},g._raiseEvent("2"),g._raiseEvent("5",{selectionType:c}));else if("range"!=g.selectionMode||"key"==c){if(h.getDate()==b.getDate()&&h.getMonth()==b.getMonth()&&h.getFullYear()==b.getFullYear()&&f.isSelected)return g._applyCellStyle(f,i,j),void g._raiseEvent("5",{selectionType:c});if(f.isSelected&&g._raiseEvent("6",{selectionType:c}),f.isSelected=!1,h.getDate()==b.getDate()&&h.getMonth()==b.getMonth()&&h.getFullYear()==b.getFullYear()){f.isSelected=!0,0==e&&(g.selection={date:b});try{f.element.focus(),g.host.focus()}catch(k){}f.isOtherMonth||(g.value._setMonth(b.getMonth()+1),g.value._setDay(b.getDate()),g.value._setYear(b.getFullYear()),g._raiseEvent("2"),g._raiseEvent("5",{selectionType:c}))}"range"==g.selectionMode&&(g._clicks=0,g.selection={from:b,to:b})}else if("range"==g.selectionMode){if("view"==c)return f.isSelected=!1,f.isDisabled=!1,g.getMaxDate()<h&&(f.isDisabled=!0),g.getMinDate()>h&&(f.isDisabled=!0),g._isDisabled(h)&&(f.isDisabled=!0),g._applyCellStyle(f,i,j),!0;if(0==e)if("none"!=c)if(void 0==g._clicks&&(g._clicks=0),g._clicks++,d&&g._clicks++,1==g._clicks)g.selection={from:b,to:b};else{var l=g.selection.from,m=b>=l?l:b,n=b>=l?b:l;if(m)var o=new Date(m.getFullYear(),m.getMonth(),m.getDate());if(n)var p=new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59);g.selection={from:o,to:p},g._clicks=0}else(null==g.selection||null==g.selection.from)&&(g.selection={from:b,to:b},void 0==g._clicks&&(g._clicks=0),g._clicks++,2==g._clicks&&(g._clicks=0));var q=function(a){if(null==a)return new Date;var b=new Date;return b.setHours(0,0,0,0),b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b};f.isOtherMonth||q(h).toString()!=q(b).toString()||(g.value._setMonth(b.getMonth()+1),g.value._setDay(b.getDate()),g.value._setYear(b.getFullYear()),g._raiseEvent("2"),g._raiseEvent("5",{selectionType:c})),f.isSelected=!1,f.isDisabled=!1,q(h)<q(g.selection.from)&&1==g._clicks&&(f.isDisabled=!0),g.getMaxDate()<h&&(f.isDisabled=!0),g.getMinDate()>h&&(f.isDisabled=!0),g._isDisabled(h)&&(f.isDisabled=!0),f.isDisabled||q(h)>=q(g.selection.from)&&q(h)<=q(g.selection.to)&&(f.isSelected=!0)}g._applyCellStyle(f,i,j)}),"range"==g.selectionMode&&0==g._clicks?void g._raiseEvent(7):void("range"!=g.selectionMode&&h!=b&&(g._raiseEvent(7),this.change&&this.change(b)))}}},_getSelectedDate:function(){var b=a.data(this.element,"View"+this.element.id);if(void 0!=b&&null!=b){if("month"!=this.view)return this.selectedDate;for(var c=0;c<b.cells.length;c++){var d=b.cells[c],e=d.getDate();if(d.isSelected)return e}return this.selectedDate?this.selectedDate:void 0}},_getSelectedCell:function(){var b=a.data(this.element,"View"+this.element.id);if(void 0!=b&&null!=b)for(var c=0;c<b.cells.length;c++){{var d=b.cells[c];d.getDate()}if(d.isSelected)return d}},_applyCellStyle:function(b,c,d){var e=this;(null==d||null!=d&&0==d.length)&&(d=c);var f="";if(f=this.toThemeProperty("jqx-rc-all"),f+=" "+this.toThemeProperty("jqx-item"),(this.disabled||b.isDisabled)&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),f+=" "+this.toThemeProperty("jqx-fill-state-disabled")),b.isOtherMonth&&this.enableOtherMonthDays&&b.isVisible&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),b.isWeekend&&this.enableWeekend&&b.isVisible&&b.isVisible&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),b.isVisible?(f+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&d.length>0&&-1!=d.html().toLowerCase().indexOf("span")&&d.css("cursor","default")):f+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),d.removeAttr("aria-selected"),b.isSelected&&b.isVisible){f+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),f+=" "+this.toThemeProperty("jqx-fill-state-pressed"),d.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",d[0].id);var g=b.getDate();this._isDisabled(g)&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))}if(b.isHighlighted&&b.isVisible&&this.enableHover&&(b.isDisabled||(f+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),f+=" "+this.toThemeProperty("jqx-fill-state-hover"))),f+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),b.isToday&&b.isVisible&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-today")),d[0].className=f,this.specialDates.length>0){var h=this;a.each(this.specialDates,function(){d.removeClass(void 0!=this.Class&&null!=this.Class&&""!=this.Class?this.Class:e.toThemeProperty("jqx-calendar-cell-specialDate"));var c=b.getDate();if(c.getFullYear()==this.Date.getFullYear()&&c.getMonth()==this.Date.getMonth()&&c.getDate()==this.Date.getDate()){if(null==b.tooltip&&null!=this.Tooltip&&(b.tooltip=this.Tooltip,a(d).jqxTooltip)){var f=this.Class;a(d).jqxTooltip({value:{cell:b,specialDate:this.Date},name:h.element.id,content:this.Tooltip,position:"mouse",theme:h.theme,opening:function(){return d.hasClass(e.toThemeProperty("jqx-calendar-cell-specialDate"))?!0:d.hasClass(f)?!0:!1}})}return d.removeClass(e.toThemeProperty("jqx-calendar-cell-othermonth")),d.removeClass(e.toThemeProperty("jqx-calendar-cell-weekend")),void 0==this.Class||""==this.Class?(d.addClass(e.toThemeProperty("jqx-calendar-cell-specialDate")),!1):(d.addClass(this.Class),!1)}})}},_applyCellStyles:function(){var b=a.data(this.element,"View"+this.element.id);if(void 0!=b&&null!=b)for(var c=0;c<b.cells.length;c++){var d=b.cells[c],e=a(d.element),f=e.find("#cellContent"+e[0].id);0==f.length&&(f=e),this._applyCellStyle(d,e,f)}},getWeekOfYear:function(a){var b=a.dayOfYear(a.dateTime)-1,c=a.dayOfWeek-b%7,d=(c-this.firstDayOfWeek+14)%7;return Math.ceil((b+d)/7+1)},renderColumnHeader:function(b){if(this.showDayNames){var c=a("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");c.find("table").addClass(this.toThemeProperty("jqx-reset")),c.find("tr").addClass(this.toThemeProperty("jqx-reset")),c.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),c.addClass(this.toThemeProperty("jqx-reset")),c.addClass(this.toThemeProperty("jqx-widget-content")),c.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(c);var d=this.getVisibleDate(),e=this.getFirstDayOfWeek(d),f=(e.dayOfWeek,this.getWeekOfYear(e),this.firstDayOfWeek),g=this.localization.calendar.days.names,h=new Array,i=e,j=(b.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(j=(b.width()-2)/7);for(var k=0;7>k;k++){var l=g[f];switch(this.rtl&&(l=g[6-f]),this.dayNameFormat){case"default":l=this.localization.calendar.days.namesAbbr[f];break;case"shortest":l=this.localization.calendar.days.namesShort[f];break;case"firstTwoLetters":l=l.substring(0,2);break;case"firstLetter":l=l.substring(0,1)}var m=new a.jqx._jqxCalendar.cell(i.dateTime),n=k+1,o=n+this.element.id,p=a(c[0].rows[0].cells[k]),q=k;this.enableTooltips&&a(p).jqxTooltip&&a(p).jqxTooltip({name:this.element.id,content:g[f],theme:this.theme,position:"mouse"}),f>=6?f=0:f++,k=q,m.element=p,m.row=0,m.column=k+1;var r=this._textwidth(l),s="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+o+"'>"+l+"</div>";if(p.append(s),p.find("#columnCell"+o).addClass(this.toThemeProperty("jqx-calendar-column-cell")),p.width(j),this.disabled&&p.find("#columnCell"+o).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),r>0&&j>0)for(;r>p.width()&&0!=l.length;)l=l.substring(0,l.length-1),a.jqx.utilities.html(p.find("#columnCell"+o),l),r=this._textwidth(l);h[k]=m,i=new a.jqx._jqxDateTimeInput.getDateTime(new Date(i._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.host.width())&&this.columnHeader.width(this.host.width());var t=a.data(this.element,b[0].id);t.columnCells=h}},_format:function(b,c){var d=!1;try{void 0!=Globalize&&(d=!0)}catch(e){}if(a.global)return a.global.culture.calendar=this.localization.calendar,a.global.format(b,c,this.culture);if(d)try{return Globalize.cultures[this.culture]?(Globalize.cultures[this.culture].calendar=this.localization.calendar,Globalize.format(b,c,this.culture)):Globalize.format(b,c,this.culture)}catch(e){return Globalize.format(b,c)}else if(a.jqx.dataFormat)return a.jqx.dataFormat.formatdate(b,c,this.localization.calendar)},_textwidth:function(b){var c=a("<span>"+b+"</span>");c.addClass(this.toThemeProperty("jqx-calendar-column-cell")),a(this.host).append(c);var d=c.width();return c.remove(),d},_textheight:function(b){var c=a("<span>"+b+"</span>");a(this.host).append(c);var d=c.height();return c.remove(),d},_renderRowHeader:function(b){var c=this.getVisibleDate(),d=this.getFirstDayOfWeek(c),e=(d.dayOfWeek,this.getWeekOfYear(d)),f=new a.jqx._jqxDateTimeInput.getDateTime(new Date(d.dateTime));f._addDays(5),f.dayOfWeek=f.dateTime.getDay();this.getWeekOfYear(f);53==e&&0==f.dateTime.getMonth()&&(e=1);var g=a("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");g.find("table").addClass(this.toThemeProperty("jqx-reset")),g.find("td").addClass(this.toThemeProperty("jqx-reset")),g.find("tr").addClass(this.toThemeProperty("jqx-reset")),g.addClass(this.toThemeProperty("jqx-calendar-row-header")),g.width(this.rowHeaderWidth),this.rowHeader.append(g);for(var h=d,i=new Array,j=0;6>j;j++){var k=e.toString(),l=new a.jqx._jqxCalendar.cell(h.dateTime),m=j+1+this.element.id,n=a(g[0].rows[j].cells[0]);l.element=n,l.row=j,l.column=0;var o="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+m+"'>"+k+"</div>";n.append(o),n.find("#headerCellContent"+m).addClass(this.toThemeProperty("jqx-calendar-row-cell")),i[j]=l,h=new a.jqx._jqxDateTimeInput.getDateTime(new Date(h._addWeeks(1))),e=this.getWeekOfYear(h)}var p=a.data(this.element,b[0].id);p.rowCells=i},getFirstDayOfWeek:function(b){var c=b;(this.firstDayOfWeek<0||this.firstDayOfWeek>6)&&(this.firstDayOfWeek=6);var d=c.dayOfWeek-this.firstDayOfWeek;0>=d&&(d+=7);var e=a.jqx._jqxDateTimeInput.getDateTime(c._addDays(-d));return e},getVisibleDate:function(){var b=new a.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));b<this.minDate&&(b=this.minDate),b>this.maxDate&&(this.visibleDate=this.maxDate),b.dateTime.setHours(0);var c=b.day,d=a.jqx._jqxDateTimeInput.getDateTime(b._addDays(-c+1));return b=d},destroy:function(a){this.host.removeClass(),0!=a&&this.host.remove()},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a],d=b?b:{};d.owner=this;var e=new jQuery.Event(c);if(e.owner=this,e.args=d,0==a||1==a||2==a||3==a||4==a||5==a||6==a||7==a||8==a){e.args.date=e.args.selectedDate=this.getDate(),e.args.range=this.getRange();var f=this.getViewStart(),g=this.getViewEnd();e.args.view={from:f,to:g}}var h=this.host.trigger(e);return(0==a||1==a)&&(h=!1),h},propertyMap:function(a){return"value"==a?"range"!=this.selectionMode?this.getDate():this.getRange():null},updateSize:function(){var a=this.host.find("#View"+this.element.id);if(a.length>0){this.setCalendarSize(),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&a.height(this.height):a.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&a.width(this.width):a.width(this.width);var b=this.host.height()-this.titleHeight-this.columnHeaderHeight,c="View"+this.element.id;a.find("#cellsTable"+c).height(b),a.find("#calendarRowHeader"+c).height(b),this.refreshControl()}},resize:function(){this.updateSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized&&"enableHover"!=c&&"keyboardNavigation"!=c){if("localization"==c&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==c)try{if(a.global)a.global.preferCulture(b.culture),b.localization.calendar=a.global.culture.calendar;else if(Globalize){var f=Globalize.culture(b.culture);b.localization.calendar=f.calendar}}catch(g){}return"views"==c?(-1==b.views.indexOf("month")&&(b.view="year"),-1==b.views.indexOf("year")&&-1==b.views.indexOf("month")&&(b.view="decade"),void b.render()):("showFooter"==c&&b.render(),"width"==c||"height"==c?void b.updateSize():void("theme"==c?a.jqx.utilities.setTheme(d,e,b.host):"rowHeaderWidth"==c||"showWeekNumbers"==c?b.render():(b.view="month",b.render())))}}})}(jQuery),function(a){a.jqx._jqxCalendar.cell=function(b){var c={dateTime:new a.jqx._jqxDateTimeInput.getDateTime(b),_date:b,getDate:function(){return this._date},setDate:function(b){this.dateTime=new a.jqx._jqxDateTimeInput.getDateTime(b),this._date=b},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null};return c},a.jqx._jqxCalendar.monthView=function(a,b,c,d,e,f){var g={start:a,end:b,cells:c,rowCells:d,columnCells:e,element:f};return g}}(jQuery),function(a){a.jqx.jqxWidget("jqxTooltip","",{}),a.extend(a.jqx._jqxTooltip.prototype,{defineInstance:function(){this.width="auto",this.height="auto",this.position="default",this.enableBrowserBoundsDetection=!0,this.content="",this.left=0,this.top=0,this.absolutePositionX=0,this.absolutePositionY=0,this.trigger="hover",this.showDelay=100,this.autoHide=!0,this.autoHideDelay=3e3,this.closeOnClick=!0,this.disabled=!1,this.animationShowDelay=200,this.animationHideDelay="fast",this.showArrow=!0,this.name="",this.opacity=.9,this.rtl=!1,this._isOpen=!1,this.opening=null,this.value=null,this._eventsMap={mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend")},this.events=["open","close","opening","closing"]},createInstance:function(){this._isTouchDevice=a.jqx.mobile.isTouchDevice();var b=a.data(document.body,"_tooltipIDArray"+this.name);b?this.ID_Array=b:(this.ID_Array=new Array,a.data(document.body,"_tooltipIDArray"+this.name,this.ID_Array));var c=this._generatekey(),d="jqxtooltip"+c;this.ID_Array.push({tooltipID:d,tooltipHost:this.host});var e=a('<div id="'+d+'"><div id ="'+d+'Main"><div id="'+d+'Text"></div></div><div id="'+d+'Arrow"></div></div>');a.jqx.browser.msie&&e.addClass(this.toThemeProperty("jqx-noshadow")),a("body").append(e),this._setTheme();var f=a("#"+d);f.css("visibility","hidden"),f.css("display","none"),f.css("opacity",0),f.css("z-index",99999),0==this.showArrow&&(a("#"+d+"Arrow").css("visibility","hidden"),a("#"+d+"Arrow").css("display","none")),this._setSize(),this._setContent(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2==arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),0==this.disabled&&"removed"!=this._id())if("mouse"==this.position||"mouseenter"==this.position){var a=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=a}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(b){var c=this;a.isEmptyObject(b)&&(b=this.animationHideDelay);var d=new Number(a(this._id()).css("opacity")).toFixed(2),e=function(){clearTimeout(c.autoHideTimeout),c._raiseEvent("3"),a(c._id()).animate({opacity:0},b,function(){a(c._id()).css("visibility","hidden"),a(c._id()).css("display","none"),c._raiseEvent("1"),c._isOpen=!1})};return 0==this._isOpen&&0!=d?(a(c._id()).stop(),void e()):void(1==this._isOpen&&d==this.opacity&&e())},destroy:function(){var b=this.ID_Array.length;this._removeHandlers(),a(this._id()).remove();for(var c=0;b>c;c++)if(this.ID_Array[c].tooltipHost===this.host){this.ID_Array.splice(c,1);break}a(this.element).removeData("jqxTooltip")},refresh:function(b){if(1!=b){this.rtl&&(a(this._id()+"Text").addClass(this.toThemeProperty("jqx-rtl")),a(this._id()+"Text").css({direction:"rtl"}));var c=this,d=new Number(a(this._id()).css("opacity")).toFixed(2);"removed"!=this._id()&&(1==this.disabled&&1==this._isOpen&&d==this.opacity&&(clearTimeout(this.autoHideTimeout),a(this._id()).stop(),a(this._id()).animate({opacity:0},this.animationHideDelay,function(){a(c._id()).css("visibility","hidden"),a(c._id()).css("display","none"),c._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!=this.position&&"mouseenter"!=this.position&&this._setPosition(),this._removeHandlers(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide()))}},propertyChangedHandler:function(a,b){"content"==b&&(this.changeContentFlag=!0),a.refresh()},_raiseEvent:function(a,b){var c=this.events[a],d=new jQuery.Event(c);d.owner=this,d.args=b;try{var e=this.host.trigger(d)}catch(f){}return e},_generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()},_id:function(){for(var a,b,c=this.ID_Array.length,d=0;c>d;d++)if(this.ID_Array[d].tooltipHost===this.host){a=this.ID_Array[d].tooltipID,b="#"+a;break}return void 0==b&&(b="removed"),b},_setPosition:function(b){if(0==this._isOpen&&0==a(this._id()).css("opacity")||1==this.changeContentFlag){if(!b&&("mouse"==this.position||"mouseenter"==this.position))return;a(this._id()).css("display","block"),this.changeContentFlag=!1,this.documentTop=a(document).scrollTop(),this.documentLeft=a(document).scrollLeft(),this.windowWidth=a(window).width(),this.windowHeight=a(window).height(),this.host_width=this.host.outerWidth(),this.host_height=this.host.outerHeight(),this.tooltip_width=a(this._id()).width(),this.tooltip_height=a(this._id()).height(),this.host_offset=this.host.offset(),this.tooltip_offset=a(this._id()).offset(),this.default_offset=30,this.offset_horizontal=parseInt(this.left),this.offset_vertical=parseInt(this.top);var c=a(this._id()+"Arrow"),d=a(this._id()+"Main");switch(this.arrow_size=5,this.tooltip_main_offset=d.offset(),this.tooltip_arrow_offset,this.position){case"top":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(d.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height(),c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(d.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"left":this.tooltip_offset.left=-1+this.host_offset.left-this.tooltip_width-this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=d.offset(),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=1+this.tooltip_main_offset.left+d.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height()/2-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"right":this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this.tooltip_offset.top=parseInt(this.tooltip_offset.top),this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height()/2-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+d.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height(),c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+d.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height(),c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"absolute":a(this._id()).offset({top:this.absolutePositionY,left:this.absolutePositionX}),c.css({"border-width":"0px"});break;case"mouse":var e=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){e.tooltip_offset.left=b.pageX+10,e.tooltip_offset.top=b.pageY+10,e._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltip_offset.left=b.pageX+10,this.tooltip_offset.top=b.pageY+10,this._detectBrowserBounds()}else{var f=b.pageX,g=b.pageY;if(b.originalEvent){var h=null;if(b.originalEvent.touches&&b.originalEvent.touches.length)var h=b.originalEvent.touches[0];else if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length)var h=b.originalEvent.changedTouches[0];void 0!=h&&(f=h.pageX,g=h.pageY)}this.tooltip_offset.left=f+10,this.tooltip_offset.top=g+10,this._detectBrowserBounds()}c.css({"border-width":"0px"});break;case"mouseenter":var i={top:b.pageY,left:b.pageX};i.top<this.host_offset.top+10&&i.top>this.host_offset.top-10?(this.tooltip_offset.left=i.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(d.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height(),c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):i.top<this.host_offset.top+this.host_height+10&&i.top>this.host_offset.top+this.host_height-10?(this.tooltip_offset.left=i.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(d.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):i.left<this.host_offset.left+10&&i.left>this.host_offset.left-10?(this.tooltip_offset.left=this.host_offset.left-this.tooltip_width-this.arrow_size,this.tooltip_offset.top=i.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=d.offset(),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+d.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height()/2-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):i.left<this.host_offset.left+this.host_width+10&&i.left>this.host_offset.left+this.host_width-10&&(this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size,this.tooltip_offset.top=i.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_main_offset=d.offset(),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height()/2-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left}));
break;case"default":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})}}},_setContent:function(){a(this._id()+"Text").html(this.content)},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var b=new Number(a(this._id()).css("opacity")).toFixed(2);if(0==this._isOpen&&0==b){var c=this,d=a(this._id());if(d.css("visibility","visible"),d.css("display","block"),d.stop(),d.css("opacity",0),this.opening){var e=this.opening(this);if(e===!1)return}d.animate({opacity:this.opacity},this.animationShowDelay,function(){c._raiseEvent("0"),c._isOpen=!0;a.data(document.body,"_openedTooltip"+c.name);c.openedTooltip=c,a.data(document.body,"_openedTooltip"+c.name,c),c.autoHideTimeout&&clearTimeout(c.autoHideTimeout),c.autoHideDelay>0&&(c.autoHideTimeout=setTimeout(function(){c._autoHide()},c.autoHideDelay))})}},_trigger:function(){if("removed"!=this._id()){this._enterFlag,this._leaveFlag;var b=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":"mouse"==this.position?(this.addHandler(this.host,"mousemove.tooltip",function(a){1==b._enterFlag&&(b._raiseEvent("2"),b._setPosition(a),clearTimeout(b.hoverShowTimeout),b.hoverShowTimeout=setTimeout(function(){b._animateShow(),b._enterFlag=0},b.showDelay))}),this.addHandler(this.host,"mouseenter.tooltip",function(){0!=b._leaveFlag&&(b._enterFlag=1)}),this.addHandler(this.host,"mouseleave.tooltip",function(c){b._leaveFlag=1,clearTimeout(b.hoverShowTimeout);var d=a(b._id()).offset(),e=a(b._id()).width(),f=a(b._id()).height();(parseInt(c.pageX)<parseInt(d.left)||parseInt(c.pageX)>parseInt(d.left)+e)&&b.close(),(parseInt(c.pageY)<parseInt(d.top)||parseInt(c.pageY)>parseInt(d.top)+f)&&b.close()}),this.addHandler(a(this._id()),"mouseleave.tooltip",function(a){b._checkBoundariesAuto(a),0!=b._clickFlag&&0!=b._autoFlag?b._leaveFlag=0:(b._leaveFlag=1,b.close())})):(this.addHandler(this.host,"mouseenter.tooltip",function(a){clearTimeout(b.hoverShowTimeout),b.hoverShowTimeout=setTimeout(function(){b._raiseEvent("2"),b._setPosition(a),b._animateShow()},b.showDelay)}),this.addHandler(this.host,"mouseleave.tooltip",function(c){if(b._leaveFlag=1,clearTimeout(b.hoverShowTimeout),b.autoHide){var d=c.pageX,e=c.pageY,f=a(b._id()).offset(),g=f.left,h=f.top,i=a(b._id()).width(),j=a(b._id()).height();(parseInt(d)<parseInt(g)||parseInt(d)>parseInt(g)+i||parseInt(e)<parseInt(h)||parseInt(e)>parseInt(h)+j)&&b.close()}}),this.addHandler(a(this._id()),"mouseleave.tooltip",function(a){b._checkBoundariesAuto(a),0!=b._clickFlag&&0!=b._autoFlag?b._leaveFlag=0:(b._leaveFlag=1,b.autoHide&&b.close())}));break;case"click":this.addHandler(this.host,"click.tooltip",function(a){"mouseenter"==b.position&&(b.position="mouse"),b._raiseEvent("2"),b._setPosition(a),b._animateShow()});break;case"none":}else"none"!=this.trigger&&this.addHandler(this.host,"touchstart.tooltip",function(a){"mouseenter"==b.position&&(b.position="mouse"),b._raiseEvent("2"),b._setPosition(a),b._animateShow()})}},_autoHide:function(){var b=this,c=new Number(a(this._id()).css("opacity")).toFixed(2);1==this.autoHide&&1==this._isOpen&&c>=this.opacity&&(b._raiseEvent("3"),a(b._id()).animate({opacity:0},b.animationHideDelay,function(){a(b._id()).css("visibility","hidden"),a(b._id()).css("display","none"),b._raiseEvent("1"),b._isOpen=!1}))},_clickHide:function(){var b=this;this.addHandler(a(this._id()),"click.tooltip",function(a){b._checkBoundariesClick(a),b.close()})},_setSize:function(){a(this._id()).css({width:this.width,height:this.height})},resize:function(){this._setSize()},_setTheme:function(){var b=this._id(),c=a(b+"Main"),d=a(b+"Text"),e=a(b+"Arrow");c.addClass(this.toThemeProperty("jqx-widget")),d.addClass(this.toThemeProperty("jqx-widget")),e.addClass(this.toThemeProperty("jqx-widget")),c.addClass(this.toThemeProperty("jqx-fill-state-normal")),d.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),a(b).addClass(this.toThemeProperty("jqx-tooltip")),a(b).addClass(this.toThemeProperty("jqx-popup")),c.addClass(this.toThemeProperty("jqx-tooltip-main")),d.addClass(this.toThemeProperty("jqx-tooltip-text")),e.addClass(this.toThemeProperty("jqx-tooltip-arrow"))},_initialPosition:function(){var a=this.position;this.position="default",this._setPosition(),this.position=a},_detectBrowserBounds:function(){var b=this._id();a(b).offset(this.enableBrowserBoundsDetection?this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left<0?{top:this.documentTop,left:this.documentLeft}:this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?{top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltip_width}:this.tooltip_offset.top<this.documentTop?{top:this.documentTop,left:this.tooltip_offset.left}:this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left<0?{top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.documentLeft}:this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?{top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.windowWidth+this.documentLeft-this.tooltip_width}:this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop?{top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.tooltip_offset.left}:this.tooltip_offset.left<0?{top:this.tooltip_offset.top,left:this.documentLeft}:this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?{top:this.tooltip_offset.top,left:this.windowWidth+this.documentLeft-this.tooltip_width}:{top:this.tooltip_offset.top,left:this.tooltip_offset.left}:{top:this.tooltip_offset.top,left:this.tooltip_offset.left})},_checkBoundaries:function(a){return a.pageX>=this.host_offset.left&&a.pageX<=this.host_offset.left+this.host_width&&a.pageY>=this.host_offset.top&&a.pageY<=this.host_offset.top+this.host_height?!0:!1},_checkBoundariesClick:function(a){this._clickFlag=this._checkBoundaries(a)?1:0},_checkBoundariesAuto:function(a){this._autoFlag=this._checkBoundaries(a)?1:0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(a(this._id()),"click.tooltip"),this.removeHandler(a(this._id()),"mouseleave.tooltip")},_closeAll:function(){for(var b=this.ID_Array.length,c=0;b>c;c++){var d="#"+this.ID_Array[c].tooltipID;d!=this._id()&&(a(d).css({opacity:0,visibility:"hidden",display:"none"}),this._isOpen=!1)}}})}(jQuery),function(a){function b(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(s),h=0,i=g.length;if(jQuery.isFunction(c))for(;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function c(a,b,d,e,f,g){f=f||b.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===t;k>j&&(l||!h);j++)h=i[j](b,d,e),"string"==typeof h&&(!l||g[h]?h=void 0:(b.dataTypes.unshift(h),h=c(a,b,d,e,h,g)));return!l&&h||g["*"]||(h=c(a,b,d,e,"*",g)),h}function d(b,c){var d,e,f=a.jqx.data.ajaxSettings.flatOptions||{};for(d in c)void 0!==c[d]&&((f[d]?b:e||(e={}))[d]=c[d]);e&&jQuery.extend(!0,b,e)}function e(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes,j=a.responseFields;for(e in j)e in c&&(b[j[e]]=c[e]);for(;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("content-type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function f(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function g(){try{return new window.XMLHttpRequest}catch(a){}}function h(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}a.jqx.dataAdapter=function(b,c){if(void 0!=b&&(void 0!==b.dataFields&&(b.datafields=b.dataFields),void 0!==b.dataType&&(b.datatype=b.dataType),void 0!==b.localData&&(b.localdata=b.localData),void 0!==b.sortColumn&&(b.sortcolumn=b.sortColumn),void 0!==b.sortDirection&&(b.sortdirection=b.sortDirection),void 0!==b.sortOrder&&(b.sortdirection=b.sortOrder),void 0!==b.formatData&&(b.formatdata=b.formatData),void 0!==b.processData&&(b.processdata=b.processData),void 0!==b.pageSize&&(b.pagesize=b.pageSize),void 0!==b.pageNum&&(b.pagenum=b.pageNum),void 0!==b.updateRow&&(b.updaterow=b.updateRow),void 0!==b.addRow&&(b.addrow=b.addRow),void 0!==b.deleteRow&&(b.deleterow=b.deleteRow),void 0!==b.contentType&&(b.contenttype=b.contentType),void 0!=b.totalRecords&&(b.totalrecords=b.totalRecords),void 0!=b.loadError&&(b.loadError=b.loadError),void 0!=b.sortComparer&&(b.sortcomparer=b.sortComparer)),this._source=b,this._options=c||{},this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=b&&null!=b.localdata&&"function"==typeof b.localdata){var d=b.localdata();if(null!=d){b._localdata=b.localdata;var e=this;b._localdata.subscribe&&(e._oldlocaldata=[],b._localdata.subscribe(function(b){var c=function(b){return jQuery.isArray(b)?jQuery.makeArray(c(a(b))):jQuery.extend(!0,{},b)};(0==e.suspendKO||void 0==e.suspendKO||0==e._oldlocaldata.length)&&(e._oldlocaldata=c(b))},b._localdata,"beforeChange"),b._localdata.subscribe(function(a){if(0==e.suspendKO||void 0==e.suspendKO){var c="";e._oldrecords=e.records,0==e._oldlocaldata.length&&(b.localdata=b._localdata()),0==e._oldlocaldata.length?c="change":(e._oldlocaldata.length==a.length&&(c="update"),e._oldlocaldata.length>a.length&&(c="remove"),e._oldlocaldata.length<a.length&&(c="add")),e.dataBind(null,c)}},b._localdata,"change"),e._knockoutdatasource=!0),b.localdata=d}}1==this._options.autoBind&&this.dataBind()},a.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(a){this.isUpdating=!1,0!=a&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(b,c,d){var e=a.jqx.dataFormat.formatdate(b,c,d);return e},formatNumber:function(b,c,d){var e=a.jqx.dataFormat.formatnumber(b,c,d);return e},dataBind:function(b,c){if(1!=this.isUpdating){var d=this._source;if(d){a.jqx.dataFormat.datescache=new Array,null!=d.dataFields&&(d.datafields=d.dataFields),void 0==d.recordstartindex&&(d.recordstartindex=0),void 0==d.recordendindex&&(d.recordendindex=0),void 0==d.loadallrecords&&(d.loadallrecords=!0),void 0!=d.sort&&(this.sort=d.sort),this.filter=void 0!=d.filter?d.filter:null,void 0!=d.sortcolumn&&(this.sortcolumn=d.sortcolumn),void 0!=d.sortdirection&&(this.sortdirection=d.sortdirection),void 0!=d.sortcomparer&&(this.sortcomparer=d.sortcomparer),this.records=new Array;var e=this._options||{};if(this.virtualmode=void 0!=e.virtualmode?e.virtualmode:!1,this.totalrecords=void 0!=e.totalrecords?e.totalrecords:0,this.pageable=void 0!=e.pageable?e.pageable:!1,this.pagesize=void 0!=e.pagesize?e.pagesize:0,this.pagenum=void 0!=e.pagenum?e.pagenum:0,this.cachedrecords=void 0!=e.cachedrecords?e.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=e.updaterow?e.updaterow:null,this.addrow=void 0!=e.addrow?e.addrow:null,this.deleterow=void 0!=e.deleterow?e.deleterow:null,this.cache=void 0!=e.cache?e.cache:!1,this.unboundmode=!1,void 0!=d.formatdata&&(e.formatData=d.formatdata),void 0!=d.data&&(void 0==e.data&&(e.data={}),a.extend(e.data,d.data)),this.mapChar=void 0!=d.mapchar?d.mapchar?d.mapchar:">":e.mapChar?e.mapChar:">",(e.unboundmode||d.unboundmode)&&(this.unboundmode=e.unboundmode||d.unboundmode),void 0!=d.cache&&(this.cache=d.cache),this.koSubscriptions)for(var f=0;f<this.koSubscriptions.length;f++)this.koSubscriptions[f].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var g=this,h=d.datatype;("csv"===d.datatype||"tab"===d.datatype||"tsv"===d.datatype||"text"==d.datatype)&&(h="text");var i=void 0!=e.async?e.async:!0;switch(void 0!=d.async&&(i=d.async),h){case"local":case"array":case"observablearray":default:if(void 0==d.localdata&&d.length){d.localdata=new Array;for(var j=0;j<d.length;j++)d.localdata[d.localdata.length]=d[j],d[j].uid=j}d.beforeprocessing&&a.isFunction(d.beforeprocessing)&&d.beforeprocessing(d.localdata);var k=d.localdata.length;if(this.totalrecords=this.virtualmode?d.totalrecords||k:k,this.unboundmode){this.totalrecords=this.unboundmode?d.totalrecords||k:k;var l=d.datafields?d.datafields.length:0;if(l>0)for(var j=0;j<this.totalrecords;j++){for(var m={},n=0;l>n;n++)m[d.datafields[n].name]="";m.uid=j,d.localdata[d.localdata.length]=m}}void 0==this.totalrecords&&(this.totalrecords=0);var l=d.datafields?d.datafields.length:0,o=function(b,c){for(var e={},f=0;c>f;f++){var h=d.datafields[f],i="";if(void 0!=h&&null!=h){if(h.map){if(a.isFunction(h.map))i=h.map(b);else{var j=h.map.split(g.mapChar);if(j.length>0){for(var k=b,l=0;l<j.length;l++)k&&(k=k[j[l]]);i=k}else i=b[h.map]}void 0!=i&&null!=i?i=i.toString():void 0==i&&null!=i&&(i="")}""==i&&(i=b[h.name],void 0!=i&&null!=i&&(i=d._localdata&&i.subscribe?i():i.toString())),i=g.getvaluebytype(i,h),void 0!=h.displayname?e[h.displayname]=i:e[h.name]=i}}return e};if(d._localdata){this._changedrecords=[],this.records=new Array;var p=d._localdata();if(a.each(p,function(b,e){if("string"==typeof e)g.records.push(e);else{var f={},h=0,i=this;a.each(this,function(c){var e=null,j="string",k=c;if(l>0){for(var m=!1,n=!1,o=0;l>o;o++){var p=d.datafields[o];if(void 0!=p&&p.name==c){m=!0,e=p.map,j=p.type,k=p.name;break}if(void 0!=p&&p.map&&p.map.indexOf(c)>=0){m=!0,e=p.map,j=p.type,k=p.name,n=!0;var q=i[c];if(null!=e){var r=e.split(g.mapChar);if(r.length>0){for(var s=i,t=0;t<r.length;t++)s=s[r[t]];q=s}else q=i[e]}"string"!=j&&(q=g.getvaluebytype(q,{type:j})),f[k]=q,void 0!=f[k]&&(h+=f[k].toString().length+f[k].toString().substr(0,1))}}if(!m)return!0;if(n)return!0}var u=a.isFunction(i[c]);if(u){var q=i[c]();if("string"!=j&&(q=g.getvaluebytype(q,{type:j})),f[c]=q,i[c].subscribe){var v=b;g.koSubscriptions[g.koSubscriptions.length]=i[c].subscribe(function(a){var b=v;f[c]=a;var d={index:b,oldrecord:f,record:f};return g._changedrecords.push(d),g.isUpdating?void 0:(g.callBindingUpdate("update"),g._changedrecords=[],!1)})}}else{var q=i[c];if(null!=e){var r=e.split(g.mapChar);if(r.length>0){for(var s=i,t=0;t<r.length;t++)s=s[r[t]];q=s}else q=i[e]}"string"!=j&&(q=g.getvaluebytype(q,{type:j})),f[k]=q,void 0!=f[k]&&(h+=f[k].toString().length+f[k].toString().substr(0,1))}});var j=g.getid(d.id,i,b);if(f.uid=j,g.records.push(f),f._koindex=h,g._oldrecords){var k=g.records.length-1;if("update"==c&&g._oldrecords[k]._koindex!=h){var m={index:k,oldrecord:g._oldrecords[k],record:f};g._changedrecords.push(m)}}}}),"add"==c)for(var k=g.records.length,j=0;k>j;j++){for(var m=g.records[j],q=!1,r=0;r<g._oldrecords.length;r++)if(g._oldrecords[r]._koindex===m._koindex){q=!0;break}q||g._changedrecords.push({index:j,oldrecord:null,record:m,position:0!=j?"last":"first"})}else if("remove"==c)for(var k=g._oldrecords.length,j=0;k>j;j++){var s=g._oldrecords[j];g.records[j]?g.records[j]._koindex!=s._koindex&&g._changedrecords.push({index:j,oldrecord:s,record:null}):g._changedrecords.push({index:j,oldrecord:s,record:null})}}else a.isArray(d.localdata)?0==l?a.each(d.localdata,function(b,c){var e=a.extend({},this);if("string"==typeof c)return g.records=d.localdata,!1;var f=g.getid(d.id,e,b);"object"==typeof f&&(f=b),e.uid=f,g.records[g.records.length]=e}):a.each(d.localdata,function(b){var c=this,e=o(c,l),f=g.getid(d.id,e,b);"object"==typeof f&&(f=b);var c=a.extend({},e);c.uid=f,g.records[g.records.length]=c}):(this.records=new Array,a.each(d.localdata,function(a){var b=g.getid(d.id,this,a);if(l>0){var c=this,e=o(c,l);e.uid=b,g.records[g.records.length]=e}else this.uid=b,g.records[g.records.length]=this}));if(this.originaldata=d.localdata,this.cachedrecords=this.records,this.addForeignValues(d),e.uniqueDataFields){var t=this.getUniqueRecords(this.records,e.uniqueDataFields);this.records=t,this.cachedrecords=t}if(e.beforeLoadComplete){var u=e.beforeLoadComplete(g.records,this.originaldata);void 0!=u&&(g.records=u,g.cachedrecords=u)}if(e.autoSort&&e.autoSortField){var v=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[e.autoSortField]},g.records.sort(function(b,c){if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return 1;if(null!==b&&null===c)return-1;if(b=b.toString(),c=c.toString(),a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return c>b?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return c>b?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase());try{if(c>b)return-1;if(b>c)return 1}catch(d){}return 0}),Object.prototype.toString=v}g.loadedData=d.localdata,g.buildHierarchy(),a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata,g.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(null!=d.localdata){if(a.isFunction(d.beforeprocessing)&&d.beforeprocessing(d.localdata),"xml"===d.datatype?g.loadxml(d.localdata,d.localdata,d):"text"===h?g.loadtext(d.localdata,d):g.loadjson(d.localdata,d.localdata,d),g.addForeignValues(d),e.uniqueDataFields){var t=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=t,g.cachedrecords=t}if(e.beforeLoadComplete){var u=e.beforeLoadComplete(g.records,this.originaldata);void 0!=u&&(g.records=u,g.cachedrecords=u)}return g.loadedData=d.localdata,g.buildHierarchy.call(g),a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata,g.records),void g.callBindingUpdate(c)}var w=void 0!=e.data?e.data:{};if(d.processdata&&d.processdata(w),a.isFunction(e.processData)&&e.processData(w),a.isFunction(e.formatData)){var x=e.formatData(w);void 0!=x&&(w=x)}var y="application/x-www-form-urlencoded";e.contentType&&(y=e.contentType);var z="GET";if(d.type&&(z=d.type),e.type&&(z=e.type),d.url&&d.url.length>0)a.isFunction(e.loadServerData)?g._requestData(w,d,e):this.xhr=a.jqx.data.ajax({dataType:h,cache:this.cache,type:z,url:d.url,async:i,contentType:y,data:w,success:function(b,c,f){if(a.isFunction(d.beforeprocessing)){var i=d.beforeprocessing(b,c,f);void 0!=i&&(b=i)}if(a.isFunction(e.downloadComplete)){var i=e.downloadComplete(b,c,f);void 0!=i&&(b=i)}if(null==b)return g.records=new Array,g.cachedrecords=new Array,g.originaldata=new Array,g.callDownloadComplete(),void(a.isFunction(e.loadComplete)&&e.loadComplete(new Array));var j=b;if(b.records&&(j=b.records),void 0!=b.totalrecords&&(d.totalrecords=b.totalrecords),"xml"===d.datatype?g.loadxml(null,j,d):"text"===h?g.loadtext(j,d):g.loadjson(null,j,d),g.addForeignValues(d),e.uniqueDataFields){var k=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=k,g.cachedrecords=k}if(e.beforeLoadComplete){var l=e.beforeLoadComplete(g.records,b);void 0!=l&&(g.records=l,g.cachedrecords=l)}g.loadedData=b,g.buildHierarchy.call(g),g.callDownloadComplete(),a.isFunction(e.loadComplete)&&e.loadComplete(b,c,f,g.records)},error:function(b,c,f){a.isFunction(d.loaderror)&&d.loaderror(b,c,f),a.isFunction(e.loadError)&&e.loadError(b,c,f),b=null,g.callDownloadComplete()},beforeSend:function(b,c){a.isFunction(e.beforeSend)&&e.beforeSend(b,c),a.isFunction(d.beforesend)&&d.beforesend(b,c)}});else if(g.buildHierarchy(new Array),g.callDownloadComplete(),a.isFunction(e.loadComplete)){if(!A)var A={};e.loadComplete(A)}}this.callBindingUpdate(c)}}},buildHierarchy:function(a){var b=this._source,c=new Array;if(b.datafields){if(b.hierarchy&&!b.hierarchy.reservedNames)b.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(b.hierarchy){var d=b.hierarchy.reservedNames;d.leaf||(d.leaf="leaf"),d.parent||(d.parent="parent"),d.expanded||(d.expanded="expanded"),d.checked||(d.checked="checked"),d.selected||(d.selected="selected"),d.level||(d.level="level"),d.data||(d.data="data")}if(b.hierarchy){var e=this,d=b.hierarchy.reservedNames;if(b.hierarchy.root){if("xml"==b.dataType){var c=this.getRecordsHierarchy("uid","parentuid","records",null,a);return this.hierarchy=c,c}this.hierarchy=this.records;for(var f=b.hierarchy.root,g=0;g<this.records.length;g++){var h=this.records[g];if(h){var i=function(a){if(b.hierarchy.record)a.records=a[f][b.hierarchy.record];else{var c=f.split(e.mapChar),g=null;if(c.length>1){for(var h=a,i=0;i<c.length;i++)void 0!=h&&(h=h[c[i]]);g=h}else g=a[f];a.records=g}(null==a.records||a.records&&0==a.records.length)&&(a[d.leaf]=!0)};i(h),h[d.level]=0;var j=this.getid(b.id,h,g);h.uid=j,h[d.parent]=null,h[d.data]=h,void 0===h[d.expanded]&&(h[d.expanded]=!1);var k=function(a,c){if(!c)return void(a.records=new Array);for(var f=0;f<c.length;f++){var g=c[f];if(g){i(g),g[d.level]=a[d.level]+1,g[d.parent]=a,g[d.data]=g;var h=e.getid(b.id,g,f);g.uid=h==f&&null==b.id?a.uid+"_"+h:h,void 0===g[d.expanded]&&(g[d.expanded]=!1),k(g,g.records)}}};k(h,h.records)}}return this.hierarchy}if(b.hierarchy.keyDataField&&b.hierarchy.parentDataField){var c=this.getRecordsHierarchy(b.hierarchy.keyDataField.name,b.hierarchy.parentDataField.name,"records",null,a);return this.hierarchy=c,c}if(b.hierarchy.groupingDataFields){for(var l=new Array,g=0;g<b.hierarchy.groupingDataFields.length;g++)l.push(b.hierarchy.groupingDataFields[g].name);var c=this.getGroupedRecords(l,"records","label",null,"data",null,"parent",a);return this.hierarchy=c,c}}}},addRecord:function(a,b,c,d){var e=this,f=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=a){if(void 0==c){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||d)){var g=e._source&&e._source.hierarchy?e._source.hierarchy.reservedNames:null;null==g&&(g=f()),a[g.level]=0,"last"==b?this.hierarchy.push(a):"number"==typeof b&&isFinite(b)?this.hierarchy.splice(b,0,a):this.hierarchy.splice(0,0,a)}else"last"==b?this.records.push(a):"number"==typeof b&&isFinite(b)?this.records.splice(b,0,a):this.records.splice(0,0,a);return!0}if(this.hierarchy.length>0){var h=function(d){if(d)for(var g=0;g<d.length;g++){var i=d[g];if(i.uid==c){var j=e._source&&e._source.hierarchy?e._source.hierarchy.reservedNames:null;return null==j&&(j=f()),a[j.parent]=i,a[j.level]=i[j.level]+1,i.records||(i.records=new Array,i[j.leaf]=!1),"last"==b?i.records.push(a):"number"==typeof b&&isFinite(b)?i.records.splice(b,0,a):i.records.splice(0,0,a),e.records.push(a),!0}i.records&&h(i.records)}};h(this.hierarchy)}}return!1},deleteRecord:function(a){var b=this;if(this.hierarchy.length>0){var c=function(d){if(d)for(var e=0;e<d.length;e++){var f=d[e];if(f.uid==a){d.splice(e,1),b.recordids[a]&&delete b.recordids[a];var g=function(a){for(var c=0;c<a.length;c++){for(var d=a[c].uid,e=0;e<b.records.length;e++){var f=b.records[e];if(f.uid==d){b.records.splice(e,1);break}}a[c].records&&g(a[c].records)}};f.records&&g(f.records);for(var h=0;h<b.records.length;h++){var f=b.records[h];if(f.uid==a){b.records.splice(h,1);break}}return!0}f.records&&c(f.records)}};c(this.hierarchy)}else for(var d=0;d<this.records.length;d++){var e=this.records[d];if(e.uid==a)return this.records.splice(d,1),!0}return!1},addForeignValues:function(a){for(var b=this,c=a.datafields?a.datafields.length:0,d=0;c>d;d++){var e=a.datafields[d];if(void 0!=e)if(void 0!=e.values){void 0==e.value&&(e.value=e.name),void 0==e.values.value&&(e.values.value=e.value);var f,g,h=new Array;b.pageable&&b.virtualmode?(f=b.pagenum*b.pagesize,g=f+b.pagesize,g>b.totalrecords&&(g=b.totalrecords)):b.virtualmode?(f=a.recordstartindex,g=a.recordendindex,g>b.totalrecords&&(g=b.totalrecords)):(f=0,g=b.records.length);for(var i=f;g>i;i++){var j=b.records[i],k=e.name,l=j[e.value];if(void 0!=h[l])j[k]=h[l];else for(var m=0;m<e.values.source.length;m++){var n=e.values.source[m],o=n[e.values.value];if(void 0==o&&(o=n.uid),o==l){var p=n[e.values.name];j[k]=p,h[l]=p;break}}}}else if(void 0!=e.value)for(var i=0;i<b.records.length;i++){var j=b.records[i];j[e.name]=j[e.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(b,c,d){var e=this,f=function(b){b.totalrecords&&(c.totalrecords=b.totalrecords,e.totalrecords=b.totalrecords),b.records&&(e.records=b.records,e.cachedrecords=b.records),a.isFunction(d.loadComplete)&&d.loadComplete(b),e.callDownloadComplete()};d.loadServerData(b,c,f)},getUniqueRecords:function(a,b){if(a&&b)for(var c=a.length,d=b.length,e=new Array,f=new Array,g=0;c>g;g++){var h=a[g],i="";if(void 0!=h){for(var j=0;d>j;j++){var k=b[j];i+=h[k]+"_"}f[i]||(e[e.length]=h),f[i]=!0}}return e},getAggregatedData:function(b,c,d,e){var f=d;f||(f=this.records);var g={},h=new Array,i=f.length;if(0!=i&&void 0!=i){for(var j=0;i>j;j++)for(var k=f[j],l=0;l<b.length;l++){var m=b[l],n=k[m.name];if(null!==n&&m.aggregates){g[m.name]=g[m.name]||{},h[m.name]=h[m.name]||0,h[m.name]++;var o=function(b){for(obj in b){var c=g[m.name][obj];null==c&&(g[m.name][obj]=0,c=0),a.isFunction(b[obj])&&(c=b[obj](c,n,m.name,k,e)),g[m.name][obj]=c}},p=parseFloat(n);p=isNaN(p)?!1:!0,p&&(n=parseFloat(n)),"number"==typeof n&&isFinite(n)?a.each(m.aggregates,function(){var a=g[m.name][this];if(null==a&&(a=0,"min"==this&&(a=9999999999999),"max"==this&&(a=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)a+=parseFloat(n);else if("product"==this)0==j?a=parseFloat(n):a*=parseFloat(n);else if("min"==this)a=Math.min(a,parseFloat(n));else if("max"==this)a=Math.max(a,parseFloat(n));else if("count"==this)a++;else if("object"==typeof this)return void o(this);g[m.name][this]=a}):a.each(m.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var a=g[m.name][this];return null==a&&(a=0),g[m.name][this]=a,!0}"object"==typeof this&&o(this)})}}for(var l=0;l<b.length;l++){var m=b[l];if(g[m.name]||(g[m.name]={},a.each(m.aggregates,function(){g[m.name][this]=0})),void 0!=g[m.name].avg){var n=g[m.name].avg,q=h[m.name];g[m.name].avg=0===q||void 0==q?0:n/q}else void 0!=g[m.name].count&&(g[m.name].count=i);(g[m.name].stdev||g[m.name].stdevp||g[m.name]["var"]||g[m.name].varp)&&a.each(m.aggregates,function(){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var a=g[m.name][this],b=i,c=a/i,d=0,e=0;i>e;e++){var h=f[e],j=h[m.name];d+=(j-c)*(j-c)}var k="stdevp"==this||"varp"==this?b:b-1;0==k&&(k=1),"var"==this||"varp"==this?g[m.name][this]=d/k:("stdevp"==this||"stdev"==this)&&(g[m.name][this]=Math.sqrt(d/k))}}),m.formatStrings&&a.each(m.aggregates,function(b){var d=m.formatStrings[b];if(d)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var e=g[m.name][this];g[m.name][this]=a.jqx.dataFormat.formatnumber(e,d,c)}else if("object"==typeof this)for(obj in this){var e=g[m.name][obj];g[m.name][obj]=a.jqx.dataFormat.formatnumber(e,d,c)}})}return g}},bindDownloadComplete:function(a,b){this._downloadComplete[this._downloadComplete.length]={id:a,func:b}},unbindDownloadComplete:function(a){for(var b=0;b<this._downloadComplete.length;b++)if(this._downloadComplete[b].id==a){this._downloadComplete[b].func=null,this._downloadComplete.splice(b,1);break}},callDownloadComplete:function(){for(var a=0;a<this._downloadComplete.length;a++){var b=this._downloadComplete[a];null!=b.func&&b.func()}},setSource:function(a){this._source=a},generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},getGroupedRecords:function(b,c,d,e,f,g,h,i,j){var k=this;j||(j=0);for(var l=new Array,m=0;m<b.length;m++)l[m]=k.generatekey();c||(c="items"),d||(d="group"),f||(f="record"),h||(h="parentItem"),void 0===g&&(g="value");{var n=new Array,o=0,p=new Array,q=b.length;new Array}if(!i)var i=this.records;for(var r=i.length,s=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},t=0;r>t;t++){var u=s(i[t]);id=u[k.uniqueId];var v=new Array,w=0;for(m=0;q>m;m++){var x=b[m],y=u[x];null!=y&&(v[w++]={value:y,hash:l[m]})}if(v.length!=q)break;for(var z=null,A="",B=-1,C=0;C<v.length;C++){B++;var D=v[C].value,E=v[C].hash;if(A=A+"_"+E+"_"+D,void 0==p[A]||null==p[A]){if(null==z){z={level:0},z[h]=null,z[d]=D,z[f]=u,z.expanded=void 0!==u.expanded?u.expanded:!1,g&&(z[g]=u[g]),z[c]=new Array;var F=n.length+j;this._source.id&&"number"!=typeof u.uid||(F="Row"+F),z.uid=F,n[o++]=z}else{var G={level:z.level+1};G[h]=z,G[d]=D,G[c]=new Array,G[f]=u,G.expanded=void 0!==u.expanded?u.expanded:!1,g&&(G[g]=u[g]),G.uid=z.uid+"_"+z[c].length,z[c][z[c].length]=G,z=G}p[A]=z}else z=p[A]}u&&(u.leaf=!0),null!=z?(null==this._source.id&&(u.uid=z.uid+"_"+z[c].length),u[h]=z,u.level=z.level+1,z[c][z[c].length]=u):u.uid||(u.uid=this.generatekey())}return n},getRecordsHierarchy:function(b,c,d,e,f){var g=new Array,h=this.records;if(f&&(h=f),0==this.records.length)return null;for(var i=null!=d?d:"items",j=[],k=h,l=k.length,m=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,n=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},o=0;l>o;o++){var p=a.extend({},k[o]),q=p[c],r=p[b];j[r]={parentid:q,item:p}}for(var o=0;l>o;o++){var p=a.extend({},k[o]),q=p[c],r=p[b];if(void 0!=j[q]){var p={parentid:q,item:j[r].item},s=j[q].item;s[i]||(s[i]=[]);var t=s[i].length,u=p.item;m?void 0==u[m.parent]&&(u[m.parent]=s):void 0==u.parent&&(u.parent=s);var v=n(u);s[i][t]=v,j[q].item=s,j[r]=p}else{var u=j[r].item;m?void 0==u[m.parent]&&(u[m.parent]=null):void 0==u.parent&&(u.parent=null);var v=n(u);m?v[m.level]=0:v.level=0,g[g.length]=v}}if(0!=g.length){var w=function(a,b){for(var c=0;c<b.length;c++){m?b[c][m.level]=a:b[c].level=a;var d=b[c][i];d&&d.length>0?w(a+1,d):m?b[c][m.leaf]=!0:b[c].leaf=!0}};w(0,g)}return g},bindBindingUpdate:function(a,b){this._bindingUpdate[this._bindingUpdate.length]={id:a,func:b}},unbindBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++)if(this._bindingUpdate[b].id==a){this._bindingUpdate[b].func=null,this._bindingUpdate.splice(b,1);break}},callBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++){var c=this._bindingUpdate[b];null!=c.func&&c.func(a)}},getid:function(b,c,d){if(null==b||void 0==b.name||!b.name){if(a(b,c).length>0)return a(b,c).text();
if(b&&b.toString().length>0){var e=a(c).attr(b);if(null!=e&&e.toString().length>0)return e}return d}var e=a(c).attr(b.name);if(null!=e&&e.toString().length>0)return e;if(b.map)try{var e=a(c).attr(b.map);if(null!=e&&e.toString().length>0)return e;if(a(b.map,c).length>0)return a(b.map,c).text();if(a(b.name,c).length>0)return a(b.name,c).text()}catch(f){return d}},loadjson:function(b,c,d){"string"==typeof b&&(b=a.parseJSON(b)),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b=b||c;b||(b=[]);var e=this;if(""!=d.root){var f=d.root.split(e.mapChar);if(f.length>1){for(var g=b,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);b=g}else if(void 0!=b[d.root]?b=b[d.root]:a.each(b,function(){return this==d.root?(b=this,!1):void(void 0!=this[d.root]&&(b=this[d.root]))}),!b){var f=d.root.split(e.mapChar);if(f.length>0){for(var g=b,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);b=g}}}else if(!b.length)for(obj in b)if(a.isArray(b[obj])){b=b[obj];break}if(null!=b&&void 0==b.length&&(b=a.makeArray(b)),null==b||void 0==b.length)return void alert("JSON Parse error.");if(0==b.length)return void(this.totalrecords=0);var i=b.length;this.totalrecords=this.virtualmode?d.totalrecords||i:i,this.records=new Array,this.originaldata=new Array;var j=this.records,k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(k=0,i=this.totalrecords);var l=0;this.virtualmode&&(k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,l=k,k=0,i=this.totalrecords);var m=d.datafields?d.datafields.length:0;if(0==m){var n=b[0],o=new Array;for(obj in n){var p=obj;o[o.length]={name:p}}d.datafields=o,m=o.length}for(var q=k,r=k;i>r;r++){var s=b[r];if(void 0==s)break;if(!d.record||""==d.record||(s=s[d.record],void 0!=s)){var t=this.getid(d.id,s,r);if("object"==typeof t&&(t=r),!this.recordids[t]){this.recordids[t]=s;for(var u={},v=0;m>v;v++){var w=d.datafields[v],x="";if(void 0!=w&&null!=w){if(w.map){if(a.isFunction(w.map))x=w.map(s);else{var f=w.map.split(e.mapChar);if(f.length>0){for(var y=s,h=0;h<f.length;h++)void 0!=y&&(y=y[f[h]]);x=y}else x=s[w.map]}void 0!=x&&null!=x?x=this.getvaluebytype(x,w):void 0==x&&null!=x&&(x="")}if(""==x&&!w.map&&(x=s[w.name],void 0==x&&null!=x&&(x=""),void 0!=w.value&&void 0!=x)){var z=x[w.value];void 0!=z&&(x=z)}if(x=this.getvaluebytype(x,w),void 0!=w.displayname?u[w.displayname]=x:u[w.name]=x,"array"===w.type){var A=function(b){if(b)for(var c=0;c<b.length;c++){var f=b[c];if(f)for(var g=0;m>g;g++){var h=d.datafields[g],i="";if(void 0!=h&&null!=h){if(h.map){if(a.isFunction(h.map))i=h.map(f);else{var j=h.map.split(e.mapChar);if(j.length>0){for(var k=f,l=0;l<j.length;l++)void 0!=k&&(k=k[j[l]]);i=k}else i=f[h.map]}void 0!=i&&null!=i?i=this.getvaluebytype(i,h):void 0==i&&null!=i&&(i="")}if(""==i&&!h.map&&(i=f[h.name],void 0==i&&null!=i&&(i=""),void 0!=h.value&&void 0!=i)){var n=i[h.value];void 0!=n&&(i=n)}i=this.getvaluebytype(i,h),void 0!=h.displayname?f[h.displayname]=i:f[h.name]=i,"array"===h.type&&A.call(this,i)}}}};A.call(this,x)}}}(d.recordendindex<=0||k<d.recordendindex)&&(j[l+q]=a.extend({},u),j[l+q].uid=t,this.originaldata[l+q]=a.extend({},j[r]),q++)}}}this.records=j,this.cachedrecords=this.records},loadxml:function(b,c,d){"string"==typeof b&&(b=c=a(a.parseXML(b)),b=null),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b;b=a.jqx.browser.msie&&c&&void 0!=c.xml?a(d.root+" "+d.record,a.parseXML(c.xml)):b||a(d.root+" "+d.record,c),b||(b=[]);var e=b.length;if(0!=b.length){this.totalrecords=this.virtualmode?d.totalrecords||e:e,this.records=new Array,this.originaldata=new Array;var f=this.records,g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(g=0,e=this.totalrecords);var h=0;this.virtualmode&&(g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,h=g,g=0,e=this.totalrecords);var i=d.datafields?d.datafields.length:0;if(0==i){var j=b[0],k=new Array;for(obj in j){var l=obj;k[k.length]={name:l}}d.datafields=k,i=k.length}for(var m=g,n=!1,o=g;e>o;o++){var p=b[o];if(void 0==p)break;var q=this.getid(d.id,p,o);if(!this.recordids[q]){this.recordids[q]=p;var r={},s=!1;d.hierarchy&&d.hierarchy.root&&(s=!0);for(var t=0;i>t;t++){var u=d.datafields[t],v="";if(void 0!=u&&null!=u){if(u.map)if(a.isFunction(u.map))v=u.map(p);else{var w=u.map.indexOf("[");if(0>w)if(v=a(u.map,p),1==v.length)v=v.text();else{n=!0;for(var x=new Array,y=0;y<v.length;y++)x.push(a(v[y]).text());v=x,s&&x.length>0&&(v=x[0])}else{var z=u.map.substring(0,w-1),A=u.map.indexOf("]"),B=u.map.substring(w+1,A);v=a(z,p).attr(B),void 0==v&&(v=a(p).attr(B)),void 0==v&&(v="")}""==v&&(v=a(p).attr(u.map),void 0==v&&(v=""))}if(""==v){if(v=a(u.name,p),1==v.length)v=v.text();else{for(var x=new Array,y=0;y<v.length;y++)x.push(a(v[y]).text());v=x,s&&x.length>0&&(v=x[0])}""==v&&(v=a(p).attr(u.name),void 0==v&&(v="")),""==v&&p.nodeName&&p.nodeName==u.name&&p.firstChild&&(v=a(p.firstChild).text())}v=this.getvaluebytype(v,u),void 0!=u.displayname?r[u.displayname]=v:r[u.name]=v}}(d.recordendindex<=0||g<d.recordendindex)&&(f[h+m]=a.extend({},r),f[h+m].uid=q,this.originaldata[h+m]=a.extend({},f[o]),m++)}}if(d.hierarchy&&d.hierarchy.root)for(var o=g;e>o;o++){var p=b[o],C=f[o];if(a(p).parent().length>0){var q=this.getid(d.id,a(p).parents(d.hierarchy.record+":first"));C.parentuid=q}else C.parentuid=null}this.records=f,this.cachedrecords=this.records}},loadtext:function(b,c){if(null!=b){var d=c.rowDelimiter||this.rowDelimiter||"\n",e=b.split(d),f=e.length;this.totalrecords=this.virtualmode?c.totalrecords||f:f,this.records=new Array,this.originaldata=new Array;var g=this.records,h=this.pageable?this.pagesize*this.pagenum:c.recordstartindex;this.recordids=new Array,c.loadallrecords&&(h=0,f=this.totalrecords);var i=0;this.virtualmode&&(h=this.pageable?this.pagesize*this.pagenum:c.recordstartindex,i=h,h=0,f=this.totalrecords);var j=c.datafields.length,k=c.columnDelimiter||this.columnDelimiter;k||(k="tab"===c.datatype||"tsv"===c.datatype?"	":",");for(var l=h;f>l;l++){var m=e[l],n=null;if(!this.recordids[n]){null==c.id&&(n=l,this.recordids[n]=m);for(var o={},p=e[l].split(k),q=0;j>q;q++)if(!(q>=p.length)){var r=c.datafields[q],s=p[q];r.map&&a.isFunction(r.map)&&(s=r.map(m)),r.type&&(s=this.getvaluebytype(s,r));var t=r.map||r.name||q.toString();o[t]=s,null!=c.id&&c.id===r.name&&(n=s,this.recordids[n]=m)}null==n&&(n=l),g[i+l]=a.extend({},o),g[i+l].uid=n,this.originaldata[i+l]=a.extend({},g[l])}}this.records=g,this.cachedrecords=this.records}},getvaluebytype:function(b,c){var d=b;if(null==b)return b;if(a.isArray(b)&&"array"!=c.type){for(var e=0;e<b.length;e++)b[e]=this.getvaluebytype(b[e],c);return b}if("date"==c.type)if("NaN"==b)b="";else{var f=new Date(b);if("string"==typeof b&&c.format){var g=a.jqx.dataFormat.parsedate(b,c.format);null!=g&&(f=g)}b=("NaN"==f.toString()||"Invalid Date"==f.toString())&&a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):f,null==b&&(b=d)}else if("float"==c.type||"number"==c.type||"decimal"==c.type)if("NaN"==b)b="";else{var b=parseFloat(b);isNaN(b)&&(b=d)}else if("int"==c.type||"integer"==c.type){var b=parseInt(b);isNaN(b)&&(b=d)}else("bool"==c.type||"boolean"==c.type)&&(null!=b&&void 0!=b.toLowerCase&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b?!0:0==b&&""!==b?!1:"");return b}},a.jqx.dataFormat={},a.extend(a.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(a){return"boolean"==typeof a},isObject:function(b){return b&&("object"==typeof b||a.isFunction(b))||!1},isDate:function(a){return a instanceof Date},arrayIndexOf:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isNull:function(a){return null===a},isUndefined:function(a){return"undefined"==typeof a},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(b){return!this.isString(b)&&this.isValue(b)?!1:this.isValue(b)?(b=a.trim(b).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===b):!0},startsWith:function(a,b){return 0===a.indexOf(b)},endsWith:function(a,b){return a.substr(a.length-b.length)===b},trim:function(a){return(a+"").replace(this.regexTrim,"")},isArray:function(a){return"[object Array]"===this.toString.call(a)},defaultcalendar:function(){var a={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return a},expandFormat:function(a,b){b=b||"F";var c,d=a.patterns,e=b.length;if(1===e){if(c=d[b],!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===e&&"%"===b.charAt(0)&&(b=b.charAt(1));return b},getEra:function(a,b){if(!b)return 0;if("string"==typeof a)return 0;for(var c,d=a.getTime(),e=0,f=b.length;f>e;e++)if(c=b[e].start,null===c||d>=c)return e;return 0},toUpper:function(a){return a.split("").join(" ").toUpperCase()},toUpperArray:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b[c]=this.toUpper(a[c]);return b},getEraYear:function(a,b,c,d){var e=a.getFullYear();return!d&&b.eras&&(e-=b.eras[c].offset),e},toUpper:function(a){return a?a.toUpperCase():""},getDayIndex:function(a,b,c){var d,e=a.days,f=a._upperDays;return f||(a._upperDays=f=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr),this.toUpperArray(e.namesShort)]),b=b.toUpperCase(),c?(d=this.arrayIndexOf(f[1],b),-1===d&&(d=this.arrayIndexOf(f[2],b))):d=this.arrayIndexOf(f[0],b),d},getMonthIndex:function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,f=a._upperMonths,g=a._upperMonthsGen;f||(a._upperMonths=f=[this.toUpperArray(d.names),this.toUpperArray(d.namesAbbr)],a._upperMonthsGen=g=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr)]),b=this.toUpper(b);var h=this.arrayIndexOf(c?f[1]:f[0],b);return 0>h&&(h=this.arrayIndexOf(c?g[1]:g[0],b)),h},appendPreOrPostMatch:function(a,b){for(var c=0,d=!1,e=0,f=a.length;f>e;e++){var g=a.charAt(e);switch(g){case"'":d?b.push("'"):c++,d=!1;break;case"\\":d&&b.push("\\"),d=!d;break;default:b.push(g),d=!1}}return c},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(a,b){var c="";return b&&b.target&&(c="target="+b.target),""!=c?"<a "+c+' href="'+a+'">'+a+"</a>":'<a href="'+a+'">'+a+"</a>"},formatemail:function(a){return'<a href="mailto:'+a+'">'+a+"</a>"},formatNumber:function(a,b,c){return this.formatnumber(a,b,c)},formatnumber:function(a,b,c){if((void 0==c||null==c||""==c)&&(c=this.defaultcalendar()),""===b||null===b)return a;this.isNumber(a)||(a*=1);var d;b.length>1&&(d=parseInt(b.slice(1),10));var e={},f=b.charAt(0).toUpperCase();switch(e.thousandsSeparator=c.thousandsseparator,e.decimalSeparator=c.decimalseparator,f){case"D":case"d":case"F":case"f":e.decimalPlaces=d;break;case"N":case"n":e.decimalPlaces=0;break;case"C":case"c":e.decimalPlaces=d,"before"==c.currencysymbolposition?e.prefix=c.currencysymbol:e.suffix=c.currencysymbol;break;case"P":case"p":e.suffix=c.percentsymbol,e.decimalPlaces=d;break;default:throw"Bad number format specifier: "+f}if(this.isNumber(a)){var g,h=0>a,i=a+"",j=e.decimalSeparator?e.decimalSeparator:".";if(this.isNumber(e.decimalPlaces)){var k=e.decimalPlaces,l=Math.pow(10,k);if(i=(a*l).toFixed(0)/l+"",g=i.lastIndexOf("."),k>0)for(0>g?(i+=j,g=i.length-1):"."!==j&&(i=i.replace(".",j));i.length-1-g<k;)i+="0"}if(e.thousandsSeparator){var m=e.thousandsSeparator;g=i.lastIndexOf(j),g=g>-1?g:i.length;for(var n=i.substring(g),o=-1,p=g;p>0;p--)o++,o%3===0&&p!==g&&(!h||p>1)&&(n=m+n),n=i.charAt(p-1)+n;i=n}return i=e.prefix?e.prefix+i:i,i=e.suffix?i+e.suffix:i}return a},tryparsedate:function(a,b){(void 0==b||null==b)&&(b=this.defaultcalendar());var c=this;if(""==a)return null;if(null==a||a.substring||(a=a.toString()),null!=a&&"/Date("==a.substring(0,6)){var d=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,e=new Date(+a.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==e){var f=a.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),e=null;f&&(e=new Date(1*f[1]+36e5*f[2]+6e4*f[3]))}if(null==e||"Invalid Date"==e||isNaN(e)){var g=d.exec(a);if(g){var h=new Date(parseInt(g[1]));if(g[2]){var i=parseInt(g[3]);"-"===g[2]&&(i=-i);var j=h.getUTCMinutes();h.setUTCMinutes(j-i)}if(!isNaN(h.valueOf()))return h}}return e}patterns=b.patterns;for(prop in patterns)if(e=c.parsedate(a,patterns[prop],b)){if("ISO"==prop){var k=c.parsedate(a,patterns.ISO2,b);if(k)return k}return e}if(null!=a){for(var k=null,l=[":","/","-"],m=!0,n=0;n<l.length;n++)-1!=a.indexOf(l[n])&&(m=!1);if(m){var o=new Number(a);if(!isNaN(o))return new Date(o)}}return null},getparseregexp:function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var e,f=this.expandFormat(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),g=["^"],h=[],i=0,j=0,k=this.getTokenRegExp();null!==(e=k.exec(f));){var l=f.slice(i,e.index);if(i=k.lastIndex,j+=this.appendPreOrPostMatch(l,g),j%2)g.push(e[0]);else{var m,n=e[0],o=n.length;switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":m="(\\D+)";break;case"tt":case"t":m="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":m="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":m="(\\d\\d?)";break;case"zzz":m="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":m="([+-]?\\d\\d?)";break;case"/":m="(\\"+a["/"]+")";break;default:throw"Invalid date format pattern '"+n+"'."}m&&g.push(m),h.push(e[0])}}this.appendPreOrPostMatch(f.slice(i),g),g.push("$");var p=g.join("").replace(/\s+/g,"\\s+"),q={regExp:p,groups:h};return c[b]=q},outOfRange:function(a,b,c){return b>a||a>c},expandYear:function(a,b){var c=new Date,d=this.getEra(c);if(100>b){var e=a.twoDigitYearMax;e="string"==typeof e?(new Date).getFullYear()%100+parseInt(e,10):e;var f=this.getEraYear(c,a,d);b+=f-f%100,b>e&&(b-=100)}return b},parsedate:function(a,b,c){(void 0==c||null==c)&&(c=this.defaultcalendar()),a=this.trim(a);var d=c,e=this.getparseregexp(d,b),f=new RegExp(e.regExp).exec(a);if(null===f)return null;for(var g,h=e.groups,i=null,j=null,k=null,l=null,m=null,n=0,o=0,p=0,q=0,r=null,s=!1,t=0,u=h.length;u>t;t++){var v=f[t+1];if(v){var w=h[t],x=w.length,y=parseInt(v,10);switch(w){case"dd":case"d":if(l=y,this.outOfRange(l,1,31))return null;break;case"MMM":case"MMMM":if(k=this.getMonthIndex(d,v,3===x),this.outOfRange(k,0,11))return null;break;case"M":case"MM":if(k=y-1,this.outOfRange(k,0,11))return null;break;case"y":case"yy":case"yyyy":if(j=4>x?this.expandYear(d,y):y,this.outOfRange(j,0,9999))return null;break;case"h":case"hh":if(n=y,12===n&&(n=0),this.outOfRange(n,0,11))return null;break;case"H":case"HH":if(n=y,this.outOfRange(n,0,23))return null;break;case"m":case"mm":if(o=y,this.outOfRange(o,0,59))return null;break;case"s":case"ss":if(p=y,this.outOfRange(p,0,59))return null;break;case"tt":case"t":if(s=d.PM&&(v===d.PM[0]||v===d.PM[1]||v===d.PM[2]),!s&&(!d.AM||v!==d.AM[0]&&v!==d.AM[1]&&v!==d.AM[2]))return null;break;case"f":case"ff":case"fff":if(q=y*Math.pow(10,3-x),this.outOfRange(q,0,999))return null;break;case"ddd":case"dddd":if(m=this.getDayIndex(d,v,3===x),this.outOfRange(m,0,6))return null;break;case"zzz":var z=v.split(/:/);if(2!==z.length)return null;if(g=parseInt(z[0],10),this.outOfRange(g,-12,13))return null;var A=parseInt(z[1],10);if(this.outOfRange(A,0,59))return null;r=60*g+(startsWith(v,"-")?-A:A);break;case"z":case"zz":if(g=y,this.outOfRange(g,-12,13))return null;r=60*g;break;case"g":case"gg":var B=v;if(!B||!d.eras)return null;B=trim(B.toLowerCase());for(var C=0,D=d.eras.length;D>C;C++)if(B===d.eras[C].name.toLowerCase()){i=C;break}if(null===i)return null}}}var E,F=new Date,G=d.convert;if(E=F.getFullYear(),null===j?j=E:d.eras&&(j+=d.eras[i||0].offset),null===k&&(k=0),null===l&&(l=1),G){if(F=G.toGregorian(j,k,l),null===F)return null}else{if(F.setFullYear(j,k,l),F.getDate()!==l)return null;if(null!==m&&F.getDay()!==m)return null}if(s&&12>n&&(n+=12),F.setHours(n,o,p,q),null!==r){var H=F.getMinutes()-(r+F.getTimezoneOffset());F.setHours(F.getHours()+parseInt(H/60,10),H%60)}return F},cleardatescache:function(){this.datescache=new Array},formatDate:function(a,b,c){return this.formatdate(a,b,c)},formatdate:function(a,b,c){function d(a,b){var c,d=a+"";return b>1&&d.length<b?(c=m[b-2]+d,c.substr(c.length-b,b)):c=d}function e(a,b){if(l)return l[b];if(void 0!=a.getMonth)switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}if((void 0==c||null==c)&&(c=this.defaultcalendar()),"string"==typeof a)return a;var f=a.toString()+"_"+b;if(this.datescache&&this.datescache[f])return this.datescache[f];if(!b||!b.length||"i"===b){var g;return g=this.formatDate(a,c.patterns.F,culture)}var h=c.eras,i="s"===b;b=this.expandFormat(c,b),g=[];for(var j,k,l,m=["0","00","000"],n=0,o=this.getTokenRegExp();;){var p=o.lastIndex,q=o.exec(b),r=b.slice(p,q?q.index:b.length);if(n+=this.appendPreOrPostMatch(r,g),!q)break;if(n%2)g.push(q[0]);else{var s=q[0],t=s.length;switch(s){case"ddd":case"dddd":var u=3===t?c.days.namesAbbr:c.days.names;g.push(u[a.getDay()]);break;case"d":case"dd":k=!0,g.push(d(e(a,2),t));break;case"MMM":case"MMMM":var v=e(a,1);g.push(c.months[3===t?"namesAbbr":"names"][v]);break;case"M":case"MM":g.push(d(e(a,1)+1,t));break;case"y":case"yy":case"yyyy":v=this.getEraYear(a,c,this.getEra(a,h),i),4>t&&(v%=100),g.push(d(v,t));break;case"h":case"hh":j=a.getHours()%12,0===j&&(j=12),g.push(d(j,t));break;case"H":case"HH":g.push(d(a.getHours(),t));break;case"m":case"mm":g.push(d(a.getMinutes(),t));break;case"s":case"ss":g.push(d(a.getSeconds(),t));break;case"t":case"tt":v=a.getHours()<12?c.AM?c.AM[0]:" ":c.PM?c.PM[0]:" ",g.push(1===t?v.charAt(0):v);break;case"f":case"ff":case"fff":g.push(d(a.getMilliseconds(),3).substr(0,t));break;case"z":case"zz":j=a.getTimezoneOffset()/60,g.push((0>=j?"+":"-")+d(Math.floor(Math.abs(j)),t));break;case"zzz":j=a.getTimezoneOffset()/60,g.push((0>=j?"+":"-")+d(Math.floor(Math.abs(j)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":c.eras&&g.push(c.eras[this.getEra(a,h)].name);break;case"/":g.push(c["/"]);break;default:throw"Invalid date format pattern '"+s+"'."}}}var w=g.join("");return this.datescache||(this.datescache=new Array),this.datescache[f]=w,w}}),a.jqx.data={};var i,j,k=/#.*$/,l=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,m=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,n=/^(?:GET|HEAD)$/,o=/^\/\//,p=/\?/,q=/([?&])_=[^&]*/,r=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,s=/\s+/,t=(jQuery.fn.load,{}),u={},v=["*/"]+["*"];try{j=location.href}catch(w){j=document.createElement("a"),j.href="",j=j.href}i=r.exec(j.toLowerCase())||[],a.extend(a.jqx.data,{ajaxSetup:function(b,c){return c?d(b,a.jqx.data.ajaxSettings):(c=b,b=a.jqx.data.ajaxSettings),d(b,c),b},ajaxSettings:{url:j,isLocal:m.test(i[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":v},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:b(t),ajaxTransport:b(u),ajax:function(b,d){function g(a,b,c,d){var g,i,k,l,m,n=b;2!==J&&(J=2,x&&clearTimeout(x),w=void 0,j=d||"",L.readyState=a>0?4:0,c&&(l=e(B,L,c)),a>=200&&300>a||304===a?(B.ifModified&&(m=L.getResponseHeader("Last-Modified"),m&&(jQuery.lastModified[h]=m),m=L.getResponseHeader("Etag"),m&&(jQuery.etag[h]=m)),304===a?(n="notmodified",g=!0):(g=f(B,l),n=g.state,i=g.data,k=g.error,g=!k)):(k=n,(!n||a)&&(n="error",0>a&&(a=0))),L.status=a,L.statusText=(b||n)+"",g?E.resolveWith(C,[i,n,L]):E.rejectWith(C,[L,n,k]),L.statusCode(G),G=void 0,z&&D.trigger("ajax"+(g?"Success":"Error"),[L,B,g?i:k]),F.fireWith(C,[L,n]),z&&(D.trigger("ajaxComplete",[L,B]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof b&&(d=b,b=void 0),d=d||{};var h,j,m,w,x,y,z,A,B=a.jqx.data.ajaxSetup({},d),C=B.context||B,D=C!==B&&(C.nodeType||C instanceof jQuery)?jQuery(C):jQuery.event,E=jQuery.Deferred(),F=jQuery.Callbacks("once memory"),G=B.statusCode||{},H={},I={},J=0,K="canceled",L={readyState:0,setRequestHeader:function(a,b){if(!J){var c=a.toLowerCase();a=I[c]=I[c]||a,H[a]=b}return this},getAllResponseHeaders:function(){return 2===J?j:null},getResponseHeader:function(a){var b;if(2===J){if(!m)for(m={};b=l.exec(j);)m[b[1].toLowerCase()]=b[2];b=m[a.toLowerCase()]}return void 0===b?null:b},overrideMimeType:function(a){return J||(B.mimeType=a),this},abort:function(a){return a=a||K,w&&w.abort(a),g(0,a),this}};if(E.promise(L),L.success=L.done,L.error=L.fail,L.complete=F.add,L.statusCode=function(a){if(a){var b;if(2>J)for(b in a)G[b]=[G[b],a[b]];else b=a[L.status],L.always(b)}return this},B.url=((b||B.url)+"").replace(k,"").replace(o,i[1]+"//"),B.dataTypes=jQuery.trim(B.dataType||"*").toLowerCase().split(s),null==B.crossDomain&&(y=r.exec(B.url.toLowerCase()),B.crossDomain=!(!y||y[1]===i[1]&&y[2]===i[2]&&(y[3]||("http:"===y[1]?80:443))==(i[3]||("http:"===i[1]?80:443)))),B.data&&B.processData&&"string"!=typeof B.data&&(B.data=jQuery.param(B.data,B.traditional)),c(t,B,d,L),2===J)return L;if(z=B.global,B.type=B.type.toUpperCase(),B.hasContent=!n.test(B.type),z&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),!B.hasContent&&(B.data&&(B.url+=(p.test(B.url)?"&":"?")+B.data,delete B.data),h=B.url,B.cache===!1)){var M=jQuery.now(),N=B.url.replace(q,"$1_="+M);B.url=N+(N===B.url?(p.test(B.url)?"&":"?")+"_="+M:"")}(B.data&&B.hasContent&&B.contentType!==!1||d.contentType)&&L.setRequestHeader("Content-Type",B.contentType),B.ifModified&&(h=h||B.url,jQuery.lastModified[h]&&L.setRequestHeader("If-Modified-Since",jQuery.lastModified[h]),jQuery.etag[h]&&L.setRequestHeader("If-None-Match",jQuery.etag[h])),L.setRequestHeader("Accept",B.dataTypes[0]&&B.accepts[B.dataTypes[0]]?B.accepts[B.dataTypes[0]]+("*"!==B.dataTypes[0]?", "+v+"; q=0.01":""):B.accepts["*"]);for(A in B.headers)L.setRequestHeader(A,B.headers[A]);if(B.beforeSend&&(B.beforeSend.call(C,L,B)===!1||2===J))return L.abort();K="abort";for(A in{success:1,error:1,complete:1})L[A](B[A]);if(w=c(u,B,d,L)){L.readyState=1,z&&D.trigger("ajaxSend",[L,B]),B.async&&B.timeout>0&&(x=setTimeout(function(){L.abort("timeout")},B.timeout));try{J=1,w.send(H,g)}catch(O){if(!(2>J))throw O;g(-1,O)}}else g(-1,"No Transport");return L},active:0,lastModified:{},etag:{}});var x=[],y=/\?/,z=/(=)\?(?=&|$)|\?\?/,A=jQuery.now();a.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=x.pop()||jQuery.expando+"_"+A++;return this[a]=!0,a}}),a.jqx.data.ajaxPrefilter("json jsonp",function(a,b,c){var d,e,f,g=a.data,h=a.url,i=a.jsonp!==!1,j=i&&z.test(h),k=i&&!j&&"string"==typeof g&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&z.test(g);return"jsonp"===a.dataTypes[0]||j||k?(d=a.jsonpCallback=jQuery.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,e=window[d],j?a.url=h.replace(z,"$1"+d):k?a.data=g.replace(z,"$1"+d):i&&(a.url+=(y.test(h)?"&":"?")+a.jsonp+"="+d),a.converters["script json"]=function(){return f||jQuery.error(d+" was not called"),f[0]},a.dataTypes[0]="json",window[d]=function(){f=arguments},c.always(function(){window[d]=e,a[d]&&(a.jsonpCallback=b.jsonpCallback,x.push(d)),f&&jQuery.isFunction(e)&&e(f[0]),f=e=void 0}),"script"):void 0}),a.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return jQuery.globalEval(a),a}}}),a.jqx.data.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),a.jqx.data.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(d,e){b=document.createElement("script"),b.async="async",a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,d){(d||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,c&&b.parentNode&&c.removeChild(b),b=void 0,d||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var B,C=window.ActiveXObject?function(){for(var a in B)B[a](0,1)}:!1,D=0;a.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&g()||h()}:g,function(a){jQuery.extend(jQuery.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(a.jqx.data.ajaxSettings.xhr()),jQuery.support.ajax&&a.jqx.data.ajaxTransport(function(a){if(!a.crossDomain||jQuery.support.cors){var b;return{send:function(c,d){var e,f,g=a.xhr();if(a.username?g.open(a.type,a.url,a.async,a.username,a.password):g.open(a.type,a.url,a.async),a.xhrFields)for(f in a.xhrFields)g[f]=a.xhrFields[f];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");try{for(f in c)g.setRequestHeader(f,c[f])}catch(h){}g.send(a.hasContent&&a.data||null),b=function(c,f){var h,i,j,k,l;try{if(b&&(f||4===g.readyState))if(b=void 0,e&&(g.onreadystatechange=jQuery.noop,C&&delete B[e]),f)4!==g.readyState&&g.abort();else{h=g.status,j=g.getAllResponseHeaders(),k={},l=g.responseXML,l&&l.documentElement&&(k.xml=l);try{k.text=g.responseText}catch(m){}try{i=g.statusText}catch(m){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=k.text?200:404}}catch(n){f||d(-1,n)}k&&d(h,i,k,j)},a.async?4===g.readyState?setTimeout(b,0):(e=++D,C&&(B||(B={},jQuery(window).unload(C)),B[e]=b),g.onreadystatechange=b):b()},abort:function(){b&&b(0,1)}}}}),a.jqx.filter=function(){this.operator="and";var b=1,c=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],d=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],e=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],f=["EQUAL","NOT_EQUAL"],g=new Array,h=new Array;this.evaluate=function(a){for(var c=!0,d=0;d<g.length;d++){var e=g[d].evaluate(a);c=0==d?e:h[d]==b||"or"==h[d]?c||e:c&&e}return c},this.getfilterscount=function(){return g.length},this.setoperatorsbyfiltertype=function(a,b){switch(a){case"numericfilter":d=b;break;case"stringfilter":c=b;break;case"datefilter":e=b;break;case"booleanfilter":f=b}},this.getoperatorsbyfiltertype=function(a){var b=new Array;switch(a){case"numericfilter":b=d.slice(0);break;case"stringfilter":b=c.slice(0);break;case"datefilter":b=e.slice(0);break;case"booleanfilter":b=f.slice(0)}return b};var i=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+"-"+a()+"-"+a()};this.createfilter=function(a,b,c,d,e,f){if(null==a||void 0==a)return null;switch(a){case"numericfilter":return new l(b,c.toUpperCase());case"stringfilter":return new j(b,c.toUpperCase());case"datefilter":return new m(b,c.toUpperCase(),e,f);case"booleanfilter":return new k(b,c.toUpperCase());case"custom":return new n(b,c.toUpperCase(),d)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var a=new Array,b=0;b<g.length;b++){var c={value:g[b].filtervalue,condition:g[b].comparisonoperator,operator:h[b],type:g[b].type};a[b]=c}return a},this.addfilter=function(a,b){g[g.length]=b,b.key=i(),h[h.length]=a},this.removefilter=function(a){for(var b=0;b<g.length;b++)if(g[b].key==a.key){g.splice(b,1),h.splice(b,1);break}},this.getoperatorat=function(a){return void 0==a||null==a?null:0>a||a>g.length?null:h[a]},this.setoperatorat=function(a,b){return void 0==a||null==a?null:0>a||a>g.length?null:void(h[b]=b)},this.getfilterat=function(a){return void 0==a||null==a?null:0>a||a>g.length?null:g[a]},this.setfilterat=function(a,b){return void 0==a||null==a?null:0>a||a>g.length?null:(b.key=i(),void(g[a]=b))},this.clear=function(){g=new Array,h=new Array};var j=function(b,c){this.filtervalue=b,this.comparisonoperator=c,this.type="stringfilter",this.evaluate=function(b){var c=this.filtervalue,d=this.comparisonoperator;if(null==b||void 0==b||""==b)return"NULL"==d?!0:!1;var e="";try{e=b.toString()}catch(f){return!0}var g=function(b,c){switch(d){case"EQUAL":return a.jqx.string.equalsIgnoreCase(b,c);case"EQUAL_CASE_SENSITIVE":return a.jqx.string.equals(b,c);case"NOT_EQUAL":return!a.jqx.string.equalsIgnoreCase(b,c);case"NOT_EQUAL_CASE_SENSITIVE":return!a.jqx.string.equals(b,c);case"CONTAINS":return a.jqx.string.containsIgnoreCase(b,c);case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b,c);case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b,c);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b,c);case"EMPTY":return""==b;case"NOT_EMPTY":return""!=b;case"NOT_NULL":return null!=b;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b,c);case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b,c);case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b,c);case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b,c);default:return!1}},h=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var i=g(e,c);if(i)return i;var j=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,k=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,l=c.indexOf(" and ")>=0?c.split(" and "):new Array,m=c.indexOf(" or ")>=0?c.split(" or "):new Array,n=c.indexOf("|")>=0?c.split("|"):new Array;if(n.length>0)for(var o=0;o<n.length;o++)n[o]=a.trim(n[o]);var p=c.indexOf(" ")>=0?c.split(" "):new Array;if(p.length>0)for(var o=0;o<p.length;o++)p[o]=a.trim(p[o]);if(j=j.concat(p),j=j.concat(l),k=k.concat(n),k=k.concat(m),j.length>0)for(var o=0;o<j.length;o++)!j[o].indexOf(" OR ")>=0&&h.push(j[o]);if(k.length>0)for(var o=0;o<k.length;o++)!k[o].indexOf(" AND ")>=0&&h.push(k[o]);for(var q=void 0,r=0;r<h.length;r++){var b=h[r],i=g(e,b),s=r<j.length?"and":"or";q=void 0==q?i:"or"==s?q||i:q&&i}return q}return g(e,c)}},k=function(a,b){this.filtervalue=a,this.comparisonoperator=b,this.type="booleanfilter",this.evaluate=function(a){var b=this.filtervalue,c=this.comparisonoperator;if(null==a||void 0==a)return"NULL"==c?!0:!1;var d=a;switch(c){case"EQUAL":return d==b||d.toString()==b.toString();case"NOT_EQUAL":return d!=b&&d.toString()!=b.toString();default:return!1}}},l=function(b,c){this.filtervalue=b,this.comparisonoperator=c,this.type="numericfilter",this.evaluate=function(b){var c=this.filtervalue,d=this.comparisonoperator;
if(null===b||void 0===b||""===b)return"NOT_NULL"==d?!1:"NULL"==d?!0:!1;if("NULL"==d)return!1;if("NOT_NULL"==d)return!0;var e=b;try{e=parseFloat(e)}catch(f){if(""!=b.toString())return!1}var g=function(b,c){switch(d){case"EQUAL":return b==c;case"NOT_EQUAL":return b!=c;case"GREATER_THAN":return b>c;case"GREATER_THAN_OR_EQUAL":return b>=c;case"LESS_THAN":return c>b;case"LESS_THAN_OR_EQUAL":return c>=b;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b.toString(),c.toString());case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b.toString(),c.toString());case"CONTAINS":return a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b.toString(),c.toString());case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b.toString(),c.toString());default:return!0}},h=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var i=g(e,c);if(i)return i;c=c.toString();var j=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,k=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,l=c.indexOf(" and ")>=0?c.split(" and "):new Array,m=c.indexOf(" or ")>=0?c.split(" or "):new Array;j=j.concat(l),k=k.concat(m);var n=c.indexOf("|")>=0?c.split("|"):new Array;if(n.length>0)for(var o=0;o<n.length;o++)n[o]=a.trim(n[o]);if(k=k.concat(n),j.length>0)for(var o=0;o<j.length;o++)!j[o].indexOf(" OR ")>=0&&h.push(j[o]);if(k.length>0)for(var o=0;o<k.length;o++)!k[o].indexOf(" AND ")>=0&&h.push(k[o]);for(var p=void 0,q=0;q<h.length;q++){var b=h[q];if(b&&b.indexOf&&b.indexOf("..")>=0){var r=b.toString().split("..");2==r.length&&(i=e>=r[0]&&e<=r[1])}else var i=g(e,b);var s=q<j.length?"and":"or";p=void 0==p?i:"or"==s?p||i:p&&i}return p}return c&&c.indexOf&&c.indexOf("..")>=0&&(h=c.toString().split(".."),2==h.length)?e>=h[0]&&e<=h[1]:g(e,c)}},m=function(b,c,d,e){if(this.filtervalue=b,this.type="datefilter",void 0!=d&&void 0!=e){var f=a.jqx.dataFormat.parsedate(b,d,e);if(null!=f)this.filterdate=f;else{var g=a.jqx.dataFormat.tryparsedate(b,e);null!=g&&(this.filterdate=g)}}else{var h=new Date(b);this.filterdate="NaN"==h.toString()||"Invalid Date"==h.toString()?a.jqx.dataFormat.tryparsedate(b):h}if(!this.filterdate){var h=new Date(b);this.filterdate="NaN"==h.toString()||"Invalid Date"==h.toString()?a.jqx.dataFormat.tryparsedate(b):h}this.comparisonoperator=c,this.evaluate=function(b){var c=this.filtervalue,f=this.comparisonoperator;if(null==b||void 0==b||""==b)return"NOT_NULL"==f?!1:"NULL"==f?!0:!1;if("NULL"==f)return!1;if("NOT_NULL"==f)return!0;var g=new Date;g.setFullYear(1900,0,1),g.setHours(12,0,0,0);try{var h=new Date(b);b="NaN"==h.toString()||"Invalid Date"==h.toString()?a.jqx.dataFormat.tryparsedate(b):h,g=b;var i=!1;if(void 0!=d&&void 0!=e&&(d.indexOf("t")>=0||d.indexOf("T")>=0||d.indexOf(":")>=0||d.indexOf("f")>=0)&&(i=!0,c&&-1==c.toString().indexOf(":"))){var j=a.jqx.dataFormat.tryparsedate(c.toString()+":00",e);null!=j&&(this.filterdate=j)}i||(g.setHours(0),g.setMinutes(0),g.setSeconds(0))}catch(k){if(""!=b.toString())return!1}if(null!=this.filterdate)c=this.filterdate;else if(c.indexOf&&(-1!=c.indexOf(":")||!isNaN(parseInt(c)))){var l=new Date(g);l.setHours(12,0,0,0);for(var m=c.split(":"),n=0;n<m.length;n++)0==n&&l.setHours(m[n]),1==n&&l.setMinutes(m[n]),2==n&&l.setSeconds(m[n]);c=l}i&&c&&c.setFullYear&&g&&g.getFullYear&&-1==d.indexOf("d")&&-1==d.indexOf("M")&&-1==d.indexOf("y")&&c.setFullYear(g.getFullYear(),g.getMonth(),g.getDate());var o=function(b,c){switch(null==b&&(b=""),f){case"EQUAL":return b.toString()==c.toString();case"NOT_EQUAL":return b.toString()!=c.toString();case"GREATER_THAN":return b>c;case"GREATER_THAN_OR_EQUAL":return b>=c;case"LESS_THAN":return c>b;case"LESS_THAN_OR_EQUAL":return c>=b;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b.toString(),c.toString());case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b.toString(),c.toString());case"CONTAINS":return a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b.toString(),c.toString());case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b.toString(),c.toString());default:return!0}},p=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var j=o(g,c);if(j)return j;var q=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,r=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,s=c.indexOf(" and ")>=0?c.split(" and "):new Array,t=c.indexOf(" or ")>=0?c.split(" or "):new Array;q=q.concat(s),r=r.concat(t);var u=c.indexOf("|")>=0?c.split("|"):new Array;if(u.length>0)for(var n=0;n<u.length;n++)u[n]=a.trim(u[n]);if(r=r.concat(u),q.length>0)for(var n=0;n<q.length;n++)!q[n].indexOf(" OR ")>=0&&p.push(q[n]);if(r.length>0)for(var n=0;n<r.length;n++)!r[n].indexOf(" AND ")>=0&&p.push(r[n]);for(var v=void 0,w=0;w<p.length;w++){var b=p[w];if(b&&b.indexOf&&b.indexOf("..")>=0){var x=b.toString().split("..");2==x.length&&(j=g>=x[0]&&g<=x[1])}else var j=o(g,b);var y=w<q.length?"and":"or";v=void 0==v?j:"or"==y?v||j:v&&j}return v}return c&&c.indexOf&&c.indexOf("..")>=0&&(p=c.toString().split(".."),2==p.length)?g>=p[0]&&g<=p[1]:o(g,c)}},n=function(a,b,c){this.filtervalue=a,this.comparisonoperator=b,this.evaluate=function(a){return c(this.filtervalue,a,this.comparisonoperator)}}}}(jQuery),function(a){a.jqx.jqxWidget("jqxScrollBar","",{}),a.extend(a.jqx._jqxScrollBar.prototype,{defineInstance:function(){this.height=null,this.width=null,this.vertical=!1,this.min=0,this.max=1e3,this.value=this.min,this.step=10,this.largestep=50,this.thumbMinSize=10,this.thumbSize=0,this.thumbStep="auto",this.roundedCorners="all",this.showButtons=!0,this.disabled=!1,this.touchMode="auto",this.touchModeStyle="auto",this.thumbTouchSize=0,this._triggervaluechanged=!0,this.rtl=!1,this.areaDownCapture=!1,this.areaUpCapture=!1,this._initialLayout=!1},createInstance:function(){this.render()},render:function(){this._mouseup=new Date;var b=this,c="<div id='jqxScrollOuterWrap' style='width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";if(a.jqx.utilities&&"hidden"==a.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),b.WinJS?MSApp.execUnsafeLocalFunction(function(){b.host.html(c)}):this.element.innerHTML=c,void 0!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),void 0!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var d=this;a.jqx.utilities.resize(this.host,function(){d._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=a(this.element.firstChild),this.scrollWrap=a(this.scrollOuterWrap[0].firstChild),this.btnUp=a(this.scrollWrap[0].firstChild),this.areaUp=a(this.btnUp[0].nextSibling),this.btnThumb=a(this.areaUp[0].nextSibling),this.arrowUp=a("<div></div>"),this.arrowUp.appendTo(this.btnUp),this.areaDown=a(this.btnThumb[0].nextSibling),this.btnDown=a(this.areaDown[0].nextSibling),this.arrowDown=a("<div></div>"),this.arrowDown.appendTo(this.btnDown);var e=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+e,this.btnDown[0].id="jqxScrollBtnDown"+e,this.btnThumb[0].id="jqxScrollThumb"+e,this.areaUp[0].id="jqxScrollAreaUp"+e,this.areaDown[0].id="jqxScrollAreaDown"+e,this.scrollWrap[0].id="jqxScrollWrap"+e,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+e,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=a.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=a.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(a,b,c,d){isNaN(d)||c!=d&&a.setPosition(parseFloat(d),!0)},this.propertyChangeMap.width=function(a){void 0!=a.width&&parseInt(a.width)>0&&(a.host.width(parseInt(a.width)),a._arrange())},this.propertyChangeMap.height=function(a){void 0!=a.height&&parseInt(a.height)>0&&(a.host.height(parseInt(a.height)),a._arrange())},this.propertyChangeMap.theme=function(a){a.setTheme()},this.propertyChangeMap.max=function(a,b,c,d){isNaN(d)||c!=d&&(a.max=parseInt(d),a.min>a.max&&(a.max=a.min+1),a._arrange(),a.setPosition(a.value))},this.propertyChangeMap.min=function(a,b,c,d){isNaN(d)||c!=d&&(a.min=parseInt(d),a.min>a.max&&(a.max=a.min+1),a._arrange(),a.setPosition(a.value))},this.propertyChangeMap.disabled=function(a,b,c,d){c!=d&&(d?a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")):a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),a.btnUp.jqxRepeatButton("disabled",a.disabled),a.btnDown.jqxRepeatButton("disabled",a.disabled),a.btnThumb.jqxButton("disabled",a.disabled))},this.propertyChangeMap.touchMode=function(a,b,c,d){c!=d&&(a._updateTouchBehavior(),d===!0?(a.showButtons=!1,a.refresh()):d===!1&&(a.showButtons=!0,a.refresh()))},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(a,b){this.width=a,this.height=b,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=a.jqx.mobile.isTouchDevice(),1==this.touchMode){if(a.jqx.browser.msie&&a.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,a.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var b=this,c=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(c=!0,this._touchSupport=!0)}catch(d){}if((b.isTouchDevice||c)&&(this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchend"),function(a){var c=b.toThemeProperty(b.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal"),d=b.toThemeProperty("jqx-fill-state-pressed");return b.btnThumb.removeClass(c),b.btnThumb.removeClass(d),b.disabled||b.handlemouseup(b,a),!1}),this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchstart"),function(a){if(!b.disabled){if(1==b.touchMode)a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY;else{var c=a;c.originalEvent.touches&&c.originalEvent.touches.length?(a.clientX=c.originalEvent.touches[0].clientX,a.clientY=c.originalEvent.touches[0].clientY):(a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY)}b.handlemousedown(a),a.preventDefault&&a.preventDefault()}}),a.jqx.mobile.touchScroll(this.element,b.max,function(a,c,d,e,f){if("visible"==b.host.css("visibility")){if(1==b.touchMode)f.clientX=f.originalEvent.clientX,f.clientY=f.originalEvent.clientY;else{var g=f;g.originalEvent.touches&&g.originalEvent.touches.length?(f.clientX=g.originalEvent.touches[0].clientX,f.clientY=g.originalEvent.touches[0].clientY):(f.clientX=f.originalEvent.clientX,f.clientY=f.originalEvent.clientY)}var h=b.toThemeProperty(b.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");b.btnThumb.addClass(h),b.btnThumb.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.thumbCapture=!0,b.handlemousemove(f)}},b.element.id)),this.addHandler(this.btnUp,"click",function(){var a=b.step;b.rtl&&!b.vertical&&(a=-b.step),b.buttonUpCapture&&!b.isTouchDevice?b.disabled||b.setPosition(b.value-a):!b.disabled&&b.isTouchDevice&&b.setPosition(b.value-a)}),this.addHandler(this.btnDown,"click",function(){var a=b.step;b.rtl&&!b.vertical&&(a=-b.step),b.buttonDownCapture&&!b.isTouchDevice?b.disabled||b.setPosition(b.value+a):!b.disabled&&b.isTouchDevice&&b.setPosition(b.value+a)}),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var e=null;if(window.parent&&document.referrer&&(e=document.referrer),e&&-1!=e.indexOf(document.location.host)){var f=function(a){b.disabled||b.handlemouseup(b,a)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",f,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",f)}}}catch(g){}this.addHandler(this.btnDown,"mouseup",function(a){if(!b.btnDownInstance.base.disabled&&b.buttonDownCapture){b.buttonDownCapture=!1,b.btnDown.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.btnDown.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._removeArrowClasses("pressed","down"),b.handlemouseup(b,a);var c=b.step;return b.rtl&&!b.vertical&&(c=-b.step),b.setPosition(b.value+c),!1}}),this.addHandler(this.btnUp,"mouseup",function(a){if(!b.btnUpInstance.base.disabled&&b.buttonUpCapture){b.buttonUpCapture=!1,b.btnUp.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.btnUp.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._removeArrowClasses("pressed","up"),b.handlemouseup(b,a);var c=b.step;return b.rtl&&!b.vertical&&(c=-b.step),b.setPosition(b.value-c),!1}}),this.addHandler(this.btnDown,"mousedown",function(){return b.btnDownInstance.base.disabled?void 0:(b.buttonDownCapture=!0,b.btnDown.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.btnDown.addClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b._addArrowClasses("pressed","down"),!1)}),this.addHandler(this.btnUp,"mousedown",function(){return b.btnUpInstance.base.disabled?void 0:(b.buttonUpCapture=!0,b.btnUp.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.btnUp.addClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b._addArrowClasses("pressed","up"),!1)})}var h="click";if(this.isTouchDevice&&(h=a.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,h,function(){if(!b.disabled){var a=b.largestep;return b.rtl&&!b.vertical&&(a=-b.largestep),b.setPosition(b.value-a),!1}}),this.addHandler(this.areaDown,h,function(){if(!b.disabled){var a=b.largestep;return b.rtl&&!b.vertical&&(a=-b.largestep),b.setPosition(b.value+a),!1}}),this.addHandler(this.areaUp,"mousedown",function(){return b.disabled?void 0:(b.areaUpCapture=!0,!1)}),this.addHandler(this.areaDown,"mousedown",function(){return b.disabled?void 0:(b.areaDownCapture=!0,!1)}),this.addHandler(this.btnThumb,"mousedown",function(a){return b.disabled||b.handlemousedown(a),!1}),this.addHandler(this.btnThumb,"dragstart",function(){return!1}),this.addHandler(a(document),"mouseup."+this.element.id,function(a){b.disabled||b.handlemouseup(b,a)}),!this.isTouchDevice&&(this.mousemoveFunc=function(a){b.disabled||b.handlemousemove(a)},this.addHandler(a(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(a(document),"mouseleave."+this.element.id,function(a){b.disabled||b.handlemouseleave(a)}),this.addHandler(a(document),"mouseenter."+this.element.id,function(a){b.disabled||b.handlemouseenter(a)}),!b.disabled)){this.addHandler(this.btnUp,"mouseenter",function(){b.disabled||b.btnUpInstance.base.disabled||1==b.touchMode||(b.btnUp.addClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnUp.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._addArrowClasses("hover","up"))}),this.addHandler(this.btnUp,"mouseleave",function(){b.disabled||b.btnUpInstance.base.disabled||1==b.touchMode||(b.btnUp.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnUp.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._removeArrowClasses("hover","up"))});var i=b.toThemeProperty("jqx-scrollbar-thumb-state-hover");b.vertical||(i=b.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter",function(){b.disabled||1==b.touchMode||(b.btnThumb.addClass(i),b.btnThumb.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnThumb,"mouseleave",function(){b.disabled||1==b.touchMode||(b.btnThumb.removeClass(i),b.btnThumb.removeClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter",function(){b.disabled||b.btnDownInstance.base.disabled||1==b.touchMode||(b.btnDown.addClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnDown.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._addArrowClasses("hover","down"))}),this.addHandler(this.btnDown,"mouseleave",function(){b.disabled||b.btnDownInstance.base.disabled||1==b.touchMode||(b.btnDown.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnDown.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._removeArrowClasses("hover","down"))})}},destroy:function(){var b=this.btnUp,c=this.btnDown,d=this.btnThumb,e=(this.scrollWrap,this.areaUp),f=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,f.removeClass(),e.removeClass(),c.removeClass(),b.removeClass(),d.removeClass(),b.jqxRepeatButton("destroy"),c.jqxRepeatButton("destroy"),e.jqxRepeatButton("destroy"),f.jqxRepeatButton("destroy"),d.jqxButton("destroy");var g=a.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,g&&delete g.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(a(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(a(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(a(document),"mousemove."+this.element.id),this.removeHandler(a(document),"mouseleave."+this.element.id),this.removeHandler(a(document),"mouseenter."+this.element.id)},_addArrowClasses:function(a,b){"pressed"==a&&(a="selected"),""!=a&&(a="-"+a),this.vertical?(("up"==b||void 0==b)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+a)),("down"==b||void 0==b)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+a))):(("up"==b||void 0==b)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+a)),("down"==b||void 0==b)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+a)))},_removeArrowClasses:function(a,b){"pressed"==a&&(a="selected"),""!=a&&(a="-"+a),this.vertical?(("up"==b||void 0==b)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+a)),("down"==b||void 0==b)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+a))):(("up"==b||void 0==b)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+a)),("down"==b||void 0==b)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+a)))},setTheme:function(){var b=this.btnUp,c=this.btnDown,d=this.btnThumb,e=this.scrollWrap,f=(this.areaUp,this.areaDown,this.arrowUp),g=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var h=this.toThemeProperty("jqx-reset");this.areaDown[0].className=h,this.areaUp[0].className=h;var i=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(i),c[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),b[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var j="";if(this.vertical?(f[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-up"),g[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-down"),j=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(f[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-left"),g[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-right"),j=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),j+=" "+this.toThemeProperty("jqx-fill-state-normal"),d[0].className=j,this.disabled?(e.addClass(this.toThemeProperty("jqx-fill-state-disabled")),e.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(e.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),e.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var k=a.jqx.cssroundedcorners("top");k=this.toThemeProperty(k),b.addClass(k);var l=a.jqx.cssroundedcorners("bottom");l=this.toThemeProperty(l),c.addClass(l)}else{var m=a.jqx.cssroundedcorners("left");m=this.toThemeProperty(m),b.addClass(m);var n=a.jqx.cssroundedcorners("right");n=this.toThemeProperty(n),c.addClass(n)}else{var o=a.jqx.cssroundedcorners(this.roundedCorners);o=this.toThemeProperty(o),elBtnUp.addClass(o),elBtnDown.addClass(o)}var o=a.jqx.cssroundedcorners(this.roundedCorners);o=this.toThemeProperty(o),d.hasClass(o)||d.addClass(o),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return void 0==this.thumbCapture||void 0==this.buttonDownCapture||void 0==this.buttonUpCapture||void 0==this.areaDownCapture||void 0==this.areaUpCapture?!1:this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},handlemousedown:function(a){if(void 0==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var b=this.btnThumb;null!=b&&(b.addClass(this.toThemeProperty("jqx-fill-state-pressed")),b.addClass(this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}this.dragStartX=a.clientX,this.dragStartY=a.clientY,this.dragStartValue=this.value},toggleHover:function(){},refresh:function(){this._arrange()},_setElementPosition:function(a,b,c){isNaN(b)||parseInt(a[0].style.left)!=parseInt(b)&&(a[0].style.left=b+"px"),isNaN(c)||parseInt(a[0].style.top)!=parseInt(c)&&(a[0].style.top=c+"px")},_setElementTopPosition:function(a,b){isNaN(b)||(a[0].style.top=b+"px")},_setElementLeftPosition:function(a,b){isNaN(b)||(a[0].style.left=b+"px")},handlemouseleave:function(){var a=this.btnUp,b=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var c=this.btnThumb,d=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");c.removeClass(d),c.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(){var a=this.btnUp,b=this.btnDown;if(this.buttonUpCapture&&(a.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(b.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var c=this.btnThumb;c.addClass(this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),c.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(a){var b=this.btnUp,c=this.btnDown,d=0;if(null!=c&&null!=b){if(null!=b&&null!=c&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&(this.buttonDownCapture&&a.which==d?(c.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),c.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&a.which==d&&(b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var e=this.btnThumb;if(a.which==d&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var f=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");return e.removeClass(f),e.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}void 0!=a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation();var g=0;try{g=this.vertical?a.clientY-this.dragStartY:a.clientX-this.dragStartX;var h=this._btnAndThumbSize;this._btnAndThumbSize||(h=this.vertical?b.height()+c.height()+e.height():b.width()+c.width()+e.width());var i=(this.max-this.min)/(this.scrollBarSize-h);if("auto"!=this.thumbStep){if(g*=i,Math.abs(this.dragStartValue+g-this.value)>=parseInt(this.thumbStep)){var j=Math.round(parseInt(g)/this.thumbStep)*this.thumbStep;return this.setPosition(this.rtl&&!this.vertical?this.dragStartValue-j:this.dragStartValue+j),!1}return!1}g*=i;var j=g;this.rtl&&!this.vertical&&(j=-g),this.setPosition(this.dragStartValue+j)}catch(k){alert(k)}return!1}},handlemouseup:function(a,b){var c=!1;if(this.thumbCapture){this.thumbCapture=!1;var d=this.btnThumb,e=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");d.removeClass(e),d.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c=!0,this._mouseup=new Date}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var f=this.btnUp,g=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,f.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),g.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),f.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),g.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),c=!0,this._mouseup=new Date}c&&(void 0!=b.preventDefault&&b.preventDefault(),null!=b.originalEvent&&(b.originalEvent.mouseHandled=!0),void 0!=b.stopPropagation&&b.stopPropagation())},setPosition:function(a,b){this.element;if((void 0==a||0/0==a)&&(a=this.min),a>=this.max&&(a=this.max),a<this.min&&(a=this.min),this.value!==a||1==b){if(a==this.max){var c=new jQuery.Event("complete");this.host.trigger(c)}var d=this.value;if(this._triggervaluechanged){var e=new jQuery.Event("valuechanged");e.previousValue=this.value,e.currentValue=a}this.value=a,this._positionelements(),this._triggervaluechanged&&this.host.trigger(e),this.valuechanged&&this.valuechanged({currentValue:this.value,previousvalue:d})}return a},_getThumbSize:function(a){var b=this.max-this.min,c=0;return b>1?c=a/(b+a)*a:1==b&&(c=a),this.thumbSize>0&&(c=this.thumbSize),c<this.thumbMinSize&&(c=this.thumbMinSize),Math.min(c,a)},_positionelements:function(){var a=(this.element,this.areaUp),b=this.areaDown,c=(this.btnUp,this.btnDown,this.btnThumb),d=(this.scrollWrap,this._height?this._height:this.host.height()),e=this._width?this._width:this.host.width(),f=this.vertical?e:d;this.showButtons||(f=0);var g=this.vertical?d:e;this.scrollBarSize=g;var h=this._getThumbSize(g-2*f);h=Math.round(h),h<this.thumbMinSize&&(h=this.thumbMinSize),(0/0==d||10>d)&&(d=10),(0/0==e||10>e)&&(e=10),f+=2,this.btnSize=f;var i=this._btnAndThumbSize;if(!this._btnAndThumbSize){var i=this.vertical?2*this.btnSize+c.outerHeight():2*this.btnSize+c.outerWidth();i=Math.round(i)}var j=(g-i)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(j=(g-i)/(this.max-this.min)*(this.max-this.value-this.min)),j=Math.round(j),0>j&&(j=0),this.vertical){var k=g-j-i;0>k&&(k=0),b[0].style.height=k+"px",a[0].style.height=j+"px",this._setElementTopPosition(a,f),this._setElementTopPosition(c,f+j),this._setElementTopPosition(b,f+j+h)}else a[0].style.width=j+"px",b[0].style.width=g-j-i>=0?g-j-i+"px":"0px",this._setElementLeftPosition(a,f),this._setElementLeftPosition(c,f+j),this._setElementLeftPosition(b,2+f+j+h)},_arrange:function(){if(this._initialLayout)return void(this._initialLayout=!1);var a=(this.element,this.areaUp),b=this.areaDown,c=this.btnUp,d=this.btnDown,e=this.btnThumb,f=this.scrollWrap,g=parseInt(this.element.style.height),h=parseInt(this.element.style.width);if(this.isPercentage)var g=this.host.height(),h=this.host.width();isNaN(g)&&(g=0),isNaN(h)&&(h=0),this._width=h,this._height=g;var i=this.vertical?h:g;this.showButtons||(i=0),c[0].style.width=i+"px",c[0].style.height=i+"px",d[0].style.width=i+"px",d[0].style.height=i+"px",this.vertical?f[0].style.width=h+2+"px":f[0].style.height=g+2+"px",this._setElementPosition(c,0,0);var j=i+2;this.vertical?this._setElementPosition(d,0,g-j):this._setElementPosition(d,h-j,0);var k=this.vertical?g:h;this.scrollBarSize=k;var l=this._getThumbSize(k-2*i);l=Math.round(l),l<this.thumbMinSize&&(l=this.thumbMinSize);var m=!1;this.isTouchDevice&&0!=this.touchModeStyle&&(m=!0),this.vertical?(e[0].style.width=h+"px",e[0].style.height=l+"px",m&&0!==this.thumbTouchSize&&(e.css({width:this.thumbTouchSize+"px"}),e.css("margin-left",(this.host.width()-this.thumbTouchSize)/2))):(e[0].style.width=l+"px",e[0].style.height=g+"px",m&&0!==this.thumbTouchSize&&(e.css({height:this.thumbTouchSize+"px"}),e.css("margin-top",(this.host.height()-this.thumbTouchSize)/2))),(0/0==g||10>g)&&(g=10),(0/0==h||10>h)&&(h=10),i+=2,this.btnSize=i;
var n=this.vertical?2*this.btnSize+(2+parseInt(e[0].style.height)):2*this.btnSize+(2+parseInt(e[0].style.width));n=Math.round(n),this._btnAndThumbSize=n;var o=(k-n)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(o=(k-n)/(this.max-this.min)*(this.max-this.value-this.min)),o=Math.round(o),(o===-1/0||1/0==o)&&(o=0),isNaN(o)&&(o=0),0>o&&(o=0),this.vertical){var p=k-o-n;0>p&&(p=0),b[0].style.height=p+"px",b[0].style.width=h+"px",a[0].style.height=o+"px",a[0].style.width=h+"px";var q=parseInt(this.element.style.height);this.isPercentage&&(q=this.host.height()),e[0].style.visibility="inherit",q-3*parseInt(i)<0?e[0].style.visibility="hidden":n>q?e[0].style.visibility="hidden":"visible"==this.element.style.visibility&&(e[0].style.visibility="inherit"),this._setElementPosition(a,0,i),this._setElementPosition(e,0,i+o),this._setElementPosition(b,0,i+o+l)}else{o>0&&(a[0].style.width=o+"px"),g>0&&(a[0].style.height=g+"px");var r=k-o-n;0>r&&(r=0),b[0].style.width=r+"px",b[0].style.height=g+"px";var s=parseInt(this.element.style.width);this.isPercentage&&(s=this.host.width()),e[0].style.visibility="inherit",s-3*parseInt(i)<0?e[0].style.visibility="hidden":n>s?e[0].style.visibility="hidden":"visible"==this.element.style.visibility&&(e[0].style.visibility="inherit"),this._setElementPosition(a,i,0),this._setElementPosition(e,i+o,0),this._setElementPosition(b,2+i+o+l,0)}}})}(jQuery),function(a){a.jqx.jqxWidget("jqxListBox","",{}),a.extend(a.jqx._jqxListBox.prototype,{defineInstance:function(){this.disabled=!1,this.width=null,this.height=null,this.items=new Array,this.multiple=!1,this.selectedIndex=-1,this.selectedIndexes=new Array,this.source=null,this.scrollBarSize=a.jqx.utilities.scrollBarSize,this.enableHover=!0,this.enableSelection=!0,this.visualItems=new Array,this.groups=new Array,this.equalItemsWidth=!0,this.itemHeight=-1,this.visibleItems=new Array,this.emptyGroupText="Group",this.checkboxes=!1,this.hasThreeStates=!1,this.autoHeight=!1,this.autoItemsHeight=!1,this.roundedcorners=!0,this.touchMode="auto",this.displayMember="",this.valueMember="",this.searchMode="startswithignorecase",this.incrementalSearch=!0,this.incrementalSearchDelay=1e3,this.incrementalSearchKeyDownDelay=300,this.allowDrag=!1,this.allowDrop=!0,this.dropAction="default",this.touchModeStyle="auto",this.keyboardNavigation=!0,this.enableMouseWheel=!0,this.multipleextended=!1,this.emptyString="null",this.rtl=!1,this.rendered=null,this.renderer=null,this.dragStart=null,this.dragEnd=null,this.ready=null,this._checkForHiddenParent=!0,this.remoteAutoComplete=!1,this.aria={"aria-disabled":{name:"disabled",type:"boolean"}},this.events=["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]},createInstance:function(){15!=a.jqx.utilities.scrollBarSize&&(this.scrollBarSize=a.jqx.utilities.scrollBarSize),null==this.width&&(this.width=200),null==this.height&&(this.height=200),this.render();var b=this;a.jqx.utilities.resize(this.host,function(){b._updateSize()},!1,this._checkForHiddenParent)},resize:function(a,b){this.width=a,this.height=b,this._updateSize()},render:function(){this.element.innerHTML="";var b=this.element.className;b+=" "+this.toThemeProperty("jqx-listbox"),b+=" "+this.toThemeProperty("jqx-reset"),b+=" "+this.toThemeProperty("jqx-rc-all"),b+=" "+this.toThemeProperty("jqx-widget"),b+=" "+this.toThemeProperty("jqx-widget-content"),this.element.className=b;var c=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),c=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),0==this.host.height()&&this.host.height(200),c=!0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)+"px"),this.multiple||this.multipleextended||this.checkboxes?a.jqx.aria(this,"aria-multiselectable",!0):a.jqx.aria(this,"aria-multiselectable",!1);var d=a("<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+this.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+this.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>");this._checkForHiddenParent&&(this._addInput(),this.host.attr("tabIndex")||this.host.attr("tabIndex",1)),this.host.attr("role","listbox"),this.host.append(d);var e=this.host.find("#verticalScrollBar"+this.element.id);if(!this.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!e.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var f=parseInt(this.host.height())/2;0==f&&(f=10),this.vScrollBar=e.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:this.rtl,theme:this.theme,touchMode:this.touchMode,largestep:f});var g=this.host.find("#horizontalScrollBar"+this.element.id);if(this.hScrollBar=g.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#listBoxContent"),this.content[0].id="listBoxContent"+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-listbox-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance,this.isTouchDevice()&&!(a.jqx.browser.msie&&a.jqx.browser.version<9)){var h=a("<div class='overlay' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");this.content.parent().append(h),this.overlayContent=this.host.find(".overlay")}this._updateTouchScrolling(),this.host.addClass("jqx-disableselect"),this.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(a,b){var c=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+c+")","ig"),function(a,b){return"<b>"+b+"</b>"})},_addInput:function(){var b=this.host.attr("name");b?this.host.attr("name",""):b=this.element.id,this.input=a("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",b)},_updateTouchScrolling:function(){var b=this;if(this.isTouchDevice()){b.enableHover=!1;var c=this.overlayContent?this.overlayContent:this.content;this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(a(c),"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(c,b.vScrollInstance.max,function(a,c){if("hidden"!=b.vScrollBar.css("visibility")){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+c),b._lastScroll=new Date}if("hidden"!=b.hScrollBar.css("visibility")){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+a),b._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=b.vScrollBar.css("visibility")&&"visible"!=b.hScrollBar.css("visibility")?a.jqx.mobile.setTouchScroll(!1,this.element.id):a.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(a.jqx.browser.msie&&a.jqx.browser.version<9)return!1;this.touchDevice=!0,b=!0,a.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(b=!1);return b&&0!=this.touchModeStyle&&(this.scrollBarSize=a.jqx.utilities.touchScrollBarSize),b&&this.host.addClass(this.toThemeProperty("jqx-touch")),b},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("renderer"==c&&(b._cachedItemHtml=new Array,b.refresh()),"itemHeight"==c&&b.refresh(),("source"==c||"checkboxes"==c)&&(null==e&&d&&d.unbindBindingUpdate&&(d.unbindBindingUpdate(b.element.id),d.unbindDownloadComplete(b.element.id)),b.clearSelection(),b.refresh()),("scrollBarSize"==c||"equalItemsWidth"==c)&&e!=d&&b._updatescrollbars(),"disabled"==c&&(b._renderItems(),b.vScrollBar.jqxScrollBar({disabled:e}),b.hScrollBar.jqxScrollBar({disabled:e})),"touchMode"==c||"rtl"==c){if(b._removeHandlers(),b.vScrollBar.jqxScrollBar({touchMode:e}),b.hScrollBar.jqxScrollBar({touchMode:e}),"touchMode"==c&&!(a.jqx.browser.msie&&a.jqx.browser.version<9)){var f=a("<div class='overlay' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");b.content.parent().append(f),b.overlayContent=b.host.find(".overlay")}b._updateTouchScrolling(),b._addHandlers(),b._render(!1)}if(this.updating||("width"==c||"height"==c)&&b._updateSize(),"theme"==c&&d!=e&&(b.hScrollBar.jqxScrollBar({theme:b.theme}),b.vScrollBar.jqxScrollBar({theme:b.theme}),b.host.removeClass(),b.host.addClass(b.toThemeProperty("jqx-listbox")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.host.addClass(b.toThemeProperty("jqx-widget-content")),b.host.addClass(b.toThemeProperty("jqx-reset")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.refresh()),"selectedIndex"==c&&(b.clearSelection(),b.selectIndex(e,!0)),"displayMember"==c||"valueMember"==c){if(d!=e){var g=b.selectedIndex;b.refresh(),b.selectedIndex=g,b.selectedIndexes[g]=g}b._renderItems()}"autoHeight"==c&&(d!=e?b._render(!1):(b._updatescrollbars(),b._renderItems())),b._checkForHiddenParent&&a.jqx.isHidden(b.host)&&a.jqx.utilities.resize(this.host,function(){b._updateSize()},!1,b._checkForHiddenParent)}},loadFromSelect:function(b){if(null!=b){var c="#"+b,d=a(c);if(d.length>0){var e=d.find("option"),f=d.find("optgroup"),g=0,h=-1,i=new Array;a.each(e,function(){var b=f.find(this).length>0,c=null;this.text==this.value||null!=this.label&&""!=this.label||(this.label=this.text);var d={disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this},e=a.jqx.browser.msie&&a.jqx.browser.version<8;e&&""==d.value&&null!=this.text&&this.text.length>0&&(d.value=this.text),b&&(c=f.find(this).parent()[0].label,d.group=c),this.selected&&(h=g),i[g]=d,g++}),this.source=i,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=h,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(b){var c=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var d=function(a){if(1==a&&-1!=c.selectedIndex){var b=c.selectedIndex;c.selectedIndex=-1,c._stopEvents=!0,c.selectIndex(b,!1,!0),-1==c.selectedIndex&&(c.selectedIndex=b),c._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),a.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source),void d(b);this.items=this.loadItems(this.source),this._raiseEvent("6"),this._render(!1,1==b),d(b)}},_render:function(a){return this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==a||a)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready()))},_hitTest:function(a,b){var c=parseInt(this.vScrollInstance.value),d=this._searchFirstVisibleIndex(b+c,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[d]&&this.renderedVisibleItems[d].isGroup)return null;if(this.renderedVisibleItems.length>0){var e=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(e.height+e.top<b+c)return null}return d=this._searchFirstVisibleIndex(b+c),this.visibleItems[d]},_searchFirstVisibleIndex:function(a,b){void 0==a&&(a=parseInt(this.vScrollInstance.value));var c=0;(void 0==b||null==b)&&(b=this.visibleItems);for(var d=b.length;d>=c;){mid=parseInt((c+d)/2);var e=b[mid];if(void 0==e)break;if(e.initialTop>a&&e.initialTop+e.height>a)d=mid-1;else{if(!(e.initialTop<a&&e.initialTop+e.height<=a))return mid;c=mid+1}}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)return void(this.visibleItems=new Array);if(1!=this.updatingListBox){var b=this.isTouchDevice(),c=this.vScrollInstance,d=this.hScrollInstance,e=parseInt(c.value),f=parseInt(d.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(f=d.max-f);var g=(this.items.length,this.host.width(),parseInt(this.content[0].style.width)),h=g+parseInt(d.max),i=parseInt(this.vScrollBar[0].style.width)+2;"hidden"==this.vScrollBar[0].style.visibility&&(i=0),"visible"!=this.hScrollBar[0].style.visibility&&(h=g);var j=(this._getVirtualItemsCount(),new Array),k=0,l=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(l=this.host.outerHeight()),isNaN(l)&&(l=0);var m=0,n=0,o=0;if(0==c.value||0==this.visibleItems.length)for(var p=0;p<this.items.length;p++){var q=this.items[p];if(q.visible){q.top=-e,q.initialTop=-e,!q.isGroup&&q.visible&&(this.visibleItems[n++]=q,q.visibleIndex=n-1),this.renderedVisibleItems[o++]=q,q.left=-f;var r=q.top+q.height;r>=0&&q.top-q.height<=l&&(j[k++]={index:p,item:q}),e-=q.height}}var s=e>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,t=0;k=0;for(var u=this.vScrollInstance.value,v=0;100+l>t;){var q=this.renderedVisibleItems[s];if(void 0==q)break;if(q.visible){q.left=-f;var r=q.top+q.height-u;r>=0&&q.initialTop-u-q.height<=2*l&&(j[k++]={index:s,item:q})}if(s++,q.visible&&(t+=q.initialTop-u+q.height-t),v++,v>this.items.length-1)break}for(var w=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),x=this.toThemeProperty("jqx-listitem-state-group"),y=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),z=0,A=this,p=0;p<this.visualItems.length;p++){var B=this.visualItems[p],C=function(){var a=B[0].firstChild;if(A.checkboxes&&(a=B[0].lastChild),null!=a&&(a.style.visibility="hidden",a.className=""),A.checkboxes){var b=B.find(".chkbox");b.css({visibility:"hidden"})}};if(p<j.length){var q=j[p].item;if(q.initialTop-u>=l){C();continue}var D=a(B[0].firstChild);if(this.checkboxes&&(D=a(B[0].lastChild)),0==D.length)continue;if(null==D[0])continue;D[0].className="",D[0].style.display="block",D[0].style.visibility="inherit";var E="";if(E=!q.isGroup&&!this.selectedIndexes[q.index]>=0?w:x,(q.disabled||this.disabled)&&(E+=" "+y),this.roundedcorners&&(E+=" "+this.toThemeProperty("jqx-rc-all")),b&&(E+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),D[0].className=E,this.renderer)if(q.key||(q.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[q.key])D[0].innerHTML!=this._cachedItemHtml[q.key]&&(D[0].innerHTML=this._cachedItemHtml[q.key]);else{var F=this.renderer(q.index,q.label,q.value);D[0].innerHTML=F,this._cachedItemHtml[q.key]=D[0].innerHTML}else{if(-1!==this.itemHeight){var G=2+2*parseInt(D.css("padding-top"));D[0].style.lineHeight=q.height-G+"px",D.css("vertical-align","middle")}null!=q.html&&q.html.toString().length>0?D[0].innerHTML=q.html:null!=q.label||null!=q.value?null!=q.label?(D[0].innerHTML!==q.label&&(D[0].innerHTML=q.label),""==a.trim(q.label)&&(D[0].innerHTML=this.emptyString,""==this.emptyString&&(D[0].style.height=q.height-8+"px")),this.incrementalSearch||q.disabled||void 0!=this.searchString&&""!=this.searchString&&(D[0].innerHTML=this._highlight(q.label,this.searchString))):null===q.label?(D[0].innerHTML=this.emptyString,""==this.emptyString&&(D[0].style.height=q.height-8+"px")):D[0].innerHTML!==q.value?D[0].innerHTML=q.value:""==q.label&&(D[0].innerHTML=" "):(""==q.label||null==q.label)&&(D[0].innerHTML="",D[0].style.height=q.height-8+"px")}if(B[0].style.left=q.left+"px",B[0].style.top=q.initialTop-u+"px",q.element=D[0],q.title&&(D[0].title=q.title),this.equalItemsWidth&&!q.isGroup){if(0==m){var H=parseInt(h),I=parseInt(D.outerWidth())-parseInt(D.width());H-=I;var J=1;J=null!=J?parseInt(J):0,H-=2*J,m=H,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(m-=18)}g>this.virtualSize.width?(D[0].style.width=m+"px",q.width=m):(D[0].style.width=-4+this.virtualSize.width+"px",q.width=this.virtualSize.width-4)}else D.width()<this.host.width()&&D.width(this.host.width()-2);if(this.rtl&&(D[0].style.textAlign="right"),this.autoItemsHeight&&(D[0].style.whiteSpace="normal",D.width(m),q.width=m),z=0,this.checkboxes&&!q.isGroup){0==z&&(z=(q.height-16)/2,z++);var K=a(B.children()[0]);K[0].item=q,this.rtl?"0px"!=D[0].style.left&&(D[0].style.left="0px"):"18px"!=D[0].style.left&&(D[0].style.left="18px"),this.rtl&&K.css("left",8+q.width+"px"),K[0].style.top=z+"px",K[0].style.display="block",K[0].style.visibility="inherit";var L=q.checked,M=q.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";L?K[0].firstChild.firstChild.firstChild.className=M:L===!1?K[0].firstChild.firstChild.firstChild.className="":null===L&&(K[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate")),a.jqx.ariaEnabled&&(L?B[0].setAttribute("aria-selected",!0):B[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var K=a(B.children()[0]);K.css({display:"none",visibility:"inherit"})}this.selectedIndexes[q.visibleIndex]>=0&&!q.disabled?(D.addClass(this.toThemeProperty("jqx-listitem-state-selected")),D.addClass(this.toThemeProperty("jqx-fill-state-pressed")),a.jqx.ariaEnabled&&(B[0].setAttribute("aria-selected",!0),this._activeElement=B[0])):this.checkboxes||a.jqx.ariaEnabled&&B[0].removeAttribute("aria-selected")}else C()}}},generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},_calculateVirtualSize:function(){var b=0,c=2,d=0,e=a("<span></span>");this.equalItemsWidth&&e.css("float","left");var f=0,g=this.host.outerHeight();a(document.body).append(e);var h=this.items.length,i=this.host.width();if(this.autoItemsHeight&&(i-=10,"hidden"!=this.vScrollBar.css("visibility")&&(i-=20)),this.autoItemsHeight||this.renderer||this.groups.length>1||h>0&&null!=this.items[0].html&&""!=this.items[0].html)for(var d=0;h>d;d++){var j=this.items[d];if((!j.isGroup||""!=j.label||""!=j.html)&&j.visible){var k="";if(k+=this.toThemeProperty(j.isGroup?"jqx-listitem-state-group jqx-rc-all":"jqx-listitem-state-normal jqx-rc-all"),k+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(k+=" "+this.toThemeProperty("jqx-touch")),e[0].className=k,this.autoItemsHeight){e[0].style.whiteSpace="normal";var l=this.checkboxes?-20:0;e[0].style.width=l+i+"px"}if(this.renderer){var m=this.renderer(j.index,j.label,j.value);e[0].innerHTML=m}else null!=j.html&&j.html.toString().length>0?e[0].innerHTML=j.html:(null!=j.label||null!=j.value)&&(null!=j.label?(e[0].innerHTML=j.label,""==j.label&&(e[0].innerHTML="Empty")):e[0].innerHTML=j.value);var n=e.outerHeight(),o=e.outerWidth();this.itemHeight>-1&&(n=this.itemHeight),j.height=n,j.width=o,c+=n,b=Math.max(b,o),g>=c&&f++}}else{for(var c=0,p=0,q="",r=0,s=0,t=-1,d=0;h>d;d++){var j=this.items[d];if((!j.isGroup||""!=j.label||""!=j.html)&&j.visible){t++;var k="";if(0==t){if(k+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),k+=" "+this.toThemeProperty("jqx-fill-state-normal"),k+=" "+this.toThemeProperty("jqx-widget"),k+=" "+this.toThemeProperty("jqx-listbox"),k+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(k+=" "+this.toThemeProperty("jqx-touch"),k+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),e[0].className=k,this.autoItemsHeight){e[0].style.whiteSpace="normal";var l=this.checkboxes?-20:0;e[0].style.width=l+i+"px"}null==j.html||""==j.label||null==j.label?e[0].innerHTML="Item":null!=j.html&&j.html.toString().length>0?e[0].innerHTML=j.html:(null!=j.label||null!=j.value)&&(e[0].innerHTML=null!=j.label?null!=j.label.toString().match(new RegExp("\\w"))||null!=j.label.toString().match(new RegExp("\\d"))?j.label:"Item":j.value);var n=1+e.outerHeight();this.itemHeight>-1&&(n=this.itemHeight),p=n}void 0!=r&&(s=r),null!=j.html&&j.html.toString().length>0?(r=Math.max(r,j.html.toString().length),s!=r&&(q=j.html)):null!=j.label?(r=Math.max(r,j.label.length),s!=r&&(q=j.label)):null!=j.value&&(r=Math.max(r,j.value.length),s!=r&&(q=j.value)),j.height=p,c+=p,g>=c&&f++}}e[0].innerHTML=q,b=e.outerWidth()}return c+=2,10>f&&(f=10),e.remove(),{width:b,height:c,itemsPerPage:f}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var a=parseInt(this.host.height())/5;return a>this.items.length&&(a=this.items.length),a}return this.virtualItemsCount},_addItems:function(b){if(1!=this.updatingListBox){if(void 0==this.items||0==this.items.length)return this.virtualSize={width:0,height:0,itemsPerPage:0},this._updatescrollbars(),this.renderedVisibleItems=new Array,void(this.itemswrapper&&this.itemswrapper.children().remove());if(0==b){var c=this._calculateVirtualSize(),d=2*c.itemsPerPage;this.autoHeight&&(d=this.items.length),this.virtualItemsCount=Math.min(d,this.items.length);{c.width}return this.virtualSize=c,void this._updatescrollbars()}var e=this,f=0;this.visibleItems=new Array,this.renderedVisibleItems=new Array,this._removeHandlers(),this.allowDrag&&this._enableDragDrop&&(this.itemswrapper=null),null==this.itemswrapper&&(this.content[0].innerHTML="",this.itemswrapper=a('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),this.itemswrapper.height(2*this.host.height()),this.content.append(this.itemswrapper));var c=this._calculateVirtualSize(),d=2*c.itemsPerPage;this.autoHeight&&(d=this.items.length),this.virtualItemsCount=Math.min(d,this.items.length);{c.width}this.virtualSize=c,this.itemswrapper.width(Math.max(this.host.width(),17+c.width));for(var g=0,h="",i=g;i<this.virtualItemsCount;i++){var j=this.items[i],k="listitem"+i+this.element.id;if(h+="<div role='option' id='"+k+"' class='jqx-listitem-element'>",this.checkboxes){h+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var l='<div class="'+this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">',m=j.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";l+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+m+'"></span>',l+="</div></div>",h+=l,h+="</div>"}h+="<span style='-ms-touch-action: none;'></span></div>"}e.WinJS?this.itemswrapper.html(h):this.itemswrapper[0].innerHTML=h;for(var n=this.itemswrapper.children(),i=g;i<this.virtualItemsCount;i++){var j=this.items[i],o=a(n[i]);if(this.allowDrag&&this._enableDragDrop&&o.addClass("draggable"),this.checkboxes){{a(o.children()[0])}o.css("float","left");var p=a(o[0].firstChild);p.css("float","left")}o[0].style.height=j.height+"px",o[0].style.top=f+"px",f+=j.height,this.visualItems[i]=o}if(this._addHandlers(),this._updatescrollbars(),this.autoItemsHeight){var c=this._calculateVirtualSize(),d=2*c.itemsPerPage;this.autoHeight&&(d=this.items.length),this.virtualItemsCount=Math.min(d,this.items.length);{c.width}this.virtualSize=c,this._updatescrollbars()}a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){if(this.virtualSize){var b=this.virtualSize.height,c=this.virtualSize.width,d=this.vScrollInstance,e=this.hScrollInstance;this._arrange(!1);var f=!1,g=this.host.outerWidth(),h=this.host.outerHeight();if(b>h){var i=0;c>g&&(i=this.hScrollBar.outerHeight()+2);var j=d.max;d.max=2+parseInt(b)+i-parseInt(h-2),"inherit"!=this.vScrollBar[0].style.visibility&&(this.vScrollBar[0].style.visibility="inherit",f=!0),j!=d.max&&d._arrange()}else"hidden"!=this.vScrollBar[0].style.visibility&&(this.vScrollBar[0].style.visibility="hidden",f=!0,d.setPosition(0));var k=0;"hidden"!=this.vScrollBar[0].style.visibility&&(k=this.scrollBarSize+6);var l=this.checkboxes?20:0;if(this.autoItemsHeight)this.hScrollBar[0].style.visibility="hidden";else if(c>=g-k-l){var m=e.max;e.max="inherit"==this.vScrollBar[0].style.visibility?l+k+parseInt(c)-this.host.width()+4:l+parseInt(c)-this.host.width()+6,"inherit"!=this.hScrollBar[0].style.visibility&&(this.hScrollBar[0].style.visibility="inherit",f=!0),m!=e.max&&e._arrange(),"inherit"==this.vScrollBar[0].style.visibility&&(d.max=2+parseInt(b)+this.hScrollBar.outerHeight()+2-parseInt(this.host.height()))}else"hidden"!=this.hScrollBar[0].style.visibility&&(this.hScrollBar[0].style.visibility="hidden",f=!0);e.setPosition(0),f&&this._arrange(),this.itemswrapper&&(this.itemswrapper[0].style.width=Math.max(0,Math.max(g-2,17+c))+"px",this.itemswrapper[0].style.height=Math.max(0,2*h)+"px");var n=this.isTouchDevice();n&&("visible"!=this.vScrollBar.css("visibility")&&"visible"!=this.hScrollBar.css("visibility")?a.jqx.mobile.setTouchScroll(!1,this.element.id):a.jqx.mobile.setTouchScroll(!0,this.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(a){for(var b=0;b<this.selectedIndexes.length;b++)this.selectedIndexes[b]&&-1!=this.selectedIndexes[b]&&this._raiseEvent("1",{index:b,type:"api",item:this.getVisibleItem(b),originalEvent:null}),this.selectedIndexes[b]=-1;this.selectedIndex=-1,0!=a&&this._renderItems()},unselectIndex:function(a,b){if(!isNaN(a)){this.selectedIndexes[a]=-1;for(var c=!1,d=0;d<this.selectedIndexes.length;d++){var a=this.selectedIndexes[d];-1!=a&&void 0!=a&&(c=!0)}c||(this.selectedValue=null,this.selectedIndex=-1),(void 0==b||1==b)&&(this._renderItems(),this._raiseEvent("1",{index:a,type:"api",item:this.getVisibleItem(a),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:a,type:"api",item:this.getItem(a)})}},getItem:function(b){if(-1==b||isNaN(b)||"string"==typeof b)return-1===b?null:this.getItemByValue(b);{var c=null;a.each(this.items,function(){return this.index==b?(c=this,!1):void 0})}return c},getVisibleItem:function(a){return-1==a||isNaN(a)||"string"==typeof a?-1===a?null:this.getItemByValue(a):this.visibleItems[a]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(b,c,d){if(this.checkboxes&&!isNaN(b)&&!(0>b||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0)var e=this.getVisibleItem(b);if(null!=e){{a(e.checkBoxElement)}e.checked=!0,(void 0==c||1==c)&&this._updateCheckedItems()}(void 0==d||1==d)&&this._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e})}},getCheckedItems:function(){if(!this.checkboxes)return null;var b=new Array;if(void 0!=this.items)return a.each(this.items,function(){this.checked&&(b[b.length]=this)}),b},checkAll:function(b){if(this.checkboxes&&!this.disabled){var c=this;a.each(this.items,function(){var a=this;b!==!1&&a.checked!==!0&&c._raiseEvent(3,{label:a.label,value:a.value,checked:!0,item:a}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(b){if(this.checkboxes&&!this.disabled){var c=this;a.each(this.items,function(){var a=this;b!==!1&&a.checked!==!1&&(this.checked=!1,c._raiseEvent(3,{label:a.label,value:a.value,checked:!1,item:a})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(b,c,d){if(this.checkboxes&&!isNaN(b)&&!(0>b||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0)var e=this.getVisibleItem(b);if(null!=e){{a(e.checkBoxElement)}e.checked=!1,(void 0==c||1==c)&&this._updateCheckedItems()}(void 0==d||1==d)&&this._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})}},indeterminateIndex:function(b,c,d){if(this.checkboxes&&!isNaN(b)&&!(0>b||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0)var e=this.getVisibleItem(b);if(null!=e){{a(e.checkBoxElement)}e.checked=null,(void 0==c||1==c)&&this._updateCheckedItems()}(void 0==d||1==d)&&this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var a=this.getVisibleItems(),b=this.selectedIndexes,c=[];for(var d in b)-1!=b[d]&&(c[c.length]=a[d]);return c},getSelectedItem:function(){return this.getItem(this.selectedIndex)},_updateCheckedItems:function(){var b=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=b,this._renderItems();var c=a.data(this.element,"hoveredItem");null!=c&&(a(c).addClass(this.toThemeProperty("jqx-listitem-state-hover")),a(c).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(b){if(null!=this.visibleItems){if(this.itemsByValue)return this.itemsByValue[a.trim(b).split(" ").join("")];for(var c=this.visibleItems,d=0;d<c.length;d++)if(c[d].value==b)return c[d]}},checkItem:function(a){if(null!=a){var b=this._getItemByParam(a);return this.checkIndex(b.index,!0)}return!1},uncheckItem:function(a){if(null!=a){var b=this._getItemByParam(a);return this.uncheckIndex(b.index,!0)}return!1},indeterminateItem:function(a){if(null!=a){var b=this._getItemByParam(a);return this.indeterminateIndex(b.index,!0)}return!1},val:function(a){if(this.input&&0==arguments.length)return this.input.val();var b=this.getItemByValue(a);return null!=b&&this.selectItem(b),this.input?this.input.val():void 0},selectItem:function(a){if(null!=a){if(void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return this.selectIndex(a.visibleIndex,!0)}return!1},unselectItem:function(a){if(null!=a){if(void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return this.unselectIndex(a.visibleIndex,!0)}return!1},selectIndex:function(a,b,c,d,e,f){if(!isNaN(a)&&!(-1>a||a>=this.visibleItems.length||null!=this.visibleItems[a]&&this.visibleItems[a].disabled||this.disabled)){if(!this.multiple&&!this.multipleextended&&this.selectedIndex==a&&!d)return void(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(i=this.getVisibleItem(a),i&&(this.selectedValue=i.value)));
if(this.checkboxes)return void this._updateCheckedItems();this.focused=!0;var g=!1;this.selectedIndex!=a&&(g=!0);var h=this.selectedIndex;this.selectedIndex!=a||this.multiple||(h=-1),void 0==e&&(e="none");var i=this.getItem(a),j=this.getItem(h);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(i=this.getVisibleItem(a),j=this.getVisibleItem(h)),void 0!=d&&d)this._raiseEvent("1",{index:h,type:e,item:j,originalEvent:f}),this.selectedIndex=a,this.selectedIndexes[h]=-1,this.selectedIndexes[a]=a,i&&(this.selectedValue=i.value),this._raiseEvent("0",{index:a,type:e,item:i,originalEvent:f});else{var k=this,l=function(a,b,c,d,e,f){k._raiseEvent("1",{index:b,type:c,item:d,originalEvent:f}),k.selectedIndex=a,k.selectedIndexes[b]=-1,b=a,k.selectedIndexes[a]=a,k._raiseEvent("0",{index:a,type:c,item:e,originalEvent:f})},m=function(a,b,c,d,e,f){void 0==k.selectedIndexes[a]||-1==k.selectedIndexes[a]?(k.selectedIndexes[a]=a,k.selectedIndex=a,k._raiseEvent("0",{index:a,type:c,item:e,originalEvent:f})):(b=k.selectedIndexes[a],d=k.getVisibleItem(b),k.selectedIndexes[a]=-1,k.selectedIndex=-1,k._raiseEvent("1",{index:b,type:c,item:d,originalEvent:f}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==e&&(this.clearSelection(!1),k._clickedIndex=a),m(a,h,e,j,i,f);else if(this._shiftKey){void 0==k._clickedIndex&&(k._clickedIndex=h);var n=Math.min(k._clickedIndex,a),o=Math.max(k._clickedIndex,a);this.clearSelection(!1);for(var p=n;o>=p;p++)k.selectedIndexes[p]=p,k._raiseEvent("0",{index:p,type:e,item:this.getVisibleItem(p),originalEvent:f});k.selectedIndex="keyboard"!=e?k._clickedIndex:a}}else"keyboard"!=e&&"mouse"!=e?(m(a,h,e,j,i,f),k._clickedIndex=a):(this.clearSelection(!1),k._clickedIndex=a,l(a,h,e,j,i,f));else this.multiple?m(a,h,e,j,i,f):(i&&(this.selectedValue=i.value),l(a,h,e,j,i,f))}return(void 0==c||1==c)&&this._renderItems(),void 0!=b&&null!=b&&1==b&&this.ensureVisible(a),this._raiseEvent("2",{index:a,item:i,oldItem:j,type:e}),this._updateInputSelection(),g}},_updateInputSelection:function(){if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&this.input.val(this.items[this.selectedIndex].value),this.multiple||this.multipleextended||this.checkboxes)){var a=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),b="";if(a){for(var c=0;c<a.length;c++)void 0!=a[c]&&(b+=c==a.length-1?a[c].value:a[c].value+",");this.input.val(b)}}},isIndexInView:function(a){if(isNaN(a))return!1;if(!this.items)return!1;if(0>a||a>=this.items.length)return!1;var b=this.vScrollInstance.value,c=this.visibleItems[a];if(void 0==c)return!0;var d=c.initialTop,e=c.height;return 0>d-b||d-b+e>=this.host.outerHeight()?!1:!0},_itemsInPage:function(){var b=0,c=this;return this.items&&a.each(this.items,function(){return this.initialTop+this.height>=c.content.height()?!1:void b++}),b},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(a){for(indx=a+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(a){for(indx=a-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_getMatches:function(b,c){if(void 0==b||0==b.length)return-1;void 0==c&&(c=0);var d=this.getItems(),e=this,f=-1;return a.each(d,function(){var d="";if(!this.isGroup){d=this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var g=!1;switch(e.searchMode){case"containsignorecase":g=a.jqx.string.containsIgnoreCase(d,b);break;case"contains":g=a.jqx.string.contains(d,b);break;case"equals":g=a.jqx.string.equals(d,b);break;case"equalsignorecase":g=a.jqx.string.equalsIgnoreCase(d,b);break;case"startswith":g=a.jqx.string.startsWith(d,b);break;case"startswithignorecase":g=a.jqx.string.startsWithIgnoreCase(d,b);break;case"endswith":g=a.jqx.string.endsWith(d,b);break;case"endswithignorecase":g=a.jqx.string.endsWithIgnoreCase(d,b)}if(g&&this.visibleIndex>=c)return f=this.visibleIndex,!1}}),f},findItems:function(b){var c=this.getItems(),d=this,e=0,f=new Array;return a.each(c,function(){var c="";if(!this.isGroup){c=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var g=!1;switch(d.searchMode){case"containsignorecase":g=a.jqx.string.containsIgnoreCase(c,b);break;case"contains":g=a.jqx.string.contains(c,b);break;case"equals":g=a.jqx.string.equals(c,b);break;case"equalsignorecase":g=a.jqx.string.equalsIgnoreCase(c,b);break;case"startswith":g=a.jqx.string.startsWith(c,b);break;case"startswithignorecase":g=a.jqx.string.startsWithIgnoreCase(c,b);break;case"endswith":g=a.jqx.string.endsWith(c,b);break;case"endswithignorecase":g=a.jqx.string.endsWithIgnoreCase(c,b)}g&&(f[e++]=this)}}),f},_handleKeyDown:function(a){var b=a.keyCode,c=this,d=c.selectedIndex,e=c.selectedIndex;if(this.keyboardNavigation&&this.enableSelection){var f=function(){c.multiple&&c.clearSelection(!1)};if(a.altKey&&(b=-1),c.incrementalSearch){var g=-1;c._searchString||(c._searchString=""),(8==b||46==b)&&c._searchString.length>=1&&(c._searchString=c._searchString.substr(0,c._searchString.length-1));var h=String.fromCharCode(b),i=!isNaN(parseInt(h)),j=!1;if(b>=65&&97>=b||i||8==b||32==b||46==b){a.shiftKey||(h=h.toLocaleLowerCase());var k=1+c.selectedIndex;8!=b&&32!=b&&46!=b&&(c._searchString.length>0&&c._searchString.substr(0,1)==h?k=1+c.selectedIndex:c._searchString+=h),32==b&&(c._searchString+=" ");var l=this._getMatches(c._searchString,k);if(g=l,g==c._lastMatchIndex||-1==g){var l=this._getMatches(c._searchString,0);g=l}if(c._lastMatchIndex=g,g>=0){var m=function(){f(),c.selectIndex(g,!1,!1,!1,"keyboard",a);var b=c.isIndexInView(g);b?c._renderItems():c.ensureVisible(g)};c._toSelectTimer&&clearTimeout(c._toSelectTimer),c._toSelectTimer=setTimeout(function(){m()},c.incrementalSearchKeyDownDelay)}j=!0}if(void 0!=c._searchTimer&&clearTimeout(c._searchTimer),(27==b||13==b)&&(c._searchString=""),c._searchTimer=setTimeout(function(){c._searchString="",c._renderItems()},c.incrementalSearchDelay),g>=0)return;if(j)return!1}if(this.checkboxes)return!0;if(33==b){var n=c._itemsInPage();c.selectedIndex-n>=0?(f(),c.selectIndex(e-n,!1,!1,!1,"keyboard",a)):(f(),c.selectIndex(c._firstItemIndex(),!1,!1,!1,"keyboard",a)),c._searchString=""}if(32==b&&this.checkboxes){var o=this.getItem(d);null!=o&&(c._updateItemCheck(o,d),a.preventDefault()),c._searchString=""}if(36==b&&(f(),c.selectIndex(c._firstItemIndex(),!1,!1,!1,"keyboard",a),c._searchString=""),35==b&&(f(),c.selectIndex(c._lastItemIndex(),!1,!1,!1,"keyboard",a),c._searchString=""),34==b){var n=c._itemsInPage();c.selectedIndex+n<c.visibleItems.length?(f(),c.selectIndex(e+n,!1,!1,!1,"keyboard",a)):(f(),c.selectIndex(c._lastItemIndex(),!1,!1,!1,"keyboard",a)),c._searchString=""}if(38==b){if(c._searchString="",!(c.selectedIndex>0))return!1;var p=c._prevItemIndex(c.selectedIndex);if(p==c.selectedIndex||-1==p)return!0;f(),c.selectIndex(p,!1,!1,!1,"keyboard",a)}else if(40==b){if(c._searchString="",!(c.selectedIndex+1<c.visibleItems.length))return!1;var p=c._nextItemIndex(c.selectedIndex);if(p==c.selectedIndex||-1==p)return!0;f(),c.selectIndex(p,!1,!1,!1,"keyboard",a)}if(35==b||36==b||38==b||40==b||34==b||33==b){var q=c.isIndexInView(c.selectedIndex);return q?c._renderItems():c.ensureVisible(c.selectedIndex),!1}return!0}},_updateItemCheck:function(a,b){switch(a.checked=1==a.checked?a.hasThreeStates&&this.hasThreeStates?null:!1:null!=a.checked,a.checked){case!0:this.checkIndex(b);break;case!1:this.uncheckIndex(b);break;default:this.indeterminateIndex(b)}},wheel:function(a,b){if(b.autoHeight||!b.enableMouseWheel)return a.returnValue=!0,!0;if(b.disabled)return!0;var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d&&(a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation()),d?(d=!1,a.returnValue=d,d):!1}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){var b=this.vScrollInstance.value;0>a?this.scrollDown():this.scrollUp();var c=this.vScrollInstance.value;return b!=c?!0:!1},focus:function(){try{this.focused=!0,this.host.focus();var a=this;setTimeout(function(){a.host.focus()},10)}catch(b){}},_removeHandlers:function(){this.removeHandler(a(document),"keydown.listbox"+this.element.id),this.removeHandler(a(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valuechanged"),this.removeHandler(this.hScrollBar,"valuechanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,a.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var a=this;if(a._arrange(),a.host.height()!=a._oldheight||a.host.width()!=a._oldwidth){{a.host.width()!=a._oldwidth}if(a.autoItemsHeight)a._render(!1);else if(a.items)if(a.items.length>0&&a.virtualItemsCount*a.items[0].height<a._oldheight-2)a._render(!1);else{var b=a.vScrollInstance.value;a._updatescrollbars(),a._renderItems(),a.vScrollInstance.setPosition(b<a.vScrollInstance.max?b:a.vScrollInstance.max)}a._oldwidth=a.host.width(),a._oldheight=a.host.height()}},_addHandlers:function(){var b=this;this.focused=!1;var c=(new Date,this.isTouchDevice());this.addHandler(this.vScrollBar,"valuechanged",function(){a.jqx.browser.msie&&a.jqx.browser.version>9?setTimeout(function(){b._renderItems()},1):b._renderItems()}),this.addHandler(this.hScrollBar,"valuechanged",function(){b._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(a){b.wheel(a,b)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(a(document),"keydown.listbox"+this.element.id,function(a){b._ctrlKey=a.ctrlKey,b._shiftKey=a.shiftKey}),this.addHandler(a(document),"keyup.listbox"+this.element.id,function(a){b._ctrlKey=a.ctrlKey,b._shiftKey=a.shiftKey}),this.addHandler(this.host,"keydown",function(a){return b._handleKeyDown(a)}),this.addHandler(this.content,"mouseleave",function(){b.focused=!1;var c=a.data(b.element,"hoveredItem");null!=c&&(a(c).removeClass(b.toThemeProperty("jqx-listitem-state-hover")),a(c).removeClass(b.toThemeProperty("jqx-fill-state-hover")),a.data(b.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(){b.disabled||(b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.focused=!0)}),this.addHandler(this.content,"blur",function(){b.focused=!1,b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(){b.disabled||(b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.focused=!0)}),this.addHandler(this.host,"blur",function(){a.jqx.browser.msie&&a.jqx.browser.version<9&&b.focused||(b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.focused=!1)}),this.addHandler(this.content,"mouseenter",function(){b.focused=!0});var d=a.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var e=b.isTouchDevice()&&this.touchMode!==!0,f=e?"touchend":"mousedown";this.overlayContent?this.addHandler(this.overlayContent,a.jqx.mobile.getTouchEventName("touchend"),function(c){if(!b.enableSelection)return!0;if(e&&(b._newScroll=new Date,b._newScroll-b._lastScroll<500))return!0;var d=a.jqx.mobile.getTouches(c),f=d[0];if(void 0!=f){var g=b.host.offset(),h=parseInt(f.pageX),i=parseInt(f.pageY);1==b.touchMode&&(h=parseInt(f._pageX),i=parseInt(f._pageY)),h-=g.left,i-=g.top;var j=b._hitTest(h,i);if(null!=j&&!j.isGroup){if(b._newScroll=new Date,b._newScroll-b._lastScroll<500)return!1;if(b.checkboxes)return void b._updateItemCheck(j,j.visibleIndex);if(-1==j.html.indexOf("href"))return b.selectIndex(j.visibleIndex,!1,!0,!1,"mouse",c),b.content.trigger("click"),!1;setTimeout(function(){return b.selectIndex(j.visibleIndex,!1,!0,!1,"mouse",c),b.content.trigger("click"),!1},100)}}}):this.addHandler(this.content,f,function(c){if(!b.enableSelection)return!0;if(e&&(b._newScroll=new Date,b._newScroll-b._lastScroll<500))return!1;if(b.focused=!0,b.isTouchDevice()||b.host.focus(),c.target.id!="listBoxContent"+b.element.id&&b.itemswrapper[0]!=c.target){var g=c.target,h=a(g).offset(),i=b.host.offset();if(d){var j=a.jqx.mobile.getLeftPos(g),k=a.jqx.mobile.getTopPos(g);h.left=j,h.top=k,j=a.jqx.mobile.getLeftPos(b.element),k=a.jqx.mobile.getTopPos(b.element),i.left=j,i.top=k}var l=parseInt(h.top)-parseInt(i.top),m=parseInt(h.left)-parseInt(i.left),n=b._hitTest(m,l);if(null!=n&&!n.isGroup){var o=function(a,c){if(b._shiftKey||(b._clickedIndex=a.visibleIndex),b.checkboxes)if(b.selectedIndex=a.visibleIndex,m=20+c.pageX-h.left,b.rtl){{"hidden"!=b.hScrollBar.css("visibility")?b.hScrollInstance.max:b.host.width()}m<=b.host.width()-20&&b._updateItemCheck(a,a.visibleIndex)}else m+b.hScrollInstance.value>=20&&b._updateItemCheck(a,a.visibleIndex);else b.selectIndex(a.visibleIndex,!1,!0,!1,"mouse",c)};n.disabled||(-1!=n.html.indexOf("href")?setTimeout(function(){o(n,c)},100):o(n,c))}if("mousedown"==f){var p=!1;return c.which?p=3==c.which:c.button&&(p=2==c.button),p?!0:!1}}return!0}),this.addHandler(this.content,"mouseup",function(a){b.vScrollInstance.handlemouseup(b,a)}),a.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(){return!1})}var c=this.isTouchDevice();this.enableHover&&!c&&(this._mousemovefunc=function(e){if(c)return!0;if(!b.enableHover)return!0;1==a.jqx.browser.msie&&a.jqx.browser.version<9?0:1;if(null==e.target)return!0;if(b.disabled)return!0;b.focused=!0;var f=b.vScrollInstance.isScrolling();if(!f&&e.target.id!="listBoxContent"+b.element.id&&b.itemswrapper[0]!=e.target){var g=e.target,h=a(g).offset(),i=b.host.offset();if(d){var j=a.jqx.mobile.getLeftPos(g),k=a.jqx.mobile.getTopPos(g);h.left=j,h.top=k,j=a.jqx.mobile.getLeftPos(b.element),k=a.jqx.mobile.getTopPos(b.element),i.left=j,i.top=k}var l=parseInt(h.top)-parseInt(i.top),m=parseInt(h.left)-parseInt(i.left),n=b._hitTest(m,l);if(null!=n&&!n.isGroup&&!n.disabled){var o=a.data(b.element,"hoveredItem");null!=o&&(a(o).removeClass(b.toThemeProperty("jqx-listitem-state-hover")),a(o).removeClass(b.toThemeProperty("jqx-fill-state-hover"))),a.data(b.element,"hoveredItem",n.element);var p=a(n.element);p.addClass(b.toThemeProperty("jqx-listitem-state-hover")),p.addClass(b.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(a){void 0==a&&(a=!0);var b=null,c=null,d=this,e=function(a){return a=d.host.height(),0==a&&(a=200,d.host.height(a)),a};null!=this.width&&-1!=this.width.toString().indexOf("px")?b=this.width:void 0==this.width||isNaN(this.width)||(b=this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?c=this.height:void 0==this.height||isNaN(this.height)||(c=this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.css("width",this.width),b=this.host.width()),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.css("height",this.height),c=e(c)),null!=b&&(b=parseInt(b),parseInt(this.element.style.width)!=parseInt(this.width)&&this.host.width(this.width)),this.autoHeight?this.virtualSize&&("hidden"!=this.hScrollBar.css("visibility")?(this.host.height(this.virtualSize.height+parseInt(this.scrollBarSize)+3),this.height=this.virtualSize.height+parseInt(this.scrollBarSize)+3,c=this.height):(this.host.height(this.virtualSize.height),this.height=this.virtualSize.height,c=this.virtualSize.height)):null!=c&&(c=parseInt(c),parseInt(this.element.style.height)!=parseInt(this.height)&&(this.host.height(this.height),e(c)));var f=this.scrollBarSize;isNaN(f)&&(f=parseInt(f),isNaN(f)?f="17px":f+="px"),f=parseInt(f);var g=4,h=2,i=0;if(this.vScrollBar&&("hidden"!=this.vScrollBar[0].style.visibility?i=f+g:this.vScrollInstance.setPosition(0),this.hScrollBar)){"hidden"!=this.hScrollBar[0].style.visibility?h=f+g:this.hScrollInstance.setPosition(0),this.autoItemsHeight&&(this.hScrollBar[0].style.visibility="hidden",h=0),null==c&&(c=0);var j=parseInt(c)-g-f;0>j&&(j=0),parseInt(this.hScrollBar[0].style.height)!=f&&(parseInt(f)<0&&(f=0),this.hScrollBar[0].style.height=parseInt(f)+"px"),this.hScrollBar[0].style.top!=j+"px"&&(this.hScrollBar[0].style.top=j+"px",this.hScrollBar[0].style.left="0px");var k=b-f-g;0>k&&(k=0);var l=k+"px";if(this.hScrollBar[0].style.width!=l&&(this.hScrollBar[0].style.width=l),0==i&&b>=2&&(this.hScrollBar[0].style.width=parseInt(b-2)+"px"),f!=parseInt(this.vScrollBar[0].style.width)&&(this.vScrollBar[0].style.width=parseInt(f)+"px"),parseInt(c)-h!=parseInt(this.vScrollBar[0].style.height)){var m=parseInt(c)-h;0>m&&(m=0),this.vScrollBar[0].style.height=m+"px"}null==b&&(b=0);var n=parseInt(b)-parseInt(f)-g+"px";n!=this.vScrollBar[0].style.left&&(parseInt(n)>=0&&(this.vScrollBar[0].style.left=n),this.vScrollBar[0].style.top="0px");var o=this.vScrollInstance;o.disabled=this.disabled,a&&o._arrange();var p=this.hScrollInstance;if(p.disabled=this.disabled,a&&p._arrange(),"hidden"!=this.vScrollBar[0].style.visibility&&"hidden"!=this.hScrollBar[0].style.visibility?(this.bottomRight[0].style.visibility="inherit",this.bottomRight[0].style.left=1+parseInt(this.vScrollBar[0].style.left)+"px",this.bottomRight[0].style.top=1+parseInt(this.hScrollBar[0].style.top)+"px",this.rtl&&this.bottomRight.css({left:0}),this.bottomRight[0].style.width=parseInt(f)+3+"px",this.bottomRight[0].style.height=parseInt(f)+3+"px"):this.bottomRight[0].style.visibility="hidden",parseInt(this.content[0].style.width)!=parseInt(b)-i){var q=parseInt(b)-i;0>q&&(q=0),this.content[0].style.width=q+"px"}if(this.rtl&&(this.vScrollBar.css({left:"0px",top:"0px"}),this.hScrollBar.css({left:this.vScrollBar.width()+2+"px"}),"hidden"!=this.vScrollBar[0].style.visibility?this.content.css("margin-left",4+this.vScrollBar.width()):(this.content.css("margin-left",0),this.hScrollBar.css({left:"0px"}))),parseInt(this.content[0].style.height)!=parseInt(c)-h){var r=parseInt(c)-h;0>r&&(r=0),this.content[0].style.height=r+"px"}this.overlayContent&&(this.overlayContent.width(parseInt(b)-i),this.overlayContent.height(parseInt(c)-h))}},ensureVisible:function(b){if(isNaN(b)){var c=this.getItemByValue(b);c&&(b=c.index)}var d=this.isIndexInView(b);if(!d){if(0>b)return;if(this.autoHeight){var e=a.data(this.vScrollBar[0],"jqxScrollBar").instance;e.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++){var c=this.visibleItems[indx];if(c.visibleIndex==b&&!c.isGroup){var e=a.data(this.vScrollBar[0],"jqxScrollBar").instance,f=e.value,g="hidden"===this.hScrollBar.css("visibility"),h=g?0:this.scrollBarSize+4;c.initialTop<f?e.setPosition(c.initialTop):c.initialTop+c.height>f+this.host.height()&&e.setPosition(c.initialTop+c.height+2-this.host.height()+h);break}}}this._renderItems()},scrollTo:function(a,b){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(b),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(a)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value+a.largestep<=a.max?(a.setPosition(a.value+a.largestep),!0):(a.setPosition(a.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value-a.largestep>=a.min?(a.setPosition(a.value-a.largestep),!0):a.value!=a.min?(a.setPosition(a.min),!0):!1},databind:function(b){this.records=new Array;var c=b._source?!0:!1,d=new a.jqx.dataAdapter(b,{autoBind:!1});c&&(d=b,b=b._source);var e=function(){void 0!=b.type&&(d._options.type=b.type),void 0!=b.formatdata&&(d._options.formatData=b.formatdata),void 0!=b.contenttype&&(d._options.contentType=b.contenttype),void 0!=b.async&&(d._options.async=b.async)},f=function(b,c){var e=function(c){if("string"==typeof c)var d=c,e=c;else var e=c[b.valueMember],d=c[b.displayMember];var f=new a.jqx._jqxListBox.item;return f.label=d,f.value=e,f.html="",f.visible=!0,f.originalItem=c,f.group="",f.groupHtml="",f.disabled=!1,f.hasThreeStates=!0,f};if(void 0!=c){var f=d._changedrecords[0];if(f)return void a.each(d._changedrecords,function(){var a=this.index,d=this.record;if("remove"!=c)var f=e(d);switch(c){case"update":b.updateAt(f,a);break;case"add":b.insertAt(f,a);break;case"remove":b.removeAt(a)}})}b.records=d.records;var g=b.records.length;b.items=new Array,b.itemsByValue=new Array;for(var h=0;g>h;h++){var i=b.records[h],j=e(i);j.index=h,b.items[h]=j;var k=j.value;(""==j.value||null==j.value)&&(k=h),b.itemsByValue[a.trim(k).split(" ").join("")]=j}b._render(),b._raiseEvent("6")};e(this);var g=this;switch(b.datatype){case"local":case"array":default:null!=b.localdata&&(d.unbindBindingUpdate(this.element.id),d.dataBind(),f(this),d.bindBindingUpdate(this.element.id,function(a){f(g,a)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata)return d.unbindBindingUpdate(this.element.id),d.dataBind(),f(this),void d.bindBindingUpdate(this.element.id,function(){f(g)});var h={};d._options.data?a.extend(d._options.data,h):(b.data&&a.extend(h,b.data),d._options.data=h);var i=function(){f(g)};d.unbindDownloadComplete(g.element.id),d.bindDownloadComplete(g.element.id,i),this.remoteAutoComplete||d.dataBind()}},loadItems:function(b){if(null==b)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var c=this,d=0,e=0,f=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var g=new Array;this.itemsByValue=new Array,a.map(b,function(b){if(void 0==b)return null;var h=new a.jqx._jqxListBox.item,i=b.group,j=b.groupHtml,k=b.title;if((null==k||void 0==k)&&(k=""),(null==i||void 0==i)&&(i=""),(null==j||void 0==j)&&(j=""),!c.groups[i]){c.groups[i]={items:new Array,index:-1,caption:i,captionHtml:j},d++;var l=d+"jqxGroup";c.groups[l]=c.groups[i],e++,c.groups.length=e}var m=c.groups[i];return m.index++,m.items[m.index]=h,"string"==typeof b?(h.label=b,h.value=b):null==b.label&&null==b.value&&null==b.html&&null==b.group&&null==b.groupHtml?(h.label=b.toString(),h.value=b.toString()):(h.label=b.label||b.value,h.value=b.value||b.label),"string"!=typeof b&&(""!=c.displayMember&&void 0!=b[c.displayMember]&&(h.label=b[c.displayMember]),""!=c.valueMember&&(h.value=b[c.valueMember])),h.hasThreeStates=void 0!=b.hasThreeStates?b.hasThreeStates:!0,h.originalItem=b,h.title=k,h.html=b.html||"",b.html&&""!=b.html,h.group=i,h.checked=b.checked||!1,h.groupHtml=b.groupHtml||"",h.disabled=b.disabled||!1,h.visible=void 0!=b.visible?b.visible:!0,h.index=f,g[f]=h,f++,h});var h=new Array,i=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var j=0;e>j;j++){var d=j+1,k=d+"jqxGroup",l=this.groups[k];if(void 0==l||null==l)break;if(0==j&&""==l.caption&&""==l.captionHtml&&1>=e){for(var m=0;m<l.items.length;m++){var n=l.items[m].value;(""==l.items[m].value||null==l.items[m].value)&&(n=m),this.itemsByValue[a.trim(n).split(" ").join("")]=l.items[m]}return l.items}var o=new a.jqx._jqxListBox.item;o.isGroup=!0,o.label=l.caption,""==l.caption&&""==l.captionHtml&&(l.caption=this.emptyGroupText,o.label=l.caption),o.html=l.captionHtml,h[i]=o,i++;for(var p=0;p<l.items.length;p++){h[i]=l.items[p];var n=l.items[p].value;(""==l.items[p].value||null==l.items[p].value)&&(n=i),c.itemsByValue[a.trim(n).split(" ").join("")]=l.items[p],i++}}else{var i=0,q=new Array;a.each(g,function(){if(!q[this.group]&&""!=this.group){var b=new a.jqx._jqxListBox.item;b.isGroup=!0,b.label=this.group,h[i]=b,i++,q[this.group]=!0}h[i]=this;var d=this.value;(""==this.value||null==this.value)&&(d=i-1),c.itemsByValue[a.trim(d).split(" ").join("")]=this,i++})}return h},_mapItem:function(b){var c=new a.jqx._jqxListBox.item;return this.displayMember&&(void 0==b.label&&(b.label=b[this.displayMember]),void 0==b.value&&(b.value=b[this.valueMember])),"string"==typeof b?(c.label=b,c.value=b):"number"==typeof b?(c.label=b.toString(),c.value=b.toString()):(c.label=b.label||b.value,c.value=b.value||b.label),void 0==c.label&&void 0==c.value&&void 0==c.html&&(c.label=c.value=b),c.html=b.html||"",c.group=b.group||"",c.title=b.title||"",c.groupHtml=b.groupHtml||"",c.disabled=b.disabled||!1,c.visible=b.visible||!0,c},addItem:function(a){return this.insertAt(a,this.items?this.items.length:0)},_getItemByParam:function(a){if(null!=a&&void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return a},insertItem:function(a,b){var c=this._getItemByParam(a);return this.insertAt(c,b)},updateItem:function(a,b){var c=this._getItemByParam(b);return c&&void 0!=c.index?this.updateAt(a,c.index):!1},updateAt:function(b,c){if(null!=b){var d=this._mapItem(b);this.itemsByValue[a.trim(d.value).split(" ").join("")]=this.items[c],this.items[c].value=d.value,this.items[c].label=d.label,this.items[c].html=d.html,this.items[c].disabled=d.disabled}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(b,c){if(null==b)return!1;if(this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh();var d=this._mapItem(b);d.index=0,this.items[this.items.length]=d,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var e=d.value;return(""==d.value||null==d.value)&&(e=c),this.itemsByValue[a.trim(e).split(" ").join("")]=d,!1}var d=this._mapItem(b);if(-1==c||void 0==c||null==c||c>=this.items.length)d.index=this.items.length,this.items[this.items.length]=d;else{for(var f=new Array,g=0,h=!1,i=0,j=0;j<this.items.length;j++)0==this.items[j].isGroup&&i>=c&&!h&&(f[g++]=d,d.index=c,i++,h=!0),f[g]=this.items[j],this.items[j].isGroup||(f[g].index=i,i++),g++;this.items=f}var e=d.value;(""==d.value||null==d.value)&&(e=c),this.itemsByValue[a.trim(e).split(" ").join("")]=d,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var k=a.data(this.vScrollBar[0],"jqxScrollBar").instance,l=k.value;return k.setPosition(0),this._addItems(this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?!0:!1),this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),k.setPosition(l),this.rendered&&this.rendered(),!0},removeAt:function(b){if(0>b||b>this.items.length-1)return!1;if(void 0==b)return!1;var c=this.items[b].height,d=this.items[b].value;(""==d||null==d)&&(d=b),this.itemsByValue[a.trim(d).split(" ").join("")]=null,this.items.splice(b,1);for(var e=new Array,f=0,g=0,h=0;h<this.items.length;h++)e[f]=this.items[h],this.items[h].isGroup||(e[f].index=g,g++),f++;this.items=e;var i=a.data(this.vScrollBar[0],"jqxScrollBar").instance,i=a.data(this.vScrollBar[0],"jqxScrollBar").instance,j=i.value;if(i.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=c;var k=2*this.virtualSize.itemsPerPage;this.autoHeight&&(k=this.items.length),this.virtualItemsCount=Math.min(k,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),i.setPosition("hidden"!=this.vScrollBar.css("visibility")?j:0),this.itemsByValue=new Array;for(var l=0;l<this.items.length;l++){var d=this.items[l].value;(""==this.items[l].value||null==this.items[l].value)&&(d=l),this.itemsByValue[a.trim(d).split(" ").join("")]=this.items[l]}return this.rendered&&this.rendered(),!0},removeItem:function(a){var b=this._getItemByParam(a);this.removeAt(b.index)},getItems:function(){return this.items},disableItem:function(a){var b=this._getItemByParam(a);this.disableAt(b.index)},enableItem:function(a){var b=this._getItemByParam(a);this.enableAt(b.index)},disableAt:function(a){return this.items?0>a||a>this.items.length-1?!1:(this.items[a].disabled=!0,this._renderItems(),!0):!1},enableAt:function(a){return this.items?0>a||a>this.items.length-1?!1:(this.items[a].disabled=!1,this._renderItems(),!0):!1},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),a.jqx.utilities.resize(this.host,null,!0);var b=a.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),b&&delete b.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(a,b){if(1==this._stopEvents)return!0;void 0==b&&(b={owner:null});var c=this.events[a];args=b,args.owner=this,this._updateInputSelection();var d=new jQuery.Event(c);if(d.owner=this,d.args=args,null!=this.host)var e=this.host.trigger(d);return e}})}(jQuery),function(a){a.jqx._jqxListBox.item=function(){var a={group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1};return a}}(jQuery),function(a){a.jqx.jqxWidget("jqxComboBox","",{}),a.extend(a.jqx._jqxComboBox.prototype,{defineInstance:function(){this.disabled=!1,this.width=200,this.height=25,this.items=new Array,this.selectedIndex=-1,this.selectedItems=new Array,this._selectedItems=new Array,this.source=null,this.scrollBarSize=a.jqx.utilities.scrollBarSize,this.arrowSize=18,this.enableHover=!0,this.enableSelection=!0,this.visualItems=new Array,this.groups=new Array,this.equalItemsWidth=!0,this.itemHeight=-1,this.visibleItems=new Array,this.emptyGroupText="Group",this.emptyString="",void 0==this.openDelay&&(this.openDelay=250),void 0==this.closeDelay&&(this.closeDelay=300),this.animationType="default",this.dropDownWidth="auto",this.dropDownHeight="200px",this.autoDropDownHeight=!1,this.enableBrowserBoundsDetection=!1,this.dropDownHorizontalAlignment="left",this.searchMode="startswithignorecase",this.autoComplete=!1,this.remoteAutoComplete=!1,this.remoteAutoCompleteDelay=500,this.selectionMode="default",this.minLength=2,this.displayMember="",this.valueMember="",this.keyboardSelection=!0,this.renderer=null,this.autoOpen=!1,this.checkboxes=!1,this.promptText="",this.placeHolder="",this.rtl=!1,this.listBox=null,this.renderSelectedItem=null,this.search=null,this.popupZIndex=1e5,this.searchString=null,this.multiSelect=!1,this.showArrow=!0,this._disabledItems=new Array,this.touchMode="auto",this.aria={"aria-disabled":{name:"disabled",type:"boolean"}},this.events=["open","close","select","unselect","change","checkChange","bindingComplete"]
},createInstance:function(){if(this.host.attr("role","combobox"),a.jqx.aria(this,"aria-autocomplete","both"),null==a.jqx._jqxListBox||void 0==a.jqx._jqxListBox)throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.");a.jqx.aria(this),""!=this.promptText&&(this.placeHolder=this.promptText),this.render()},render:function(){this.removeHandlers(),this.isanimating=!1,this.id=a.jqx.utilities.createId(),this.element.innerHTML="";var b=a("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");if(this.comboStructure=b,null==a.jqx._jqxListBox||void 0==a.jqx._jqxListBox)throw"jqxComboBox: Missing reference to jqxlistbox.js.";this.touch=a.jqx.mobile.isTouchDevice(),this.touchMode===!0&&(this.touch=!0),this.host.append(b),this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper"),this.dropdownlistArrow=this.host.find("#dropdownlistArrow"),this.dropdownlistContent=this.host.find("#dropdownlistContent"),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-widget-content")),this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id,this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id,this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id,this.dropdownlistContent.append(a('<input autocomplete="off" style="margin: 0; padding: 0; border: 0;" type="textarea"/>')),this.input=this.dropdownlistContent.find("input"),this.input.addClass(this.toThemeProperty("jqx-combobox-input")),this.input.addClass(this.toThemeProperty("jqx-widget-content")),this._addInput(),this.rtl&&(this.input.css({direction:"rtl"}),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-rtl")));try{var c="listBox"+this.id,d=a(a.find("#"+c));d.length>0&&d.remove(),a.jqx.aria(this,"aria-owns",c),a.jqx.aria(this,"aria-haspopup",!0),a.jqx.aria(this,"aria-multiline",!1),this.listBoxContainer&&this.listBoxContainer.jqxListBox("destroy"),this.container&&this.container.remove();var e=a("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+this.id+"'><div id='innerListBox"+this.id+"'></div></div>");e.hide(),e.appendTo(document.body),this.container=e,this.listBoxContainer=a(a.find("#innerListBox"+this.id));var f=this.width;"auto"!=this.dropDownWidth&&(f=this.dropDownWidth),null==this.dropDownHeight&&(this.dropDownHeight=200);var g=this;this.container.width(parseInt(f)+25),this.container.height(parseInt(this.dropDownHeight)+25),this.addHandler(this.listBoxContainer,"bindingComplete",function(){g._raiseEvent("6")});var h=!0;this.listBoxContainer.jqxListBox({_checkForHiddenParent:!1,checkboxes:this.checkboxes,emptyString:this.emptyString,renderer:this.renderer,rtl:this.rtl,itemHeight:this.itemHeight,selectedIndex:this.selectedIndex,incrementalSearch:!1,width:f,scrollBarSize:this.scrollBarSize,autoHeight:this.autoDropDownHeight,height:this.dropDownHeight,displayMember:this.displayMember,valueMember:this.valueMember,source:this.source,theme:this.theme,remoteAutoComplete:this.remoteAutoComplete,rendered:function(){if(g.listBox=a.data(g.listBoxContainer[0],"jqxListBox").instance,g.remoteAutoComplete)if(g.autoDropDownHeight?(g.container.height(g.listBox.virtualSize.height+25),g.listBoxContainer.height(g.listBox.virtualSize.height),g.listBox._arrange()):(g.listBox._arrange(),g.listBox.ensureVisible(0),g.listBox._renderItems(),g.container.height(g.listBoxContainer.height()+25)),void 0!=g.searchString&&g.searchString.length>=g.minLength){var b=g.listBoxContainer.jqxListBox("items");b&&b.length>0?g.isOpened()||g.open():g.close()}else g.close();else g.renderSelection("mouse"),g.multiSelect&&g.doMultiSelect(!1);g.rendered&&g.rendered()}}),this.listBoxContainer.css({position:"absolute",zIndex:this.popupZIndex,top:0,left:0}),this.listBoxContainer.css("border-top-width","1px"),this.listBoxContainer.addClass(this.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&this.listBoxContainer.addClass(this.toThemeProperty("jqx-noshadow")),this.listBox=a.data(this.listBoxContainer[0],"jqxListBox").instance,this.listBox.enableSelection=this.enableSelection,this.listBox.enableHover=this.enableHover,this.listBox.equalItemsWidth=this.equalItemsWidth,this.listBox._arrange(),this.addHandler(this.listBoxContainer,"unselect",function(a){g.multiSelect||g._raiseEvent("3",{index:a.args.index,type:a.args.type,item:a.args.item})}),this.addHandler(this.listBoxContainer,"change",function(a){g.multiSelect||g._raiseEvent("4",{index:a.args.index,type:a.args.type,item:a.args.item})}),"none"==this.animationType?this.container.css("display","none"):this.container.hide(),h=!1}catch(i){throw i}var j=this;j.input.attr("disabled",j.disabled);var k=a.jqx.browser.msie&&a.jqx.browser.version<8;if(k||j.input.attr("placeholder",j.placeHolder),this.propertyChangeMap.disabled=function(b,c,d,e){e?(b.host.addClass(j.toThemeProperty("jqx-combobox-state-disabled")),b.host.addClass(j.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.addClass(j.toThemeProperty("jqx-combobox-content-disabled"))):(b.host.removeClass(j.toThemeProperty("jqx-combobox-state-disabled")),b.host.removeClass(j.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.removeClass(j.toThemeProperty("jqx-combobox-content-disabled"))),b.input.attr("disabled",b.disabled),a.jqx.aria(b,"aria-disabled",b.disabled),b.input.attr("disabled",b.disabled)},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-combobox-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-disabled"))),this.host.addClass(this.toThemeProperty("jqx-combobox-state-normal")),this.host.addClass(this.toThemeProperty("jqx-combobox")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.dropdownlistArrowIcon=a("<div></div>"),this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon")),this.dropdownlistArrow.append(this.dropdownlistArrowIcon),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-normal")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.dropdownlistArrow.addClass(this.rtl?this.toThemeProperty("jqx-rc-l"):this.toThemeProperty("jqx-rc-r")),this._setSize(),this._updateHandlers(),this.addHandler(this.input,"keyup.textchange",function(a){g._search(a);g.cinput&&g.input&&(g.cinput[0].value=g.input[0].value)}),a.jqx.browser.msie&&a.jqx.browser.version<8&&this.host.parents(".jqx-window").length>0){var l=this.host.parents(".jqx-window").css("z-index");e.css("z-index",l+10),this.listBoxContainer.css("z-index",l+10)}this.checkboxes?(this.input.attr("readonly",!0),a.jqx.aria(this,"aria-readonly",!0)):a.jqx.aria(this,"aria-readonly",!1),this.remoteAutoComplete||(this.searchString="")},_addInput:function(){var b=this.host.attr("name");b||(b=this.element.id),this.cinput=a("<input type='hidden'/>"),this.host.append(this.cinput),this.cinput.attr("name",b)},_updateInputSelection:function(){if(this.cinput){if(-1==this.selectedIndex)this.cinput.val("");else{var a=this.getSelectedItem();this.cinput.val(null!=a?a.value:this.dropdownlistContent.text())}if(this.checkboxes||this.multiSelect){if(this.multiSelect)var b=this.getSelectedItems();else var b=this.getCheckedItems();var c="";if(null!=b)for(var d=0;d<b.length;d++)c+=d==b.length-1?b[d].value:b[d].value+",";this.cinput.val(c)}}},_search:function(b){if(9!=b.keyCode&&"none"!=this.searchMode&&null!=this.searchMode&&"undefined"!=this.searchMode){if(16==b.keyCode||17==b.keyCode||20==b.keyCode)return!1;if(this.checkboxes)return!1;if(this.multiSelect){var c=a("<span style='visibility: hidden; white-space: nowrap;'>"+this.input.val()+"</span>");c.addClass(this.toThemeProperty("jqx-widget")),a(document.body).append(c);var d=c.width()+15;c.remove(),d>this.host.width()&&(d=this.host.width()),25>d&&(d=25),this.input.css("width",d+"px"),0==this.selectedItems.length?(this.input.css("width","100%"),this.input.attr("placeholder",this.placeHolder)):this.input.attr("placeholder","");var e=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px",f=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone(),g=a.jqx.utilities.hasTransform(this.host);(g||null!=f&&f)&&(e=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(e=parseInt(e)-this._getBodyOffset().top+"px")),this.container.css("top",e);var h=parseInt(this.host.height());this.dropdownlistArrow.height(h)}if(!this.isanimating){if(b.altKey&&38==b.keyCode)return this.hideListBox("altKey"),!1;if(b.altKey&&40==b.keyCode)return this.isOpened()||this.showListBox("altKey"),!1}if(37==b.keyCode||39==b.keyCode)return!1;if(!b.altKey&&18!=b.keyCode&&!(b.keyCode>=33&&b.keyCode<=40||b.ctrlKey||this.ctrlKey)){var i=this.input.val();if(0==i.length&&!this.autoComplete)return this.listBox.searchString=this.input.val(),this.listBox.clearSelection(),this.hideListBox("search"),void(this.searchString=this.input.val());if(this.remoteAutoComplete){var j=this,k=function(){j.listBox.vScrollInstance.value=0};if(i.length>=j.minLength){if(!b.ctrlKey&&!b.altKey){if(j.searchString!=i){var l=j.listBoxContainer.jqxListBox("source");null==l&&j.listBoxContainer.jqxListBox({source:j.source}),this._searchTimer&&clearTimeout(this._searchTimer),13!=b.keyCode&&27!=b.keyCode&&(this._searchTimer=setTimeout(function(){if(k(),j.autoDropDownHeight&&(j.listBox.autoHeight=!0),j.searchString=j.input.val(),null==j.search)throw"'search' function is not defined";j.search(j.input.val())},this.remoteAutoCompleteDelay))}j.searchString=i}}else this._searchTimer&&clearTimeout(this._searchTimer),k(),j.searchString="",j.listBoxContainer.jqxListBox({source:null})}else{var j=this;if(i!==j.searchString){if("27"!=b.keyCode&&"13"!=b.keyCode){var m=this._updateItemsVisibility(i),n=m.matchItems,o=m.index;if(!this.autoComplete&&!this.removeAutoComplete&&(!this.multiSelect||this.multiSelect&&o>=0)){this.listBox.selectIndex(o);var p=this.listBox.isIndexInView(o);p?this.listBox._renderItems():this.listBox.ensureVisible(o)}this.autoComplete&&0===n.length&&this.hideListBox("search")}if("13"==b.keyCode){var q="block"==this.container.css("display");if(q&&!this.isanimating)return this.hideListBox("keyboard"),void(this._oldvalue=this.listBox.selectedValue)}else if("27"==b.keyCode){var q="block"==this.container.css("display");if(q&&!this.isanimating){if(s.multiSelect)s.input.val(""),s.listBox.selectedValue=null;else{var r=this.listBox.getVisibleItem(this._oldvalue);if(r){var s=this;setTimeout(function(){s.autoComplete&&s._updateItemsVisibility(""),s.listBox.selectIndex(r.index),s.renderSelection("api")},s.closeDelay)}else this.clearSelection()}return this.hideListBox("keyboard"),this.renderSelection("api"),b.preventDefault(),!1}}else{this.isOpened()||this.opening||b.ctrlKey||this.listBox.visibleItems&&this.listBox.visibleItems.length>0&&this.input.val()!=this.searchString&&void 0!=this.searchString&&-1!=o&&this.showListBox("search"),this.searchString=this.input.val(),""==this.searchString&&(o=-1);var r=this.listBox.getVisibleItem(o);void 0!=r&&this._updateInputSelection()}}}}}},val:function(a){if(!this.input)return"";if("object"==typeof a||0==arguments.length){var b=this.getSelectedItem();return b?b.value:this.input.val()}var b=this.getItemByValue(a);return null!=b?this.selectItem(b):this.input.val(a),this.input.val()},focus:function(){var a=this,b=function(){a.input.focus();var b=a.input.val();a._setSelection(0,b.length)};b(),setTimeout(function(){b()},10)},_setSelection:function(a,b){try{if("selectionStart"in this.input[0])this.input[0].focus(),this.input[0].setSelectionRange(a,b);else{var c=this.input[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}}catch(d){}},setContent:function(a){this.input.val(a)},_updateItemsVisibility:function(b){var c=this.getItems();if(void 0==c)return{index:-1,matchItem:new Array};var d=this,e=-1,f=new Array,g=0;a.each(c,function(){var c="";if(!this.isGroup){c=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var h=!1;switch(d.searchMode){case"containsignorecase":h=a.jqx.string.containsIgnoreCase(c,b);break;case"contains":h=a.jqx.string.contains(c,b);break;case"equals":h=a.jqx.string.equals(c,b);break;case"equalsignorecase":h=a.jqx.string.equalsIgnoreCase(c,b);break;case"startswith":h=a.jqx.string.startsWith(c,b);break;case"startswithignorecase":h=a.jqx.string.startsWithIgnoreCase(c,b);break;case"endswith":h=a.jqx.string.endsWith(c,b);break;case"endswithignorecase":h=a.jqx.string.endsWithIgnoreCase(c,b)}if(d.autoComplete&&!h&&(this.visible=!1),h&&d.autoComplete&&(f[g++]=this,this.visible=!0,e=this.visibleIndex),""==b&&d.autoComplete&&(this.visible=!0,h=!1),d.multiSelect&&(this.disabled=!1,(d.selectedItems.indexOf(this.value)>=0||d._disabledItems.indexOf(this.value)>=0)&&(this.disabled=!0,h=!1)),d.multiSelect){if(h&&!d.autoComplete)return-1===e&&(e=this.visibleIndex),!0}else if(h&&!d.autoComplete)return e=this.visibleIndex,!1}}),this.listBox.searchString=b;var h=this,i=function(){if(h.multiSelect){for(var a=0,b=!1,c=null,d=0;d<h.listBox.items.length;d++)h.listBox.selectedIndexes[d]=-1,h.listBox.items[d].disabled||0==b&&(c=h.listBox.items[d],a=c.visibleIndex,b=!0);h.listBox.selectedIndex=-1,h.listBox.selectedIndex=a,h.listBox.selectedIndexes[a]=a,h.listBox.selectedValue=h.listBox.visibleItems.length>0&&c?c.value:null,h.listBox.ensureVisible(0)}};if(!this.autoComplete)return i(),{index:e,matchItems:f};this.listBox.renderedVisibleItems=new Array;var j=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0,this.listBox.visibleItems=new Array,this.listBox._renderItems();var k=this.listBox.selectedValue,l=this.listBox.getItemByValue(k);if(this.multiSelect)i();else if(l)if(l.visible){this.listBox.selectedIndex=l.visibleIndex;for(var m=0;m<this.listBox.items.length;m++)this.listBox.selectedIndexes[m]=-1;this.listBox.selectedIndexes[l.visibleIndex]=l.visibleIndex}else{for(var m=0;m<this.listBox.items.length;m++)this.listBox.selectedIndexes[m]=-1;this.listBox.selectedIndex=-1}this.listBox._renderItems();var n=this.listBox._calculateVirtualSize().height;if(j>n&&(j=0,this.listBox.vScrollInstance.refresh()),this.autoDropDownHeight)this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.height(n+25),this.listBox.invalidate(),this._disableSelection=!1;else if(n<parseInt(this.dropDownHeight)){var o="hidden"==this.listBox.hScrollBar[0].style.visibility?0:20;this.listBox.height=o+n,this.container.height(n+25+o),this.listBox.invalidate()}else this.listBox.height=parseInt(this.dropDownHeight),this.container.height(parseInt(this.dropDownHeight)+25),this.listBox.invalidate();return this.listBox.vScrollInstance.setPosition(j),{index:e,matchItems:f}},findItems:function(b){var c=this.getItems(),d=this,e=0,f=new Array;return a.each(c,function(){var c="";if(!this.isGroup){c=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var g=!1;switch(d.searchMode){case"containsignorecase":g=a.jqx.string.containsIgnoreCase(c,b);break;case"contains":g=a.jqx.string.contains(c,b);break;case"equals":g=a.jqx.string.equals(c,b);break;case"equalsignorecase":g=a.jqx.string.equalsIgnoreCase(c,b);break;case"startswith":g=a.jqx.string.startsWith(c,b);break;case"startswithignorecase":g=a.jqx.string.startsWithIgnoreCase(c,b);break;case"endswith":g=a.jqx.string.endsWith(c,b);break;case"endswithignorecase":g=a.jqx.string.endsWithIgnoreCase(c,b)}g&&(f[e++]=this)}}),f},_resetautocomplete:function(){a.each(this.listBox.items,function(){this.visible=!0}),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){var a=this.listBox.items;return a},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var b=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(b=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=!0,this.host.height(this.height)),b){var c=this,d=this.host.width();"auto"!=this.dropDownWidth&&(d=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:d}),this.container.width(parseInt(d)+25),this._arrange()}var c=this,e=function(){c.multiSelect&&c.host.height(c.height),c._arrange(),c.multiSelect&&c.host.height("auto")};a.jqx.utilities.resize(this.host,function(){e(),c.hideListBox("api")})},isOpened:function(){var b=this,c=a.data(document.body,"openedComboJQXListBox"+this.element.id);return"block"!=this.container.css("display")?!1:null!=c&&c==b.listBoxContainer?!0:!1},_updateHandlers:function(){var b=this,c=!1;this.removeHandlers(),this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",function(a){return a.target.href?!1:(b.input.focus(),void setTimeout(function(){b.input.focus()},10))}),this.addHandler(this.dropdownlistContent,"focus",function(a){return a.target.href?!1:(b.input.focus(),void setTimeout(function(){b.input.focus()},10))})),this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(){var a=b.isOpened();a&&b.close()}),this.addHandler(this.host,"mouseenter",function(){!b.disabled&&b.enableHover&&(c=!0,b.host.addClass(b.toThemeProperty("jqx-combobox-state-hover")),b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-combobox-arrow-hover")),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!b.disabled&&b.enableHover&&(b.host.removeClass(b.toThemeProperty("jqx-combobox-state-hover")),b.dropdownlistArrowIcon.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),b.dropdownlistArrow.removeClass(b.toThemeProperty("jqx-combobox-arrow-hover")),b.dropdownlistArrow.removeClass(b.toThemeProperty("jqx-fill-state-hover")),c=!1)})),b.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var a=b.isOpened();!a&&b.autoOpen&&(b.open(),b.host.focus())}),this.addHandler(a(document),"mousemove."+b.id,function(a){var c=b.isOpened();if(c&&b.autoOpen){var d=b.host.coord(),e=d.top,f=d.left,g=b.container.coord(),h=g.left,i=g.top;canClose=!0,a.pageY>=e&&a.pageY<=e+b.host.height()+2&&a.pageX>=f&&a.pageX<f+b.host.width()&&(canClose=!1),a.pageY>=i&&a.pageY<=i+b.container.height()-20&&a.pageX>=h&&a.pageX<h+b.container.width()&&(canClose=!1),canClose&&b.close()}}));var d="mousedown";this.touch&&(d=a.jqx.mobile.getTouchEventName("touchstart"));var e=function(){if(!b.disabled){var c="block"==b.container.css("display");if(!b.isanimating){if(c)return b.hideListBox("api"),a.jqx.mobile.isTouchDevice()||(b.input.focus(),setTimeout(function(){b.input.focus()},10)),!0;if(b.autoDropDownHeight){b.container.height(b.listBoxContainer.height()+25);var d=b.listBoxContainer.jqxListBox("autoHeight");d||(b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight}),b.listBox._arrange(),b.listBox.ensureVisible(0),b.listBox._renderItems(),b.container.height(b.listBoxContainer.height()+25))}if(b.showListBox("api"),a.jqx.mobile.isTouchDevice())return!0;setTimeout(function(){b.input.focus()},10)}}};this.addHandler(this.dropdownlistArrow,d,function(a){e(a)}),this.addHandler(this.dropdownlistArrowIcon,d,function(){}),this.addHandler(this.host,"focus",function(){b.focus()}),this.addHandler(this.input,"focus",function(a){return b.focused=!0,b.host.addClass(b.toThemeProperty("jqx-combobox-state-focus")),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content-focus")),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),!1}),this.addHandler(this.input,"blur",function(){b.focused=!1,b.isOpened()||b.opening||("dropDownList"==b.selectionMode&&b._selectOldValue(),b.host.removeClass(b.toThemeProperty("jqx-combobox-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.dropdownlistContent.removeClass(b.toThemeProperty("jqx-combobox-content-focus"))),b._searchTimer&&clearTimeout(b._searchTimer)}),this.addHandler(a(document),"mousedown."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(a){var c="block"==b.container.css("display");if(b.ctrlKey=a.ctrlKey,"none"==b.host.css("display"))return!0;if(("13"==a.keyCode||"9"==a.keyCode)&&c&&!b.isanimating){if(-1!=b.listBox.selectedIndex){b.renderSelection("mouse");var d=b.listBox.selectedIndex,e=b.listBox.getVisibleItem(d);e&&(b.listBox.selectedValue=e.value),b._setSelection(b.input.val().length,b.input.val().length),b.hideListBox("keyboard")}return"13"==a.keyCode&&(b._oldvalue=b.listBox.selectedValue),b.keyboardSelection||b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)}),"9"==a.keyCode?!0:!1}if(115==a.keyCode)return b.isanimating||(b.isOpened()?b.isOpened()&&b.hideListBox("keyboard"):b.showListBox("keyboard")),!1;if(a.altKey&&"block"==b.host.css("display")&&(b.isanimating||(38==a.keyCode?b.isOpened()&&b.hideListBox("altKey"):40==a.keyCode&&(b.isOpened()||b.showListBox("altKey")))),("27"==a.keyCode||"9"==a.keyCode)&&b.isOpened()&&!b.isanimating){if("27"==a.keyCode)if(b.multiSelect)b.listBox.selectedValue=null,b.input.val("");else{var e=b.listBox.getItemByValue(b._oldvalue);e?setTimeout(function(){b.autoComplete&&b._updateItemsVisibility(""),b.listBox.selectIndex(e.index),b.renderSelection("api")},b.closeDelay):b.clearSelection()}return b.hideListBox("keyboard"),"9"==a.keyCode?!0:(b.renderSelection("api"),a.preventDefault(),!1)}var f=a.keyCode;if(c&&!b.disabled&&8!=f)return b.listBox._handleKeyDown(a);if(!b.disabled&&!c){var f=a.keyCode;if(33==f||34==f||35==f||36==f||38==f||40==f)return b.listBox._handleKeyDown(a)}if(8===f&&b.multiSelect&&0===b.input.val().length){var g=b.selectedItems[b.selectedItems.length-1];return b.selectedItems.pop(),b._selectedItems.pop(),g&&(b._raiseEvent("3",{index:g.index,type:"keyboard",item:g}),b._raiseEvent("4",{index:g.index,type:"keyboard",item:g})),b.listBox.selectedValue=null,b.doMultiSelect(),!1}}),this.addHandler(this.listBoxContainer,"checkChange",function(a){b.renderSelection("mouse"),b._updateInputSelection(),b._raiseEvent(5,{label:a.args.label,value:a.args.value,checked:a.args.checked,item:a.args.item})}),this.addHandler(this.listBoxContainer,"select",function(a){if(!b.disabled&&("keyboard"!=a.args.type||b.keyboardSelection)&&(b.renderSelection(a.args.type),b.multiSelect||b._raiseEvent("2",{index:a.args.index,type:a.args.type,item:a.args.item}),"mouse"==a.args.type&&(b._oldvalue=b.listBox.selectedValue,!b.checkboxes))){if(b.hideListBox("mouse"),b.touch)return!1;b.input.focus()}}),null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",function(a){if(!b.disabled){if(b.listBox.itemswrapper&&a.target===b.listBox.itemswrapper[0])return!0;if(a.target&&a.target.className&&a.target.className.indexOf("jqx-fill-state-disabled")>=0)return!0;b.renderSelection("mouse"),b._oldvalue=b.listBox.selectedValue,b.touch||b.ishiding||b.checkboxes||(b.hideListBox("mouse"),b.input.focus()),b.touch===!0&&(b.checkboxes||b.hideListBox("mouse"))}})},_selectOldValue:function(){var a=this;if(-1==a.listBox.selectedIndex)if(a.multiSelect)a.listBox.selectedValue=null,a.input.val("");else{var b=a.listBox.getItemByValue(a._oldvalue);b?setTimeout(function(){a.autoComplete&&a._updateItemsVisibility(""),a.listBox.selectIndex(b.index),a.renderSelection("api")},a.closeDelay):(a.clearSelection(),a.listBox.selectIndex(0),a.renderSelection("api"))}else a.renderSelection("api")},removeHandlers:function(){var b=this;if(null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus")),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(a(document),"mousemove."+b.id),this.listBoxContainer&&(this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.listBoxContainer,"select")),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id),this.dropdownlistArrowIcon&&this.dropdownlistArrow){var c="mousedown";this.touch&&(c=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistArrowIcon,c),this.removeHandler(this.dropdownlistArrow,c)}},getItem:function(a){var b=this.listBox.getItem(a);return b},getItemByValue:function(a){var b=this.listBox.getItemByValue(a);return b},getVisibleItem:function(a){var b=this.listBox.getVisibleItem(a);return b},renderSelection:function(b){if(void 0!=b&&"none"!=b&&this._disableSelection!==!0&&null!=this.listBox&&!this.multiSelect){var c=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes&&void 0!==this.listBox.selectedValue)var c=this.getItemByValue(this.listBox.selectedValue);if(this.checkboxes){var d=this.getCheckedItems();c=null!=d&&d.length>0?d[0]:null}if(null==c){var e=a.jqx.browser.msie&&a.jqx.browser.version<8;return this.input.val(""),e||this.input.attr("placeholder",this.placeHolder),void this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;var f=a("<span></span>");void 0!=c.label&&null!=c.label&&c.label.toString().length>0?a.jqx.utilities.html(f,c.label):void 0!=c.value&&null!=c.value&&c.value.toString().length>0?a.jqx.utilities.html(f,c.value):void 0!=c.title&&null!=c.title&&c.title.toString().length>0?a.jqx.utilities.html(f,c.title):a.jqx.utilities.html(f,this.emptyString);{f.outerHeight()}if(this.checkboxes){for(var g=this.getCheckedItems(),h="",i=0;i<g.length;i++)h+=i==g.length-1?g[i].label:g[i].label+", ";this.input.val(h)}else this.input.val(f.text());if(f.remove(),this.renderSelectedItem){var j=this.renderSelectedItem(this.listBox.selectedIndex,c);void 0!=j&&this.input.val(j)}this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&a.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val(""),this.multiSelect&&(this.listBox.selectedValue="",this.selectedItems=new Array,this._selectedItems=new Array,this.doMultiSelect(!1))},unselectIndex:function(a,b){if(!isNaN(a)&&(this.autoComplete&&this._updateItemsVisibility(""),this.listBox.unselectIndex(a,b),this.renderSelection("mouse"),this.multiSelect)){if(a>=0){var c=this.getItem(a),d=this.selectedItems.indexOf(c.value);d>=0&&(c.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(d,1),this._selectedItems.splice(d,1))}this.doMultiSelect(!1)}},selectIndex:function(a,b,c,d){this.autoComplete&&this._updateItemsVisibility(""),this.listBox.selectIndex(a,b,c,d),this.renderSelection("mouse"),this.selectedIndex=a,this.multiSelect&&this.doMultiSelect()},selectItem:function(a){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.selectedIndex=-1,this.listBox.selectItem(a),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(a){if(this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.unselectItem(a),this.renderSelection("mouse"),this.multiSelect)){var b=this.getItemByValue(a);if(b){var c=this.selectedItems.indexOf(b.value);c>=0&&(b.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(c,1),this._selectedItems.splice(c,1))}this.doMultiSelect(!1)}},checkItem:function(a){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.checkItem(a)},uncheckItem:function(a){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.uncheckItem(a)},indeterminateItem:function(a){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.indeterminateItem(a)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.listBox.selectedIndex},getSelectedItem:function(){return this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){var b=new Array,c=this;return a.each(this.selectedItems,function(){var a=c.getItemByValue(this);if(a)b.push(a);else{var a=c._selectedItems[this];a&&b.push(a)}}),b},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll()},uncheckAll:function(){this.listBox.uncheckAll()},insertAt:function(a,b){return null==a?!1:this.listBox.insertAt(a,b)},addItem:function(a){return this.listBox.addItem(a)},removeAt:function(a){var b=this.listBox.removeAt(a);return this.renderSelection("mouse"),b},removeItem:function(a){var b=this.listBox.removeItem(a);return this.renderSelection("mouse"),b},updateItem:function(a,b){var c=this.listBox.updateItem(a,b);return this.renderSelection("mouse"),c},updateAt:function(a,b){var c=this.listBox.updateAt(a,b);return this.renderSelection("mouse"),c},ensureVisible:function(a){return this.listBox.ensureVisible(a)},disableAt:function(a){var b=this.getVisibleItem(a);return b&&this._disabledItems.push(b.value),this.listBox.disableAt(a)},enableAt:function(a){var b=this.getVisibleItem(a);return b&&this._disabledItems.splice(this._disabledItems.indexOf(b.value),1),this.listBox.enableAt(a)},disableItem:function(a){var a=this.getVisibleItem(a);return a&&this._disabledItems.push(a.value),this.listBox.disableItem(a)},enableItem:function(a){var a=this.getVisibleItem(a);return a&&this._disabledItems.splice(this._disabledItems.indexOf(a.value),1),this.listBox.enableItem(a)},_findPos:function(b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;
if(b){var c=a(b).coord(!0);return[c.left,c.top]}},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.coord().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.coord().left)+"px"),c.top-=Math.min(c.top,c.top+f>h&&h>f?Math.abs(f+d+23):0),c},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},showListBox:function(b){if(!this.listBox.items||0!=this.listBox.items.length){if((this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&("search"!=b&&this._updateItemsVisibility(""),this.multiSelect))for(var c=this.getVisibleItems(),d=0;d<c.length;d++)if(!c[d].disabled){this.ensureVisible(d);break}if(this.remoteAutoComplete&&this.listBox.clearSelection(),"search"!=b&&(this._oldvalue=this.listBox.selectedValue),a.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.width()){var e=this.host.width();this.listBoxContainer.jqxListBox({width:e}),this.container.width(parseInt(e)+25)}var f,g=this,h=this.listBoxContainer,i=this.listBox,j=(a(window).scrollTop(),a(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),k=parseInt(Math.round(this.host.coord(!0).left));f=k+"px";var l=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();this.ishiding=!1;var m=a.jqx.utilities.hasTransform(this.host);(m||null!=l&&l)&&(f=a.jqx.mobile.getLeftPos(this.element),j=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(j=parseInt(j)-this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(f=parseInt(f)-this._getBodyOffset().left+"px")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",f),this.container.css("top",j),i._arrange();var n=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var o=this.container.outerWidth(),p=Math.abs(o-this.host.width());o>this.host.width()?this.container.css("left",25+parseInt(Math.round(k))-p+"px"):this.container.css("left",25+parseInt(Math.round(k))+p+"px")}if(this.enableBrowserBoundsDetection){var q=this.testOffset(h,{left:parseInt(this.container.css("left")),top:parseInt(j)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=q.top?(n=!0,h.css("top",23),h.addClass(this.toThemeProperty("jqx-popup-up"))):h.css("top",0),this.container.css("top",q.top),this.container.css("top",q.top),parseInt(this.container.css("left"))!=q.left&&this.container.css("left",q.left)}if("none"==this.animationType)this.container.css("display","block"),a.data(document.body,"openedComboJQXListBoxParent",g),a.data(document.body,"openedComboJQXListBox"+g.element.id,h),h.css("margin-top",0),h.css("opacity",1);else{this.container.css("display","block");var r=h.outerHeight();h.stop(),"fade"==this.animationType?(h.css("margin-top",0),h.css("opacity",0),h.animate({opacity:1},this.openDelay,function(){g.isanimating=!1,g.opening=!1,a.data(document.body,"openedComboJQXListBoxParent",g),a.data(document.body,"openedComboJQXListBox"+g.element.id,h)})):(h.css("opacity",1),n?h.css("margin-top",r):h.css("margin-top",-r),this.isanimating=!0,this.opening=!0,h.animate({"margin-top":0},this.openDelay,function(){g.isanimating=!1,g.opening=!1,a.data(document.body,"openedComboJQXListBoxParent",g),a.data(document.body,"openedComboJQXListBox"+g.element.id,h)}))}i._renderItems(),n?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),h.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),h.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))),h.addClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("0",i)}},doMultiSelect:function(b){this.checkboxes&&(this.multiSelect=!1);var c=this;if(!this.multiSelect){var d=c.dropdownlistContent.find(".jqx-button"),e="mousedown";return this.touch&&(e=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(d,e),this.removeHandler(d.find(".jqx-icon-close"),e),d.remove(),this.selectedItems=new Array,void(this._selectedItems=new Array)}if(this.validateSelection){var f=this.validateSelection(this.listBox.selectedValue);if(!f)return}this.selectedItems;if(this.listBox.selectedValue){if(-1===this.selectedItems.indexOf(this.listBox.selectedValue)){this.selectedItems.push(this.listBox.selectedValue);var g=this.getItemByValue(this.listBox.selectedValue);g&&(this._selectedItems.push(g),this._raiseEvent("2",{index:g.index,item:g}),this._raiseEvent("4",{index:g.index,item:g}))}this.listBox.selectedIndex=0}for(var h=this.listBox.items,i=0;i<h.length;i++)h[i].disabled=!1,(this.selectedItems.indexOf(h[i].value)>=0||this._disabledItems.indexOf(this.value)>=0)&&(h[i].disabled=!0);this.listBox._renderItems(),this.searchString="",this.input.val("");var h="",e="mousedown",d=c.dropdownlistContent.find(".jqx-button");this.touch&&(e=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(d,e),this.removeHandler(d.find(".jqx-icon-close"),e),d.remove(),c.input.detach(),this.selectedItems.length>0?(c.input.css("width","25px"),c.input.attr("placeholder","")):(c.input.css("width","100%"),c.input.attr("placeholder",this.placeHolder)),a.each(this.selectedItems,function(b){var d=c.getItemByValue(this);(!d||c.remoteAutoComplete)&&(d=c._selectedItems[b]);var e=a('<div style="overflow: hidden; float: left;"></div>');if(e.addClass(c.toThemeProperty("jqx-button")),e.addClass(c.toThemeProperty("jqx-combobox-multi-item")),e.addClass(c.toThemeProperty("jqx-fill-state-normal")),e.addClass(c.toThemeProperty("jqx-rc-all")),d){var f=d.label;""==e[0].innerHTML&&(e[0].innerHTML='<a data-value="'+d.value+'" style="float: left;" href="#">'+f+"</a>"),c.rtl&&(e[0].innerHTML='<a data-value="'+d.value+'" style="float: right;" href="#">'+f+"</a>");var g=c.rtl?"left":"right",h='<div style="position: relative; overflow: hidden; float: '+g+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+c.toThemeProperty("jqx-icon-close")+'"></div></div>';if(a.jqx.browser.msie&&a.jqx.browser.version<8&&(h='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+c.toThemeProperty("jqx-icon-close")+'"></div></div>'),c.rtl){var h='<div style="position: relative; overflow: hidden; float: '+g+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+c.toThemeProperty("jqx-icon-close")+'"></div></div>';a.jqx.browser.msie&&a.jqx.browser.version<8&&(h='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+c.toThemeProperty("jqx-icon-close")+'"></div></div>')}e[0].innerHTML+=h}else""==e[0].innerHTML&&(e[0].innerHTML='<a href="#"></a>');c.dropdownlistContent.append(e)}),c.dropdownlistContent.append(c.input),c.input.val(""),b!==!1&&(c.input.focus(),setTimeout(function(){c.input.focus()},10));var d=c.dropdownlistContent.find(".jqx-button");this.touchMode===!0&&(e="mousedown"),this.addHandler(d,e,function(b){if(b.target.className.indexOf("jqx-icon-close")>=0)return!0;var d=a(b.target).attr("data-value"),e=c.getItemByValue(d);return e&&(c.listBox.selectedValue=null,c.listBox.clearSelection()),c.listBox.scrollTo(0,0),c.open(),b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1}),this.addHandler(d.find(".jqx-icon-close"),e,function(b){if(!c.disabled){var d=a(b.target).parent().parent().find("a").attr("data-value"),e=c.getItemByValue(d);if(e){c.listBox.selectedValue=null;var f=c.selectedItems.indexOf(d);if(f>=0)c.selectedItems.splice(f,1),c._selectedItems.splice(f,1),c._raiseEvent("3",{index:e.index,type:"mouse",item:e}),c._raiseEvent("4",{index:e.index,type:"mouse",item:e}),c.doMultiSelect();else for(var g=0;g<c.selectedItems.length;g++){var h=c.selectedItems[g];if(h==d){c.selectedItems.splice(g,1),c._selectedItems.splice(g,1),c._raiseEvent("3",{index:e.index,type:"mouse",item:e}),c._raiseEvent("4",{index:e.index,type:"mouse",item:e}),c.doMultiSelect();break}}}}}),c.dropdownlistArrow.height(this.host.height()),c._updateInputSelection()},hideListBox:function(b){var c=this.listBoxContainer,d=this.listBox,e=this.container;if("none"!=this.container[0].style.display){a.jqx.aria(this,"aria-expanded",!1),("keyboard"==b||"mouse"==b)&&(this.listBox.searchString=""),("keyboard"==b||"mouse"==b&&this.multiSelect)&&this.doMultiSelect();var f=this;if(a.data(document.body,"openedComboJQXListBox"+this.element.id,null),"none"==this.animationType)this.opening=!1,this.container.css("display","none");else if(!this.ishiding){var g=c.outerHeight();c.css("margin-top",0),c.stop(),this.opening=!1,this.isanimating=!0;var h=-g;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(h=g),"fade"==this.animationType?(c.css({opacity:1}),c.animate({opacity:0},this.closeDelay,function(){f.isanimating=!1,e.css("display","none"),f.ishiding=!1})):c.animate({"margin-top":h},this.closeDelay,function(){f.isanimating=!1,e.css("display","none"),f.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),c.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),c.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),c.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this._raiseEvent("1",d)}},closeOpenedListBox:function(b){var c=b.data.me,d=a(b.target),e=b.data.listbox;if(null==e)return!0;if(!a(b.target).ischildof(b.data.me.host)){var f=!1;return a.each(d.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return f=!0,!1;if(-1!=this.className.indexOf("jqx-combobox"))return c.element.id==this.id&&(f=!0),!1}}),null==e||f||c.isOpened()&&(c.hideListBox("api"),c.input.blur()),!0}},loadFromSelect:function(a){this.listBox.loadFromSelect(a)},refresh:function(){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},resize:function(){this._setSize(),this._arrange()},_arrange:function(){var b=parseInt(this.host.width()),c=parseInt(this.host.height()),d=this.arrowSize,e=this.arrowSize,f=1;this.showArrow||(e=0,d=0,this.dropdownlistArrow.hide(),f=0,this.host.css("cursor","arrow"));var g=b-e-1*f;g>0&&(this.dropdownlistContent[0].style.width=g+"px"),this.rtl&&(this.dropdownlistContent[0].style.width=-1+g+"px"),this.dropdownlistContent[0].style.height=c+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=e+1+"px",this.dropdownlistArrow[0].style.height=c+"px",this.dropdownlistArrow[0].style.left=1+g+"px",this.input[0].style.width="100%";var h=this.input.height();0==h&&(h=parseInt(this.input.css("font-size"))+3),-1==this.input[0].className.indexOf("jqx-rc-all")&&this.input.addClass(this.toThemeProperty("jqx-rc-all"));var i=parseInt(c)/2-parseInt(h)/2;if(i>0&&(this.input[0].style.marginTop=parseInt(i)+"px"),this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),a.jqx.browser.msie&&a.jqx.browser.version<=8&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())),this.multiSelect){this.input.css("float","left"),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height);var c=parseInt(this.host.height());this.dropdownlistArrow.height(c);var j=parseInt(this.host.css("min-height")),i=parseInt(j)/2-parseInt(h)/2;i>0&&this.input.css("margin-top",i)}},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id)),a.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.removeHandler(this.input,"keyup.textchange"),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(a(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.cinput.remove(),delete this.cinput,this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,this.dropdownlistArrowIcon.remove(),delete this.dropdownlistArrowIcon,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.dropdownlistContent,delete this.comboStructure,this.container.remove(),delete this.listBox,delete this.container;var b=a.data(this.element,"jqxComboBox");b&&delete b.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a];args=b,args.owner=this;var d=new jQuery.Event(c);d.owner=this,(2==a||3==a||4==a||5==a)&&(d.args=b);var e=this.host.trigger(d);return e},propertyChangedHandler:function(b,c,d,e){if(void 0!=b.isInitialized&&0!=b.isInitialized){if("itemHeight"==c&&b.listBoxContainer.jqxListBox({itemHeight:e}),"renderSelectedItem"==c&&b.renderSelection("mouse"),"renderer"==c&&b.listBoxContainer.jqxListBox({renderer:e}),"enableSelection"==c&&b.listBoxContainer.jqxListBox({enableSelection:e}),"enableHover"==c&&b.listBoxContainer.jqxListBox({enableHover:e}),"touchMode"===c&&(b.listBoxContainer.jqxListBox({touchMode:e}),b.touch=a.jqx.mobile.isTouchDevice(),b.touchMode===!0&&(b.touch=!0),b._updateHandlers()),"multiSelect"==c&&(e?b.doMultiSelect(!1):(b.doMultiSelect(!1),b.dropdownlistWrapper.parent().css("height","100%"),b.dropdownlistContent.css("height","100"),b.dropdownlistWrapper.css("height","100"),b.dropdownlistContent.css("position","relative"),b.host.css("min-height",null),b._setSize(),b._arrange())),"showArrow"==c&&(b._arrange(),b.multiSelect&&b.doMultiSelect(!1)),"popupZIndex"==c&&b.listBoxContainer.css({zIndex:b.popupZIndex}),"promptText"==c&&(b.placeHolder=e),"autoOpen"==c&&b._updateHandlers(),"renderer"==c&&(b.listBox.renderer=b.renderer),"itemHeight"==c&&(b.listBox.itemHeight=e),"source"==c&&(b.input.val(""),b.listBoxContainer.jqxListBox({source:b.source}),b.renderSelection("mouse"),null==b.source&&b.clearSelection(),b.multiSelect&&(b.selectedItems=new Array,b._selectedItems=new Array,b.doMultiSelect(!1))),"rtl"==c&&(e?(b.dropdownlistArrow.css("float","left"),b.dropdownlistContent.css("float","right")):(b.dropdownlistArrow.css("float","right"),b.dropdownlistContent.css("float","left")),b.listBoxContainer.jqxListBox({rtl:b.rtl})),("displayMember"==c||"valueMember"==c)&&(b.listBoxContainer.jqxListBox({displayMember:b.displayMember,valueMember:b.valueMember}),b.renderSelection("mouse")),"autoDropDownHeight"==c&&(b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight}),b.autoDropDownHeight?b.container.height(b.listBoxContainer.height()+25):(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.container.height(parseInt(b.dropDownHeight)+25)),b.listBox._arrange(),b.listBox._updatescrollbars()),"dropDownHeight"==c&&(b.autoDropDownHeight||(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.container.height(parseInt(b.dropDownHeight)+25))),"dropDownWidth"==c||"scrollBarSize"==c){var f=b.width;"auto"!=b.dropDownWidth&&(f=b.dropDownWidth),b.listBoxContainer.jqxListBox({width:f,scrollBarSize:b.scrollBarSize}),b.container.width(parseInt(f)+25)}if("autoComplete"==c&&b._resetautocomplete(),"checkboxes"==c&&(b.listBoxContainer.jqxListBox({checkboxes:b.checkboxes}),b.checkboxes?(b.input.attr("readonly",!0),a.jqx.aria(b,"aria-readonly",!0)):a.jqx.aria(b,"aria-readonly",!1)),"theme"==c&&null!=e&&(b.listBoxContainer.jqxListBox({theme:e}),b.listBoxContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&b.listBoxContainer.addClass(b.toThemeProperty("jqx-noshadow")),b.dropdownlistContent.removeClass(),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-widget-content")),b.input.removeClass(),b.input.addClass(b.toThemeProperty("jqx-combobox-input")),b.input.addClass(this.toThemeProperty("jqx-widget-content")),b.host.removeClass(),b.host.addClass(b.toThemeProperty("jqx-combobox-state-normal")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.host.addClass(b.toThemeProperty("jqx-widget-content")),b.dropdownlistArrow.removeClass(),b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon-arrow-down")),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-combobox-arrow-normal")),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-fill-state-normal"))),"rtl"==c&&(b.render(),b.refresh()),"width"==c||"height"==c){if(b._setSize(),"width"==c&&"auto"==b.dropDownWidth){var f=b.host.width();b.listBoxContainer.jqxListBox({width:f}),b.container.width(parseInt(f)+25)}b._arrange()}"selectedIndex"==c&&(b.listBox.selectIndex(e),b.renderSelection("mouse"))}}})}(jQuery);